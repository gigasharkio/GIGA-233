{"ast":null,"code":"import _regeneratorRuntime from \"/root/gshark/Three.js/Gigashark-v2/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/root/gshark/Three.js/Gigashark-v2/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _classCallCheck from \"/root/gshark/Three.js/Gigashark-v2/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/root/gshark/Three.js/Gigashark-v2/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _assertThisInitialized from \"/root/gshark/Three.js/Gigashark-v2/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";\nimport _get from \"/root/gshark/Three.js/Gigashark-v2/node_modules/@babel/runtime/helpers/esm/get.js\";\nimport _getPrototypeOf from \"/root/gshark/Three.js/Gigashark-v2/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\";\nimport _inherits from \"/root/gshark/Three.js/Gigashark-v2/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/root/gshark/Three.js/Gigashark-v2/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport OpenLogin, { OPENLOGIN_NETWORK, UX_MODE, getHashQueryParams, SUPPORTED_KEY_CURVES } from '@toruslabs/openlogin';\nimport { getChainConfig, BaseAdapter, WALLET_ADAPTERS, ADAPTER_NAMESPACES, ADAPTER_CATEGORY, ADAPTER_STATUS, CHAIN_NAMESPACES, log, WalletInitializationError, ADAPTER_EVENTS, WalletLoginError } from '@web3auth/base';\nimport _defineProperty from '@babel/runtime/helpers/defineProperty';\nimport { CommonPrivateKeyProvider } from '@web3auth/base-provider';\nimport merge from 'lodash.merge';\n\nvar getOpenloginDefaultOptions = function getOpenloginDefaultOptions(chainNamespace, chainId) {\n  return {\n    adapterSettings: {\n      network: OPENLOGIN_NETWORK.MAINNET,\n      clientId: \"\",\n      uxMode: UX_MODE.POPUP\n    },\n    chainConfig: chainNamespace ? getChainConfig(chainNamespace, chainId) : null,\n    loginSettings: {}\n  };\n};\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}\n\nvar OpenloginAdapter = /*#__PURE__*/function (_BaseAdapter) {\n  _inherits(OpenloginAdapter, _BaseAdapter);\n\n  var _super = _createSuper(OpenloginAdapter);\n\n  function OpenloginAdapter(params) {\n    var _this;\n\n    _classCallCheck(this, OpenloginAdapter);\n\n    var _params$chainConfig, _params$chainConfig2, _params$chainConfig3;\n\n    _this = _super.call(this);\n\n    _defineProperty(_assertThisInitialized(_this), \"name\", WALLET_ADAPTERS.OPENLOGIN);\n\n    _defineProperty(_assertThisInitialized(_this), \"adapterNamespace\", ADAPTER_NAMESPACES.MULTICHAIN);\n\n    _defineProperty(_assertThisInitialized(_this), \"type\", ADAPTER_CATEGORY.IN_APP);\n\n    _defineProperty(_assertThisInitialized(_this), \"openloginInstance\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"status\", ADAPTER_STATUS.NOT_READY);\n\n    _defineProperty(_assertThisInitialized(_this), \"currentChainNamespace\", CHAIN_NAMESPACES.EIP155);\n\n    _defineProperty(_assertThisInitialized(_this), \"openloginOptions\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"loginSettings\", {});\n\n    _defineProperty(_assertThisInitialized(_this), \"privKeyProvider\", null);\n\n    log.debug(\"const openlogin adapter\", params);\n    var defaultOptions = getOpenloginDefaultOptions((_params$chainConfig = params.chainConfig) === null || _params$chainConfig === void 0 ? void 0 : _params$chainConfig.chainNamespace, (_params$chainConfig2 = params.chainConfig) === null || _params$chainConfig2 === void 0 ? void 0 : _params$chainConfig2.chainId);\n    _this.openloginOptions = _objectSpread(_objectSpread({\n      clientId: \"\",\n      network: OPENLOGIN_NETWORK.MAINNET\n    }, defaultOptions.adapterSettings), params.adapterSettings || {});\n    _this.loginSettings = _objectSpread(_objectSpread({}, defaultOptions.loginSettings), params.loginSettings); // if no chainNamespace is passed then chain config should be set before calling init\n\n    if ((_params$chainConfig3 = params.chainConfig) !== null && _params$chainConfig3 !== void 0 && _params$chainConfig3.chainNamespace) {\n      var _params$chainConfig4;\n\n      _this.currentChainNamespace = (_params$chainConfig4 = params.chainConfig) === null || _params$chainConfig4 === void 0 ? void 0 : _params$chainConfig4.chainNamespace;\n      var defaultChainIdConfig = defaultOptions.chainConfig ? defaultOptions.chainConfig : {};\n      _this.chainConfig = _objectSpread(_objectSpread({}, defaultChainIdConfig), params === null || params === void 0 ? void 0 : params.chainConfig);\n      log.debug(\"const openlogin chainConfig\", _this.chainConfig);\n\n      if (!_this.chainConfig.rpcTarget && params.chainConfig.chainNamespace !== CHAIN_NAMESPACES.OTHER) {\n        throw WalletInitializationError.invalidParams(\"rpcTarget is required in chainConfig\");\n      }\n    }\n\n    return _this;\n  }\n\n  _createClass(OpenloginAdapter, [{\n    key: \"chainConfigProxy\",\n    get: function get() {\n      return this.chainConfig ? _objectSpread({}, this.chainConfig) : null;\n    }\n  }, {\n    key: \"provider\",\n    get: function get() {\n      var _this$privKeyProvider;\n\n      return ((_this$privKeyProvider = this.privKeyProvider) === null || _this$privKeyProvider === void 0 ? void 0 : _this$privKeyProvider.provider) || null;\n    },\n    set: function set(_) {\n      throw new Error(\"Not implemented\");\n    }\n  }, {\n    key: \"init\",\n    value: function () {\n      var _init = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(options) {\n        var _this$openloginOption, isRedirectResult, redirectResult;\n\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _get(_getPrototypeOf(OpenloginAdapter.prototype), \"checkInitializationRequirements\", this).call(this);\n\n                if ((_this$openloginOption = this.openloginOptions) !== null && _this$openloginOption !== void 0 && _this$openloginOption.clientId) {\n                  _context.next = 3;\n                  break;\n                }\n\n                throw WalletInitializationError.invalidParams(\"clientId is required before openlogin's initialization\");\n\n              case 3:\n                if (this.chainConfig) {\n                  _context.next = 5;\n                  break;\n                }\n\n                throw WalletInitializationError.invalidParams(\"chainConfig is required before initialization\");\n\n              case 5:\n                isRedirectResult = false;\n\n                if (this.openloginOptions.uxMode === UX_MODE.REDIRECT) {\n                  redirectResult = getHashQueryParams();\n\n                  if (Object.keys(redirectResult).length > 0 && redirectResult._pid) {\n                    isRedirectResult = true;\n                  }\n                }\n\n                this.openloginOptions = _objectSpread(_objectSpread({}, this.openloginOptions), {}, {\n                  replaceUrlOnRedirect: isRedirectResult\n                });\n                this.openloginInstance = new OpenLogin(this.openloginOptions);\n                log.debug(\"initializing openlogin adapter init\");\n                _context.next = 12;\n                return this.openloginInstance.init();\n\n              case 12:\n                this.status = ADAPTER_STATUS.READY;\n                this.emit(ADAPTER_EVENTS.READY, WALLET_ADAPTERS.OPENLOGIN);\n                _context.prev = 14;\n                log.debug(\"initializing openlogin adapter\"); // connect only if it is redirect result or if connect (adapter is cached/already connected in same session) is true\n\n                if (!(this.openloginInstance.privKey && (options.autoConnect || isRedirectResult))) {\n                  _context.next = 19;\n                  break;\n                }\n\n                _context.next = 19;\n                return this.connect();\n\n              case 19:\n                _context.next = 25;\n                break;\n\n              case 21:\n                _context.prev = 21;\n                _context.t0 = _context[\"catch\"](14);\n                log.error(\"Failed to connect with cached openlogin provider\", _context.t0);\n                this.emit(\"ERRORED\", _context.t0);\n\n              case 25:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[14, 21]]);\n      }));\n\n      function init(_x) {\n        return _init.apply(this, arguments);\n      }\n\n      return init;\n    }()\n  }, {\n    key: \"connect\",\n    value: function () {\n      var _connect = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(params) {\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _get(_getPrototypeOf(OpenloginAdapter.prototype), \"checkConnectionRequirements\", this).call(this);\n\n                this.status = ADAPTER_STATUS.CONNECTING;\n                this.emit(ADAPTER_EVENTS.CONNECTING, _objectSpread(_objectSpread({}, params), {}, {\n                  adapter: WALLET_ADAPTERS.OPENLOGIN\n                }));\n                _context2.prev = 3;\n                _context2.next = 6;\n                return this.connectWithProvider(params);\n\n              case 6:\n                return _context2.abrupt(\"return\", this.provider);\n\n              case 9:\n                _context2.prev = 9;\n                _context2.t0 = _context2[\"catch\"](3);\n                log.error(\"Failed to connect with openlogin provider\", _context2.t0); // ready again to be connected\n\n                this.status = ADAPTER_STATUS.READY;\n                this.emit(ADAPTER_EVENTS.ERRORED, _context2.t0);\n\n                if (!(_context2.t0 !== null && _context2.t0 !== void 0 && _context2.t0.message.includes(\"user closed popup\"))) {\n                  _context2.next = 16;\n                  break;\n                }\n\n                throw WalletLoginError.popupClosed();\n\n              case 16:\n                throw WalletLoginError.connectionError(\"Failed to login with openlogin\");\n\n              case 17:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this, [[3, 9]]);\n      }));\n\n      function connect(_x2) {\n        return _connect.apply(this, arguments);\n      }\n\n      return connect;\n    }()\n  }, {\n    key: \"disconnect\",\n    value: function () {\n      var _disconnect = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {\n        var options,\n            _args3 = arguments;\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                options = _args3.length > 0 && _args3[0] !== undefined ? _args3[0] : {\n                  cleanup: false\n                };\n\n                if (!(this.status !== ADAPTER_STATUS.CONNECTED)) {\n                  _context3.next = 3;\n                  break;\n                }\n\n                throw WalletLoginError.notConnectedError(\"Not connected with wallet\");\n\n              case 3:\n                if (this.openloginInstance) {\n                  _context3.next = 5;\n                  break;\n                }\n\n                throw WalletInitializationError.notReady(\"openloginInstance is not ready\");\n\n              case 5:\n                _context3.next = 7;\n                return this.openloginInstance.logout();\n\n              case 7:\n                if (options.cleanup) {\n                  this.status = ADAPTER_STATUS.NOT_READY;\n                  this.openloginInstance = null;\n                  this.privKeyProvider = null;\n                } else {\n                  // ready to be connected again\n                  this.status = ADAPTER_STATUS.READY;\n                }\n\n                this.emit(ADAPTER_EVENTS.DISCONNECTED);\n\n              case 9:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function disconnect() {\n        return _disconnect.apply(this, arguments);\n      }\n\n      return disconnect;\n    }()\n  }, {\n    key: \"getUserInfo\",\n    value: function () {\n      var _getUserInfo = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4() {\n        var userInfo;\n        return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                if (!(this.status !== ADAPTER_STATUS.CONNECTED)) {\n                  _context4.next = 2;\n                  break;\n                }\n\n                throw WalletLoginError.notConnectedError(\"Not connected with wallet\");\n\n              case 2:\n                if (this.openloginInstance) {\n                  _context4.next = 4;\n                  break;\n                }\n\n                throw WalletInitializationError.notReady(\"openloginInstance is not ready\");\n\n              case 4:\n                _context4.next = 6;\n                return this.openloginInstance.getUserInfo();\n\n              case 6:\n                userInfo = _context4.sent;\n                return _context4.abrupt(\"return\", userInfo);\n\n              case 8:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function getUserInfo() {\n        return _getUserInfo.apply(this, arguments);\n      }\n\n      return getUserInfo;\n    }() // should be called only before initialization.\n\n  }, {\n    key: \"setAdapterSettings\",\n    value: function setAdapterSettings(adapterSettings) {\n      if (this.status === ADAPTER_STATUS.READY) return;\n      var defaultOptions = getOpenloginDefaultOptions();\n      this.openloginOptions = _objectSpread(_objectSpread(_objectSpread({}, defaultOptions.adapterSettings), this.openloginOptions || {}), adapterSettings);\n    } // should be called only before initialization.\n\n  }, {\n    key: \"setChainConfig\",\n    value: function setChainConfig(customChainConfig) {\n      _get(_getPrototypeOf(OpenloginAdapter.prototype), \"setChainConfig\", this).call(this, customChainConfig);\n\n      this.currentChainNamespace = customChainConfig.chainNamespace;\n    }\n  }, {\n    key: \"connectWithProvider\",\n    value: function () {\n      var _connectWithProvider = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5(params) {\n        var _yield$import, SolanaPrivateKeyProvider, _yield$import2, EthereumPrivateKeyProvider, _params$extraLoginOpt, finalPrivKey, _yield$import3, getED25519Key;\n\n        return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                if (this.chainConfig) {\n                  _context5.next = 2;\n                  break;\n                }\n\n                throw WalletInitializationError.invalidParams(\"chainConfig is required before initialization\");\n\n              case 2:\n                if (this.openloginInstance) {\n                  _context5.next = 4;\n                  break;\n                }\n\n                throw WalletInitializationError.notReady(\"openloginInstance is not ready\");\n\n              case 4:\n                if (!(this.currentChainNamespace === CHAIN_NAMESPACES.SOLANA)) {\n                  _context5.next = 12;\n                  break;\n                }\n\n                _context5.next = 7;\n                return import('@web3auth/solana-provider');\n\n              case 7:\n                _yield$import = _context5.sent;\n                SolanaPrivateKeyProvider = _yield$import.SolanaPrivateKeyProvider;\n                this.privKeyProvider = new SolanaPrivateKeyProvider({\n                  config: {\n                    chainConfig: this.chainConfig\n                  }\n                });\n                _context5.next = 25;\n                break;\n\n              case 12:\n                if (!(this.currentChainNamespace === CHAIN_NAMESPACES.EIP155)) {\n                  _context5.next = 20;\n                  break;\n                }\n\n                _context5.next = 15;\n                return import('@web3auth/ethereum-provider');\n\n              case 15:\n                _yield$import2 = _context5.sent;\n                EthereumPrivateKeyProvider = _yield$import2.EthereumPrivateKeyProvider;\n                this.privKeyProvider = new EthereumPrivateKeyProvider({\n                  config: {\n                    chainConfig: this.chainConfig\n                  }\n                });\n                _context5.next = 25;\n                break;\n\n              case 20:\n                if (!(this.currentChainNamespace === CHAIN_NAMESPACES.OTHER)) {\n                  _context5.next = 24;\n                  break;\n                }\n\n                this.privKeyProvider = new CommonPrivateKeyProvider();\n                _context5.next = 25;\n                break;\n\n              case 24:\n                throw new Error(\"Invalid chainNamespace: \".concat(this.currentChainNamespace, \" found while connecting to wallet\"));\n\n              case 25:\n                if (!(!this.openloginInstance.privKey && params)) {\n                  _context5.next = 29;\n                  break;\n                }\n\n                if (!this.loginSettings.curve) {\n                  this.loginSettings.curve = this.currentChainNamespace === CHAIN_NAMESPACES.SOLANA ? SUPPORTED_KEY_CURVES.ED25519 : SUPPORTED_KEY_CURVES.SECP256K1;\n                }\n\n                _context5.next = 29;\n                return this.openloginInstance.login(merge(this.loginSettings, {\n                  loginProvider: params.loginProvider\n                }, {\n                  extraLoginOptions: _objectSpread(_objectSpread({}, params.extraLoginOptions || {}), {}, {\n                    login_hint: params.login_hint || ((_params$extraLoginOpt = params.extraLoginOptions) === null || _params$extraLoginOpt === void 0 ? void 0 : _params$extraLoginOpt.login_hint)\n                  })\n                }));\n\n              case 29:\n                finalPrivKey = this.openloginInstance.privKey;\n\n                if (!finalPrivKey) {\n                  _context5.next = 41;\n                  break;\n                }\n\n                if (!(this.currentChainNamespace === CHAIN_NAMESPACES.SOLANA)) {\n                  _context5.next = 37;\n                  break;\n                }\n\n                _context5.next = 34;\n                return import('@toruslabs/openlogin-ed25519');\n\n              case 34:\n                _yield$import3 = _context5.sent;\n                getED25519Key = _yield$import3.getED25519Key;\n                finalPrivKey = getED25519Key(finalPrivKey).sk.toString(\"hex\");\n\n              case 37:\n                _context5.next = 39;\n                return this.privKeyProvider.setupProvider(finalPrivKey);\n\n              case 39:\n                this.status = ADAPTER_STATUS.CONNECTED;\n                this.emit(ADAPTER_EVENTS.CONNECTED, {\n                  adapter: WALLET_ADAPTERS.OPENLOGIN,\n                  reconnected: !params\n                });\n\n              case 41:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this);\n      }));\n\n      function connectWithProvider(_x3) {\n        return _connectWithProvider.apply(this, arguments);\n      }\n\n      return connectWithProvider;\n    }()\n  }]);\n\n  return OpenloginAdapter;\n}(BaseAdapter);\n\nexport { OpenloginAdapter, getOpenloginDefaultOptions };","map":{"version":3,"mappings":";;;;;;;;;;;;;;;IAKaA,0BAA0B,GAAG,SAA7BA,0BAA6B,CAACC,cAAD,EAAsCC,OAAtC,EAA4F;EACpI,OAAO;IACLC,eAAe,EAAE;MACfC,OAAO,EAAEC,iBAAiB,CAACC,OADZ;MAEfC,QAAQ,EAAE,EAFK;MAGfC,MAAM,EAAEC,OAAO,CAACC;IAHD,CADZ;IAMLC,WAAW,EAAEV,cAAc,GAAGW,cAAc,CAACX,cAAD,EAAiBC,OAAjB,CAAjB,GAA6C,IANnE;IAOLW,aAAa,EAAE;EAPV,CAAP;AASD;;;;;;;;;;;;;;;;;;;;;;;;;;;;ICoBYC,gB;;;;;EAmBXC,0BAAYC,MAAZD,EAA2C;IAAA;;IAAA;;IAAA;;IACzC;;IADyCE,eAlBnBC,uDAAe,CAACC,SAAhBD,CAkBmB;;IAAAD,eAhBOG,sEAAkB,CAACC,UAAnBD,CAgBP;;IAAAH,eAdJK,wDAAgB,CAACC,MAAjBD,CAcI;;IAAAL,oEAZE,IAYF;;IAAAA,eAVNO,wDAAc,CAACC,SAAfD,CAUM;;IAAAP,eARQS,yEAAgB,CAACC,MAAjBD,CAQR;;IAAAT;;IAAAA,gEAJJ,EAII;;IAAAA,kEAFU,IAEV;;IAEzCW,GAAG,CAACC,KAAJD,CAAU,yBAAVA,EAAqCZ,MAArCY;IACA,IAAME,cAAc,GAAG9B,0BAA0B,CAACgB,6BAAM,CAACL,WAAPK,MAAD,IAACA,IAADe,8BAACf,GAAD,MAACA,sBAAoBf,eAArB,0BAAqCe,MAAM,CAACL,WAA5C,MAAqC,IAArC,IAAqCqB,+BAArC,GAAqC,MAArC,GAAqCA,qBAAoB9B,OAAzD,CAAjD;IACA,MAAK+B,gBAAL;MACE1B,QAAQ,EAAE,EADZ;MAEEH,OAAO,EAAEC,iBAAiB,CAACC;IAF7B,GAGKwB,cAAc,CAAC3B,eAHpB,GAIMa,MAAM,CAACb,eAAPa,IAA0B,EAJhC;IAMA,MAAKH,aAAL,GAA0BiB,8CAAc,CAACjB,aAAfiB,GAAiCd,MAAM,CAACH,aAAxCiB,CAA1B,CAVyC;;IAYzC,4BAAId,MAAM,CAACL,WAAX,MAAI,IAAJ,IAAIuB,+BAAJ,IAAIA,qBAAoBjC,cAAxB,EAAwC;MAAA;;MACtC,MAAKkC,qBAAL,GAA6BnB,8BAAM,CAACL,WAAPK,MAA7B,IAA6BA,IAA7BoB,+BAA6BpB,GAA7B,MAA6BA,wBAAoBf,cAAjD;MACA,IAAMoC,oBAAoB,GAAGP,cAAc,CAACnB,WAAfmB,GAA6BA,cAAc,CAACnB,WAA5CmB,GAA0D,EAAvF;MACA,MAAKnB,WAAL,GAAwB0B,uDAAyBrB,MAAjD,SAAiDA,UAAjD,WAAiDA,GAAjD,MAAiDA,SAAM,CAAEL,WAAjC0B,CAAxB;MACAT,GAAG,CAACC,KAAJD,CAAU,6BAAVA,EAAyC,MAAKjB,WAA9CiB;;MACA,IAAI,CAAC,MAAKjB,WAAL,CAAiB2B,SAAlB,IAA+BtB,MAAM,CAACL,WAAPK,CAAmBf,cAAnBe,KAAsCU,gBAAgB,CAACa,KAA1F,EAAiG;QAC/F,MAAMC,yBAAyB,CAACC,aAA1BD,CAAwC,sCAAxCA,CAAN;MACD;IACF;;IApBwC;EAqB1C;;;;SAEmB;MAClB,OAAO,KAAK7B,WAAL,qBAAwB,KAAKA,WAA7B,IAA6C,IAApD;IACD;;;SAEW;MAAA;;MACV,OAAO,CAAK+B,mDAAiBC,IAAjBD,IAAiBC,gCAAjBD,GAAiBC,MAAjBD,GAAiBC,8BAAtB,KAAkC,IAAzC;IACD,C;SAEW,aAACC,CAAD,EAAmC;MAC7C,MAAM,IAAIC,KAAJ,CAAU,iBAAV,CAAN;IACD;;;;6EAES,iBAACC,OAAD;QAAA;;QAAA;UAAA;YAAA;cAAA;gBACR;;gBADQ,IAEH,8BAAKb,gBAAL,MAAD,IAAC,IAADc,gCAAC,0BAAuBxC,QAFpB;kBAAA;kBAAA;gBAAA;;gBAAA,MAEoCiC,yBAAyB,CAACC,aAA1BD,CAAwC,wDAAxCA,CAFpC;;cAAA;gBAAA,IAGH,KAAK7B,WAHF;kBAAA;kBAAA;gBAAA;;gBAAA,MAGqB6B,yBAAyB,CAACC,aAA1BD,CAAwC,+CAAxCA,CAHrB;;cAAA;gBAIJQ,gBAJI,GAIe,KAJf;;gBAMR,IAAI,KAAKf,gBAAL,CAAsBzB,MAAtB,KAAiCC,OAAO,CAACwC,QAA7C,EAAuD;kBAC/CC,cAD+C,GAC9BC,kBAAkB,EADY;;kBAErD,IAAIC,MAAM,CAACC,IAAPD,CAAYF,cAAZE,EAA4BE,MAA5BF,GAAqC,CAArCA,IAA0CF,cAAc,CAACK,IAA7D,EAAmE;oBACjEP,gBAAgB,GAAG,IAAnBA;kBACD;gBACF;;gBACD,KAAKf,gBAAL,GACKuB,qCAAKvB,gBAAL,GADL,EACK,EADL;kBAEEwB,oBAAoB,EAAET;gBAFxB,CACK,CADL;gBAIA,KAAKU,iBAAL,GAAyB,IAAIC,SAAJ,CAAc,KAAK1B,gBAAnB,CAAzB;gBACAL,GAAG,CAACC,KAAJD,CAAU,qCAAVA;gBAjBQ;gBAAA,OAmBF,KAAK8B,iBAAL,CAAuBE,IAAvB,EAnBE;;cAAA;gBAqBR,KAAKC,MAAL,GAAcrC,cAAc,CAACsC,KAA7B;gBACA,KAAKC,IAAL,CAAUC,cAAc,CAACF,KAAzB,EAAgC5C,eAAe,CAACC,SAAhD;gBAtBQ;gBAyBNS,GAAG,CAACC,KAAJD,CAAU,gCAAVA,EAzBM,CAwBJ;;gBAxBI,MA2BF,KAAK8B,iBAAL,CAAuBO,OAAvB,KAAmCnB,OAAO,CAACoB,WAARpB,IAAuBE,gBAA1D,CA3BE;kBAAA;kBAAA;gBAAA;;gBAAA;gBAAA,OA4BE,KAAKmB,OAAL,EA5BF;;cAAA;gBAAA;gBAAA;;cAAA;gBAAA;gBAAA;gBA+BNvC,GAAG,CAACwC,KAAJxC,CAAU,kDAAVA;gBACA,KAAKmC,IAAL,CAAU,SAAV;;cAhCM;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,C;;;;;;;;;;;gFAoCG,kBAAC/C,MAAD;QAAA;UAAA;YAAA;cAAA;gBACX;;gBACA,KAAK6C,MAAL,GAAcrC,cAAc,CAAC6C,UAA7B;gBACA,KAAKN,IAAL,CAAUC,cAAc,CAACK,UAAzB,kCAA0CrD,MAA1C;kBAAkDsD,OAAO,EAAEpD,eAAe,CAACC;gBAA3E;gBAHW;gBAAA;gBAAA,OAKH,KAAKoD,mBAAL,CAAyBvD,MAAzB,CALG;;cAAA;gBAAA,kCAMF,KAAK2B,QANH;;cAAA;gBAAA;gBAAA;gBAQTf,GAAG,CAACwC,KAAJxC,CAAU,2CAAVA,gBARS,CAOc;;gBAGvB,KAAKiC,MAAL,GAAcrC,cAAc,CAACsC,KAA7B;gBACA,KAAKC,IAAL,CAAUC,cAAc,CAACQ,OAAzB;;gBAXS,MAYJJ,iBAAL,IAAKA,qBAAL,MAAKA,iBAAiBK,OAAjBL,CAAyBM,QAAzBN,CAAkC,mBAAlCA,CAZI;kBAAA;kBAAA;gBAAA;;gBAAA,MAaDO,gBAAgB,CAACC,WAAjBD,EAbC;;cAAA;gBAAA,MAeHA,gBAAgB,CAACE,eAAjBF,CAAiC,gCAAjCA,CAfG;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,C;;;;;;;;;;;mFAmBG;QAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAC7B,OAAD,GAAiC;kBAAEgC,OAAO,EAAE;gBAAX,CAAjC;;gBAAA,MACV,KAAKjB,MAAL,KAAgBrC,cAAc,CAACuD,SADrB;kBAAA;kBAAA;gBAAA;;gBAAA,MACsCJ,gBAAgB,CAACK,iBAAjBL,CAAmC,2BAAnCA,CADtC;;cAAA;gBAAA,IAET,KAAKjB,iBAFI;kBAAA;kBAAA;gBAAA;;gBAAA,MAEqBlB,yBAAyB,CAACyC,QAA1BzC,CAAmC,gCAAnCA,CAFrB;;cAAA;gBAAA;gBAAA,OAGR,KAAKkB,iBAAL,CAAuBwB,MAAvB,EAHQ;;cAAA;gBAId,IAAIpC,OAAO,CAACgC,OAAZ,EAAqB;kBACnB,KAAKjB,MAAL,GAAcrC,cAAc,CAACC,SAA7B;kBACA,KAAKiC,iBAAL,GAAyB,IAAzB;kBACA,KAAKhB,eAAL,GAAuB,IAAvB;gBAHF,OAIO;kBACL;kBACA,KAAKmB,MAAL,GAAcrC,cAAc,CAACsC,KAA7B;gBACD;;gBAED,KAAKC,IAAL,CAAUC,cAAc,CAACmB,YAAzB;;cAbc;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,C;;;;;;;;;;;oFAgBC;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA,MACX,KAAKtB,MAAL,KAAgBrC,cAAc,CAACuD,SADpB;kBAAA;kBAAA;gBAAA;;gBAAA,MACqCJ,gBAAgB,CAACK,iBAAjBL,CAAmC,2BAAnCA,CADrC;;cAAA;gBAAA,IAEV,KAAKjB,iBAFK;kBAAA;kBAAA;gBAAA;;gBAAA,MAEoBlB,yBAAyB,CAACyC,QAA1BzC,CAAmC,gCAAnCA,CAFpB;;cAAA;gBAAA;gBAAA,OAGQ,KAAKkB,iBAAL,CAAuB0B,WAAvB,EAHR;;cAAA;gBAGTC,QAHS;gBAAA,kCAIRA,QAJQ;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,C;;;;;;;QA7HoD;;;;WAqIrEC,4BAAmBnF,eAAnBmF,EAAoD;MAClD,IAAI,KAAKzB,MAAL,KAAgBrC,cAAc,CAACsC,KAAnC,EAA0C;MAC1C,IAAMhC,cAAc,GAAG9B,0BAA0B,EAAjD;MACA,KAAKiC,gBAAL,GAA6BH,4DAAc,CAAC3B,eAAf2B,GAAoC,KAAKG,gBAAL,IAAyB,EAA7DH,GAAqE3B,eAArE2B,CAA7B;IAxImE,C,CAAA;;;;WA4IrEyD,wBAAeC,iBAAfD,EAAmD;MACjD,qFAAqBC,iBAArB;;MACA,KAAKrD,qBAAL,GAA6BqD,iBAAiB,CAACvF,cAA/C;IACD;;;;4FAEgC,kBAACe,MAAD;QAAA;;QAAA;UAAA;YAAA;cAAA;gBAAA,IAC1B,KAAKL,WADqB;kBAAA;kBAAA;gBAAA;;gBAAA,MACF6B,yBAAyB,CAACC,aAA1BD,CAAwC,+CAAxCA,CADE;;cAAA;gBAAA,IAE1B,KAAKkB,iBAFqB;kBAAA;kBAAA;gBAAA;;gBAAA,MAEIlB,yBAAyB,CAACyC,QAA1BzC,CAAmC,gCAAnCA,CAFJ;;cAAA;gBAAA,MAI3B,KAAKL,qBAAL,KAA+BT,gBAAgB,CAAC+D,MAJrB;kBAAA;kBAAA;gBAAA;;gBAAA;gBAAA,OAKc,OAAO,2BAAP,CALd;;cAAA;gBAAA;gBAKrBC,wBALqB,iBAKrBA,wBALqB;gBAM7B,KAAKhD,eAAL,GAAuB,IAAIgD,wBAAJ,CAA6B;kBAAEC,MAAM,EAAE;oBAAEhF,WAAW,EAAE,KAAKA;kBAApB;gBAAV,CAA7B,CAAvB;gBAN6B;gBAAA;;cAAA;gBAAA,MAOpB,KAAKwB,qBAAL,KAA+BT,gBAAgB,CAACC,MAP5B;kBAAA;kBAAA;gBAAA;;gBAAA;gBAAA,OAQgB,OAAO,6BAAP,CARhB;;cAAA;gBAAA;gBAQrBiE,0BARqB,kBAQrBA,0BARqB;gBAS7B,KAAKlD,eAAL,GAAuB,IAAIkD,0BAAJ,CAA+B;kBAAED,MAAM,EAAE;oBAAEhF,WAAW,EAAE,KAAKA;kBAApB;gBAAV,CAA/B,CAAvB;gBAT6B;gBAAA;;cAAA;gBAAA,MAUpB,KAAKwB,qBAAL,KAA+BT,gBAAgB,CAACa,KAV5B;kBAAA;kBAAA;gBAAA;;gBAW7B,KAAKG,eAAL,GAAuB,IAAImD,wBAAJ,EAAvB;gBAX6B;gBAAA;;cAAA;gBAAA,MAavB,IAAIhD,KAAJ,CAAqC,uCAAKV,qBAAL,EAA3C,mCAA2C,CAArC,CAbuB;;cAAA;gBAAA,MAgB3B,CAAC,KAAKuB,iBAAL,CAAuBO,OAAxB,IAAmCjD,MAhBR;kBAAA;kBAAA;gBAAA;;gBAiB7B,IAAI,CAAC,KAAKH,aAAL,CAAmBiF,KAAxB,EAA+B;kBAC7B,KAAKjF,aAAL,CAAmBiF,KAAnB,GACE,KAAK3D,qBAAL,KAA+BT,gBAAgB,CAAC+D,MAAhD,GAAyDM,oBAAoB,CAACC,OAA9E,GAAwFD,oBAAoB,CAACE,SAD/G;gBAED;;gBApB4B;gBAAA,OAqBvB,KAAKvC,iBAAL,CAAuBwC,KAAvB,CACJC,KAAK,CACH,KAAKtF,aADF,EAEH;kBAAEuF,aAAa,EAAEpF,MAAM,CAACoF;gBAAxB,CAFG,EAGH;kBAAEC,iBAAiB,EAAQrF,sCAAM,CAACqF,iBAAPrF,IAA4B,EAA5BA,GAAR,EAAQA,EAAR;oBAAyCsF,UAAU,EAAEtF,MAAM,CAACsF,UAAPtF,8BAAqBA,MAAM,CAACqF,iBAA5B,MAAqB,IAArB,IAAqBE,gCAArB,GAAqB,MAArB,GAAqBA,sBAA0BD,UAA/CtF;kBAArD,CAAQA;gBAA3B,CAHG,CADD,CArBuB;;cAAA;gBA6B3BwF,YA7B2B,GA6BZ,KAAK9C,iBAAL,CAAuBO,OA7BX;;gBAAA,KA8B3BuC,YA9B2B;kBAAA;kBAAA;gBAAA;;gBAAA,MA+BzB,KAAKrE,qBAAL,KAA+BT,gBAAgB,CAAC+D,MA/BvB;kBAAA;kBAAA;gBAAA;;gBAAA;gBAAA,OAgCK,OAAO,8BAAP,CAhCL;;cAAA;gBAAA;gBAgCnBgB,aAhCmB,kBAgCnBA,aAhCmB;gBAiC3BD,YAAY,GAAGC,aAAa,CAACD,YAAD,CAAbC,CAA4BC,EAA5BD,CAA+BE,QAA/BF,CAAwC,KAAxCA,CAAfD;;cAjC2B;gBAAA;gBAAA,OAmCvB,KAAK9D,eAAL,CAAqBkE,aAArB,CAAmCJ,YAAnC,CAnCuB;;cAAA;gBAoC7B,KAAK3C,MAAL,GAAcrC,cAAc,CAACuD,SAA7B;gBACA,KAAKhB,IAAL,CAAUC,cAAc,CAACe,SAAzB,EAAoC;kBAAET,OAAO,EAAEpD,eAAe,CAACC,SAA3B;kBAAsC0F,WAAW,EAAE,CAAC7F;gBAApD,CAApC;;cArC6B;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,C;;;;;;;;;;;EAjJG8F,W","names":["getOpenloginDefaultOptions","chainNamespace","chainId","adapterSettings","network","OPENLOGIN_NETWORK","MAINNET","clientId","uxMode","UX_MODE","POPUP","chainConfig","getChainConfig","loginSettings","OpenloginAdapter","constructor","params","_defineProperty","WALLET_ADAPTERS","OPENLOGIN","ADAPTER_NAMESPACES","MULTICHAIN","ADAPTER_CATEGORY","IN_APP","ADAPTER_STATUS","NOT_READY","CHAIN_NAMESPACES","EIP155","log","debug","defaultOptions","_params$chainConfig","_params$chainConfig2","openloginOptions","_params$chainConfig3","currentChainNamespace","_params$chainConfig4","defaultChainIdConfig","rpcTarget","OTHER","WalletInitializationError","invalidParams","privKeyProvider","provider","_","Error","options","_this$openloginOption","isRedirectResult","REDIRECT","redirectResult","getHashQueryParams","Object","keys","length","_pid","_objectSpread","replaceUrlOnRedirect","openloginInstance","OpenLogin","init","status","READY","emit","ADAPTER_EVENTS","privKey","autoConnect","connect","error","CONNECTING","adapter","connectWithProvider","ERRORED","message","includes","WalletLoginError","popupClosed","connectionError","cleanup","CONNECTED","notConnectedError","notReady","logout","DISCONNECTED","getUserInfo","userInfo","setAdapterSettings","setChainConfig","customChainConfig","SOLANA","SolanaPrivateKeyProvider","config","EthereumPrivateKeyProvider","CommonPrivateKeyProvider","curve","SUPPORTED_KEY_CURVES","ED25519","SECP256K1","login","merge","loginProvider","extraLoginOptions","login_hint","_params$extraLoginOpt","finalPrivKey","getED25519Key","sk","toString","setupProvider","reconnected","BaseAdapter"],"sources":["../src/config.ts","../src/openloginAdapter.ts"],"sourcesContent":[null,null]},"metadata":{},"sourceType":"module"}