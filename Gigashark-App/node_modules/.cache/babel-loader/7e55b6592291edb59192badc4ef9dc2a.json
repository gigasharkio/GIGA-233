{"ast":null,"code":"import _regeneratorRuntime from \"/root/gshark/Three.js/Gigashark-v2/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/root/gshark/Three.js/Gigashark-v2/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _classCallCheck from \"/root/gshark/Three.js/Gigashark-v2/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/root/gshark/Three.js/Gigashark-v2/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _assertThisInitialized from \"/root/gshark/Three.js/Gigashark-v2/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";\nimport _inherits from \"/root/gshark/Three.js/Gigashark-v2/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/root/gshark/Three.js/Gigashark-v2/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport _defineProperty from '@babel/runtime/helpers/defineProperty';\nimport { SafeEventEmitter } from '@toruslabs/openlogin-jrpc';\nimport { ADAPTER_STATUS, log, CHAIN_NAMESPACES, WalletInitializationError, storageAvailable, getChainConfig, ADAPTER_NAMESPACES, WalletLoginError, ADAPTER_EVENTS } from '@web3auth/base';\nimport { PLUGIN_NAMESPACES } from '@web3auth/base-plugin';\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}\n\nvar ADAPTER_CACHE_KEY = \"Web3Auth-cachedAdapter\";\n\nvar Web3AuthCore = /*#__PURE__*/function (_SafeEventEmitter) {\n  _inherits(Web3AuthCore, _SafeEventEmitter);\n\n  var _super = _createSuper(Web3AuthCore);\n\n  function Web3AuthCore(options) {\n    var _this;\n\n    _classCallCheck(this, Web3AuthCore);\n\n    var _options$chainConfig, _options$chainConfig2, _options$chainConfig3, _options$chainConfig4;\n\n    _this = _super.call(this);\n\n    _defineProperty(_assertThisInitialized(_this), \"coreOptions\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"connectedAdapterName\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"status\", ADAPTER_STATUS.NOT_READY);\n\n    _defineProperty(_assertThisInitialized(_this), \"cachedAdapter\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"walletAdapters\", {});\n\n    _defineProperty(_assertThisInitialized(_this), \"plugins\", {});\n\n    _defineProperty(_assertThisInitialized(_this), \"storage\", \"localStorage\");\n\n    if (options.enableLogging) log.enableAll();else log.disableAll();\n    if (!((_options$chainConfig = options.chainConfig) !== null && _options$chainConfig !== void 0 && _options$chainConfig.chainNamespace) || !Object.values(CHAIN_NAMESPACES).includes((_options$chainConfig2 = options.chainConfig) === null || _options$chainConfig2 === void 0 ? void 0 : _options$chainConfig2.chainNamespace)) throw WalletInitializationError.invalidParams(\"Please provide a valid chainNamespace in chainConfig\");\n    if (options.storageKey === \"session\") _this.storage = \"sessionStorage\";\n    _this.cachedAdapter = storageAvailable(_this.storage) ? window[_this.storage].getItem(ADAPTER_CACHE_KEY) : null;\n    _this.coreOptions = _objectSpread(_objectSpread({}, options), {}, {\n      chainConfig: _objectSpread(_objectSpread({}, getChainConfig((_options$chainConfig3 = options.chainConfig) === null || _options$chainConfig3 === void 0 ? void 0 : _options$chainConfig3.chainNamespace, (_options$chainConfig4 = options.chainConfig) === null || _options$chainConfig4 === void 0 ? void 0 : _options$chainConfig4.chainId) || {}), options.chainConfig)\n    });\n    _this.subscribeToAdapterEvents = _this.subscribeToAdapterEvents.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(Web3AuthCore, [{\n    key: \"provider\",\n    get: function get() {\n      if (this.status === ADAPTER_STATUS.CONNECTED && this.connectedAdapterName) {\n        var adapter = this.walletAdapters[this.connectedAdapterName];\n        return adapter.provider;\n      }\n\n      return null;\n    },\n    set: function set(_) {\n      throw new Error(\"Not implemented\");\n    }\n  }, {\n    key: \"init\",\n    value: function () {\n      var _init = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var _this2 = this;\n\n        var initPromises;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                initPromises = Object.keys(this.walletAdapters).map(function (adapterName) {\n                  _this2.subscribeToAdapterEvents(_this2.walletAdapters[adapterName]); // if adapter doesn't have any chain config yet thn set it based on provided namespace and chainId.\n                  // if no chainNamespace or chainId is being provided, it will connect with mainnet.\n\n\n                  if (!_this2.walletAdapters[adapterName].chainConfigProxy) {\n                    var providedChainConfig = _this2.coreOptions.chainConfig;\n                    if (!providedChainConfig.chainNamespace) throw WalletInitializationError.invalidParams(\"Please provide chainNamespace in chainConfig\");\n\n                    var chainConfig = _objectSpread(_objectSpread({}, getChainConfig(providedChainConfig.chainNamespace, providedChainConfig.chainId)), providedChainConfig);\n\n                    _this2.walletAdapters[adapterName].setChainConfig(chainConfig);\n                  }\n\n                  return _this2.walletAdapters[adapterName].init({\n                    autoConnect: _this2.cachedAdapter === adapterName\n                  }).catch(function (e) {\n                    return log.error(e);\n                  });\n                });\n                this.status = ADAPTER_STATUS.READY;\n                _context.next = 4;\n                return Promise.all(initPromises);\n\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function init() {\n        return _init.apply(this, arguments);\n      }\n\n      return init;\n    }()\n  }, {\n    key: \"configureAdapter\",\n    value: function configureAdapter(adapter) {\n      this.checkInitRequirements();\n      var providedChainConfig = this.coreOptions.chainConfig;\n      if (!providedChainConfig.chainNamespace) throw WalletInitializationError.invalidParams(\"Please provide chainNamespace in chainConfig\");\n      var adapterAlreadyExists = this.walletAdapters[adapter.name];\n      if (adapterAlreadyExists) throw WalletInitializationError.duplicateAdapterError(\"Wallet adapter for \".concat(adapter.name, \" already exists\"));\n      if (adapter.adapterNamespace !== ADAPTER_NAMESPACES.MULTICHAIN && adapter.adapterNamespace !== providedChainConfig.chainNamespace) throw WalletInitializationError.incompatibleChainNameSpace(\"This wallet adapter belongs to \".concat(adapter.adapterNamespace, \" which is incompatible with currently used namespace: \").concat(providedChainConfig.chainNamespace));\n\n      if (adapter.adapterNamespace === ADAPTER_NAMESPACES.MULTICHAIN && adapter.currentChainNamespace && providedChainConfig.chainNamespace !== adapter.currentChainNamespace) {\n        // chainConfig checks are already validated in constructor so using typecast is safe here.\n        adapter.setChainConfig(providedChainConfig);\n      }\n\n      this.walletAdapters[adapter.name] = adapter;\n      return this;\n    }\n  }, {\n    key: \"clearCache\",\n    value: function clearCache() {\n      if (!storageAvailable(this.storage)) return;\n      window[this.storage].removeItem(ADAPTER_CACHE_KEY);\n      this.cachedAdapter = null;\n    }\n    /**\n     * Connect to a specific wallet adapter\n     * @param walletName - Key of the walletAdapter to use.\n     */\n\n  }, {\n    key: \"connectTo\",\n    value: function () {\n      var _connectTo = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(walletName, loginParams) {\n        var provider;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if (this.walletAdapters[walletName]) {\n                  _context2.next = 2;\n                  break;\n                }\n\n                throw WalletInitializationError.notFound(\"Please add wallet adapter for \".concat(walletName, \" wallet, before connecting\"));\n\n              case 2:\n                _context2.next = 4;\n                return this.walletAdapters[walletName].connect(loginParams);\n\n              case 4:\n                provider = _context2.sent;\n                return _context2.abrupt(\"return\", provider);\n\n              case 6:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function connectTo(_x, _x2) {\n        return _connectTo.apply(this, arguments);\n      }\n\n      return connectTo;\n    }()\n  }, {\n    key: \"logout\",\n    value: function () {\n      var _logout = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {\n        var options,\n            _args3 = arguments;\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                options = _args3.length > 0 && _args3[0] !== undefined ? _args3[0] : {\n                  cleanup: false\n                };\n\n                if (!(this.status !== ADAPTER_STATUS.CONNECTED || !this.connectedAdapterName)) {\n                  _context3.next = 3;\n                  break;\n                }\n\n                throw WalletLoginError.notConnectedError(\"No wallet is connected\");\n\n              case 3:\n                _context3.next = 5;\n                return this.walletAdapters[this.connectedAdapterName].disconnect(options);\n\n              case 5:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function logout() {\n        return _logout.apply(this, arguments);\n      }\n\n      return logout;\n    }()\n  }, {\n    key: \"getUserInfo\",\n    value: function () {\n      var _getUserInfo = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4() {\n        return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                log.debug(\"Getting user info\", this.status, this.connectedAdapterName);\n\n                if (!(this.status !== ADAPTER_STATUS.CONNECTED || !this.connectedAdapterName)) {\n                  _context4.next = 3;\n                  break;\n                }\n\n                throw WalletLoginError.notConnectedError(\"No wallet is connected\");\n\n              case 3:\n                return _context4.abrupt(\"return\", this.walletAdapters[this.connectedAdapterName].getUserInfo());\n\n              case 4:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function getUserInfo() {\n        return _getUserInfo.apply(this, arguments);\n      }\n\n      return getUserInfo;\n    }()\n  }, {\n    key: \"addPlugin\",\n    value: function () {\n      var _addPlugin = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5(plugin) {\n        return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                if (!this.plugins[plugin.name]) {\n                  _context5.next = 2;\n                  break;\n                }\n\n                throw new Error(\"Plugin \".concat(plugin.name, \" already exist\"));\n\n              case 2:\n                if (!(plugin.pluginNamespace !== PLUGIN_NAMESPACES.MULTICHAIN && plugin.pluginNamespace !== this.coreOptions.chainConfig.chainNamespace)) {\n                  _context5.next = 4;\n                  break;\n                }\n\n                throw new Error(\"This plugin belongs to \".concat(plugin.pluginNamespace, \" namespace which is incompatible with currently used namespace: \").concat(this.coreOptions.chainConfig.chainNamespace));\n\n              case 4:\n                this.plugins[plugin.name] = plugin;\n                _context5.next = 7;\n                return plugin.initWithWeb3Auth(this);\n\n              case 7:\n                return _context5.abrupt(\"return\", this);\n\n              case 8:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this);\n      }));\n\n      function addPlugin(_x3) {\n        return _addPlugin.apply(this, arguments);\n      }\n\n      return addPlugin;\n    }()\n  }, {\n    key: \"subscribeToAdapterEvents\",\n    value: function subscribeToAdapterEvents(walletAdapter) {\n      var _this3 = this;\n\n      walletAdapter.on(ADAPTER_EVENTS.CONNECTED, /*#__PURE__*/function () {\n        var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6(data) {\n          return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n            while (1) {\n              switch (_context6.prev = _context6.next) {\n                case 0:\n                  _this3.status = ADAPTER_STATUS.CONNECTED;\n                  _this3.connectedAdapterName = data.adapter;\n\n                  _this3.cacheWallet(data.adapter);\n\n                  log.debug(\"connected\", _this3.status, _this3.connectedAdapterName);\n                  _context6.next = 6;\n                  return Promise.all(Object.values(_this3.plugins).map(function (plugin) {\n                    return plugin.connect().catch(function (error) {\n                      // swallow error if connector adapter doesn't supports this plugin.\n                      if (error.code === 5211) {\n                        return;\n                      } // throw error;\n\n\n                      log.error(error);\n                    });\n                  }));\n\n                case 6:\n                  _this3.emit(ADAPTER_EVENTS.CONNECTED, _objectSpread({}, data));\n\n                case 7:\n                case \"end\":\n                  return _context6.stop();\n              }\n            }\n          }, _callee6);\n        }));\n\n        return function (_x4) {\n          return _ref.apply(this, arguments);\n        };\n      }());\n      walletAdapter.on(ADAPTER_EVENTS.DISCONNECTED, /*#__PURE__*/function () {\n        var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee7(data) {\n          var cachedAdapter;\n          return _regeneratorRuntime().wrap(function _callee7$(_context7) {\n            while (1) {\n              switch (_context7.prev = _context7.next) {\n                case 0:\n                  // get back to ready state for rehydrating.\n                  _this3.status = ADAPTER_STATUS.READY;\n\n                  if (storageAvailable(_this3.storage)) {\n                    cachedAdapter = window[_this3.storage].getItem(ADAPTER_CACHE_KEY);\n\n                    if (_this3.connectedAdapterName === cachedAdapter) {\n                      _this3.clearCache();\n                    }\n                  }\n\n                  log.debug(\"disconnected\", _this3.status, _this3.connectedAdapterName);\n                  _context7.next = 5;\n                  return Promise.all(Object.values(_this3.plugins).map(function (plugin) {\n                    return plugin.disconnect().catch(function (error) {\n                      // swallow error if adapter doesn't supports this plugin.\n                      if (error.code === 5211) {\n                        return;\n                      } // throw error;\n\n\n                      log.error(error);\n                    });\n                  }));\n\n                case 5:\n                  _this3.connectedAdapterName = null;\n\n                  _this3.emit(ADAPTER_EVENTS.DISCONNECTED, data);\n\n                case 7:\n                case \"end\":\n                  return _context7.stop();\n              }\n            }\n          }, _callee7);\n        }));\n\n        return function (_x5) {\n          return _ref2.apply(this, arguments);\n        };\n      }());\n      walletAdapter.on(ADAPTER_EVENTS.CONNECTING, function (data) {\n        _this3.status = ADAPTER_STATUS.CONNECTING;\n\n        _this3.emit(ADAPTER_EVENTS.CONNECTING, data);\n\n        log.debug(\"connecting\", _this3.status, _this3.connectedAdapterName);\n      });\n      walletAdapter.on(ADAPTER_EVENTS.ERRORED, function (data) {\n        _this3.status = ADAPTER_STATUS.ERRORED;\n\n        _this3.clearCache();\n\n        _this3.emit(ADAPTER_EVENTS.ERRORED, data);\n\n        log.debug(\"errored\", _this3.status, _this3.connectedAdapterName);\n      });\n      walletAdapter.on(ADAPTER_EVENTS.ADAPTER_DATA_UPDATED, function (data) {\n        log.debug(\"adapter data updated\", data);\n\n        _this3.emit(ADAPTER_EVENTS.ADAPTER_DATA_UPDATED, data);\n      });\n    }\n  }, {\n    key: \"checkInitRequirements\",\n    value: function checkInitRequirements() {\n      if (this.status === ADAPTER_STATUS.CONNECTING) throw WalletInitializationError.notReady(\"Already pending connection\");\n      if (this.status === ADAPTER_STATUS.CONNECTED) throw WalletInitializationError.notReady(\"Already connected\");\n      if (this.status === ADAPTER_STATUS.READY) throw WalletInitializationError.notReady(\"Adapter is already initialized\");\n    }\n  }, {\n    key: \"cacheWallet\",\n    value: function cacheWallet(walletName) {\n      if (!storageAvailable(this.storage)) return;\n      window[this.storage].setItem(ADAPTER_CACHE_KEY, walletName);\n      this.cachedAdapter = walletName;\n    }\n  }]);\n\n  return Web3AuthCore;\n}(SafeEventEmitter);\n\nexport { Web3AuthCore };","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6CA,IAAMA,iBAAiB,GAAG,wBAA1B;;IACaC,Y;;;;;EAeXC,sBAAYC,OAAZD,EAAwC;IAAA;;IAAA;;IAAA;;IACtC;;IADsCE;;IAAAA,uEAZK,IAYL;;IAAAA,eAVHC,wDAAc,CAACC,SAAfD,CAUG;;IAAAD,gEARF,IAQE;;IAAAA,iEANsB,EAMtB;;IAAAA,0DAJG,EAIH;;IAAAA,0DAFa,cAEb;;IAEtC,IAAID,OAAO,CAACI,aAAZ,EAA2BC,GAAG,CAACC,SAAJD,GAA3B,KACKA,GAAG,CAACE,UAAJF;IACL,IAAI,EAACL,+BAAO,CAACQ,WAARR,sEAAqBS,cAAtB,KAAwC,CAACC,MAAM,CAACC,MAAPD,CAAcE,gBAAdF,EAAgCG,QAAhCH,0BAAyCV,OAAO,CAACQ,WAAjD,0DAAyCM,sBAAqBL,cAA9DC,CAA7C,EACE,MAAMK,yBAAyB,CAACC,aAA1BD,CAAwC,sDAAxCA,CAAN;IACF,IAAIf,OAAO,CAACiB,UAARjB,KAAuB,SAA3B,EAAsC,MAAKkB,OAAL,GAAe,gBAAf;IACtC,MAAKC,aAAL,GAAqBC,gBAAgB,CAAC,MAAKF,OAAN,CAAhBE,GAAiCC,MAAM,CAAC,MAAKH,OAAN,CAANG,CAAqBC,OAArBD,CAA6BxB,iBAA7BwB,CAAjCD,GAAmF,IAAxG;IAEA,MAAKG,WAAL,mCACKvB,OADL;MAEEQ,WAAW,kCACLgB,cAAc,CAACxB,gCAAO,CAACQ,WAARR,MAAD,IAACA,IAADyB,gCAACzB,GAAD,MAACA,wBAAqBS,eAAtB,EAAsCT,gCAAO,CAACQ,WAARR,MAAtC,IAAsCA,IAAtC0B,gCAAsC1B,GAAtC,MAAsCA,yBAAqB2B,OAA3D,CAAdH,IAAqF,EADhF,GAENxB,OAAO,CAACQ,WAFF;IAFb;IAOA,MAAKoB,wBAAL,GAAgC,MAAKA,wBAAL,CAA8BC,IAA9B,+BAAhC;IAhBsC;EAiBvC;;;;SAEW;MACV,IAAI,KAAKC,MAAL,KAAgB5B,cAAc,CAAC6B,SAA/B,IAA4C,KAAKC,oBAArD,EAA2E;QACzE,IAAMC,OAAO,GAAG,KAAKC,cAAL,CAAoB,KAAKF,oBAAzB,CAAhB;QACA,OAAOC,OAAO,CAACE,QAAf;MACD;;MACD,OAAO,IAAP;IACD,C;SAEW,aAACC,CAAD,EAAmC;MAC7C,MAAM,IAAIC,KAAJ,CAAU,iBAAV,CAAN;IACD;;;;6EAEgB;QAAA;;QAAA;QAAA;UAAA;YAAA;cAAA;gBACTC,YADS,GACM5B,MAAM,CAAC6B,IAAP7B,CAAY,KAAKwB,cAAjBxB,EAAiC8B,GAAjC9B,CAAsC+B,qBAAD,EAAgB;kBACxE,MAAKb,yBAAL,CAA8B,MAAKM,eAAL,CAAoBO,WAApB,CAA9B,EADwE;kBAGxE;;;kBACA,IAAI,CAAC,MAAKP,eAAL,CAAoBO,WAApB,EAAiCC,gBAAtC,EAAwD;oBACtD,IAAMC,mBAAmB,GAAG,MAAKpB,YAAL,CAAiBf,WAA7C;oBACA,IAAI,CAACmC,mBAAmB,CAAClC,cAAzB,EAAyC,MAAMM,yBAAyB,CAACC,aAA1BD,CAAwC,8CAAxCA,CAAN;;oBACzC,IAAMP,WAAW,mCACZgB,cAAc,CAACmB,mBAAmB,CAAClC,cAArB,EAAqCkC,mBAAmB,CAAChB,OAAzD,CADF,GAEZgB,mBAFY,CAAjB;;oBAIA,OAAKT,cAAL,CAAoBO,WAApB,EAAiCG,cAAjC,CAAgDpC,WAAhD;kBACD;;kBACD,OAAO,OAAK0B,cAAL,CAAoBO,WAApB,EAAiCI,IAAjC,CAAsC;oBAAEC,WAAW,EAAE,MAAK3B,cAAL,KAAuBsB;kBAAtC,CAAtC,EAA2FM,KAA3F,CAAkGC,WAAD;oBAAA,OAAO3C,GAAG,CAAC4C,KAAJ5C,CAAU2C,CAAV3C,CAAP;kBAAA,CAAjG,CAAP;gBAbmB,EADN;gBAgBf,KAAKyB,MAAL,GAAc5B,cAAc,CAACgD,KAA7B;gBAhBe;gBAAA,OAiBTC,OAAO,CAACC,GAARD,CAAYb,YAAZa,CAjBS;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,C;;;;;;;;;;WAoBVE,0BAAiBpB,OAAjBoB,EAA2C;MAChD,KAAKC,qBAAL;MACA,IAAMX,mBAAmB,GAAG,KAAKpB,WAAL,CAAiBf,WAA7C;MAEA,IAAI,CAACmC,mBAAmB,CAAClC,cAAzB,EAAyC,MAAMM,yBAAyB,CAACC,aAA1BD,CAAwC,8CAAxCA,CAAN;MAEzC,IAAMwC,oBAAoB,GAAG,KAAKrB,cAAL,CAAoBD,OAAO,CAACuB,IAA5B,CAA7B;MACA,IAAID,oBAAJ,EAA0B,MAAMxC,yBAAyB,CAAC0C,qBAA1B1C,CAAsEkB,oCAAO,CAACuB,IAARvB,EAA5E,iBAA4EA,CAAtElB,CAAN;MAC1B,IAAIkB,OAAO,CAACyB,gBAARzB,KAA6B0B,kBAAkB,CAACC,UAAhD3B,IAA8DA,OAAO,CAACyB,gBAARzB,KAA6BU,mBAAmB,CAAClC,cAAnH,EACE,MAAMM,yBAAyB,CAAC8C,0BAA1B9C,CAC8BkB,gDAAO,CAACyB,gBAARzB,EAAiFU,wDAAjFV,EAAiFU,MAAjFV,CAAiFU,mBAAmB,CAAClC,cAArGwB,CAD9BlB,CAAN;;MAIF,IACEkB,OAAO,CAACyB,gBAARzB,KAA6B0B,kBAAkB,CAACC,UAAhD3B,IACAA,OAAO,CAAC6B,qBADR7B,IAEAU,mBAAmB,CAAClC,cAApBkC,KAAuCV,OAAO,CAAC6B,qBAHjD,EAIE;QACA;QACA7B,OAAO,CAACW,cAARX,CAAuBU,mBAAvBV;MACD;;MAED,KAAKC,cAAL,CAAoBD,OAAO,CAACuB,IAA5B,IAAoCvB,OAApC;MACA,OAAO,IAAP;IACD;;;WAEM8B,sBAAU;MACf,IAAI,CAAC3C,gBAAgB,CAAC,KAAKF,OAAN,CAArB,EAAqC;MACrCG,MAAM,CAAC,KAAKH,OAAN,CAANG,CAAqB2C,UAArB3C,CAAgCxB,iBAAhCwB;MACA,KAAKF,aAAL,GAAqB,IAArB;IACD;IAED;;;AAGG;;;;;kFACY,kBAAI8C,UAAJ,EAAqCC,WAArC;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA,IACR,KAAKhC,cAAL,CAAoB+B,UAApB,CADQ;kBAAA;kBAAA;gBAAA;;gBAAA,MAELlD,yBAAyB,CAACoD,QAA1BpD,yCAAoEkD,UAApE,EAAN,4BAAM,EAFK;;cAAA;gBAAA;gBAAA,OAGU,KAAK/B,cAAL,CAAoB+B,UAApB,EAAgCG,OAAhC,CAAwCF,WAAxC,CAHV;;cAAA;gBAGP/B,QAHO;gBAAA,kCAINA,QAJM;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,C;;;;;;;;;;;+EAOH;QAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAACnC,OAAD,GAAiC;kBAAEqE,OAAO,EAAE;gBAAX,CAAjC;;gBAAA,MACN,KAAKvC,MAAL,KAAgB5B,cAAc,CAAC6B,SAA/B,IAA4C,CAAC,KAAKC,oBAD5C;kBAAA;kBAAA;gBAAA;;gBAAA,MACwEsC,gBAAgB,CAACC,iBAAjBD,CAAN,wBAAMA,CADxE;;cAAA;gBAAA;gBAAA,OAEJ,KAAKpC,cAAL,CAAoB,KAAKF,oBAAzB,EAA+CwC,UAA/C,CAA0DxE,OAA1D,CAFI;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,C;;;;;;;;;;;oFAKK;QAAA;UAAA;YAAA;cAAA;gBACfK,GAAG,CAACoE,KAAJpE,CAAU,mBAAVA,EAA+B,KAAKyB,MAApCzB,EAA4C,KAAK2B,oBAAjD3B;;gBADe,MAEX,KAAKyB,MAAL,KAAgB5B,cAAc,CAAC6B,SAA/B,IAA4C,CAAC,KAAKC,oBAFvC;kBAAA;kBAAA;gBAAA;;gBAAA,MAEmEsC,gBAAgB,CAACC,iBAAjBD,CAAN,wBAAMA,CAFnE;;cAAA;gBAAA,kCAGR,KAAKpC,cAAL,CAAoB,KAAKF,oBAAzB,EAA+C0C,WAA/C,EAHQ;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,C;;;;;;;;;;;kFAMK,kBAACC,MAAD;QAAA;UAAA;YAAA;cAAA;gBAAA,KAChB,KAAKC,OAAL,CAAaD,MAAM,CAACnB,IAApB,CADgB;kBAAA;kBAAA;gBAAA;;gBAAA,MACiB,IAAInB,KAAJ,kBAAoBsC,MAAM,CAACnB,IAA3B,EAAN,gBAAM,EADjB;;cAAA;gBAAA,MAEhBmB,MAAM,CAACE,eAAPF,KAA2BG,iBAAiB,CAAClB,UAA7Ce,IAA2DA,MAAM,CAACE,eAAPF,KAA2B,KAAKpD,WAAL,CAAiBf,WAAjB,CAA6BC,cAFnG;kBAAA;kBAAA;gBAAA;;gBAAA,MAGZ,IAAI4B,KAAJ,kCACsBsC,MAAM,CAACE,eAD7B,6EAC+G,KAAKtD,WAAL,CAAiBf,WAAjB,CAA6BC,cAD5I,EAHY;;cAAA;gBAOpB,KAAKmE,OAAL,CAAaD,MAAM,CAACnB,IAApB,IAA4BmB,MAA5B;gBAPoB;gBAAA,OAQdA,MAAM,CAACI,gBAAPJ,CAAwB,IAAxBA,CARc;;cAAA;gBAAA,kCASb,IATa;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,C;;;;;;;;;;WAYZ/C,kCAAyBoD,aAAzBpD,EAAyD;MAAA;;MACjEoD,aAAa,CAACC,EAAdD,CAAiBE,cAAc,CAACnD,SAAhCiD;QAAAA,sEAA2C,kBAAOG,IAAP;UAAA;YAAA;cAAA;gBAAA;kBACzC,OAAKrD,MAAL,GAAc5B,cAAc,CAAC6B,SAA7B;kBACA,OAAKC,oBAAL,GAA4BmD,IAAI,CAAClD,OAAjC;;kBACA,OAAKmD,WAAL,CAAiBD,IAAI,CAAClD,OAAtB;;kBACA5B,GAAG,CAACoE,KAAJpE,CAAU,WAAVA,EAAuB,MAAKyB,OAA5BzB,EAAoC,OAAK2B,oBAAzC3B;kBAJyC;kBAAA,OAKnC8C,OAAO,CAACC,GAARD,CACJzC,MAAM,CAACC,MAAPD,CAAc,OAAKkE,OAAnBlE,EAA4B8B,GAA5B9B,CAAiCiE,gBAAD,EAAW;oBACzC,OAAOA,MAAM,CAACP,OAAPO,GAAiB5B,KAAjB4B,CAAwB1B,eAAD,EAAyB;sBACrD;sBACA,IAAIA,KAAK,CAACoC,IAANpC,KAAe,IAAnB,EAAyB;wBACvB;sBAHmD;;;sBAMrD5C,GAAG,CAAC4C,KAAJ5C,CAAU4C,KAAV5C;oBANK,EAAP;kBADF,EADI8C,CALmC;;gBAAA;kBAiBzC,OAAKmC,IAAL,CAAUJ,cAAc,CAACnD,SAAzB,oBAAyCoD,IAAzC;;gBAjByC;gBAAA;kBAAA;cAAA;YAAA;UAAA;QAAA,CAA3CH;;QAAAA;UAAAA;QAAAA;MAAAA;MAoBAA,aAAa,CAACC,EAAdD,CAAiBE,cAAc,CAACK,YAAhCP;QAAAA,uEAA8C,kBAAOG,IAAP;UAAA;UAAA;YAAA;cAAA;gBAAA;kBAC5C;kBACA,OAAKrD,MAAL,GAAc5B,cAAc,CAACgD,KAA7B;;kBACA,IAAI9B,gBAAgB,CAAC,MAAKF,QAAN,CAApB,EAAoC;oBAC5BC,aAD4B,GACZE,MAAM,CAAC,OAAKH,OAAN,CAANG,CAAqBC,OAArBD,CAA6BxB,iBAA7BwB,CADY;;oBAElC,IAAI,MAAKW,qBAAL,KAA8Bb,aAAlC,EAAiD;sBAC/C,OAAK4C,UAAL;oBACD;kBACF;;kBAED1D,GAAG,CAACoE,KAAJpE,CAAU,cAAVA,EAA0B,MAAKyB,OAA/BzB,EAAuC,OAAK2B,oBAA5C3B;kBAV4C;kBAAA,OAWtC8C,OAAO,CAACC,GAARD,CACJzC,MAAM,CAACC,MAAPD,CAAc,OAAKkE,OAAnBlE,EAA4B8B,GAA5B9B,CAAiCiE,gBAAD,EAAW;oBACzC,OAAOA,MAAM,CAACH,UAAPG,GAAoB5B,KAApB4B,CAA2B1B,eAAD,EAAyB;sBACxD;sBACA,IAAIA,KAAK,CAACoC,IAANpC,KAAe,IAAnB,EAAyB;wBACvB;sBAHsD;;;sBAMxD5C,GAAG,CAAC4C,KAAJ5C,CAAU4C,KAAV5C;oBANK,EAAP;kBADF,EADI8C,CAXsC;;gBAAA;kBAuB5C,MAAKnB,qBAAL,GAA4B,IAA5B;;kBACA,OAAKsD,IAAL,CAAUJ,cAAc,CAACK,YAAzB,EAAuCJ,IAAvC;;gBAxB4C;gBAAA;kBAAA;cAAA;YAAA;UAAA;QAAA,CAA9CH;;QAAAA;UAAAA;QAAAA;MAAAA;MA0BAA,aAAa,CAACC,EAAdD,CAAiBE,cAAc,CAACM,UAAhCR,EAA6CG,cAAD,EAAS;QACnD,OAAKrD,MAAL,GAAc5B,cAAc,CAACsF,UAA7B;;QACA,OAAKF,IAAL,CAAUJ,cAAc,CAACM,UAAzB,EAAqCL,IAArC;;QACA9E,GAAG,CAACoE,KAAJpE,CAAU,YAAVA,EAAwB,MAAKyB,OAA7BzB,EAAqC,OAAK2B,oBAA1C3B;MAHF;MAKA2E,aAAa,CAACC,EAAdD,CAAiBE,cAAc,CAACO,OAAhCT,EAA0CG,cAAD,EAAS;QAChD,OAAKrD,MAAL,GAAc5B,cAAc,CAACuF,OAA7B;;QACA,OAAK1B,UAAL;;QACA,OAAKuB,IAAL,CAAUJ,cAAc,CAACO,OAAzB,EAAkCN,IAAlC;;QACA9E,GAAG,CAACoE,KAAJpE,CAAU,SAAVA,EAAqB,MAAKyB,OAA1BzB,EAAkC,OAAK2B,oBAAvC3B;MAJF;MAOA2E,aAAa,CAACC,EAAdD,CAAiBE,cAAc,CAACQ,oBAAhCV,EAAuDG,cAAD,EAAS;QAC7D9E,GAAG,CAACoE,KAAJpE,CAAU,sBAAVA,EAAkC8E,IAAlC9E;;QACA,OAAKiF,IAAL,CAAUJ,cAAc,CAACQ,oBAAzB,EAA+CP,IAA/C;MAFF;IAID;;;WAES7B,iCAAqB;MAC7B,IAAI,KAAKxB,MAAL,KAAgB5B,cAAc,CAACsF,UAAnC,EAA+C,MAAMzE,yBAAyB,CAAC4E,QAA1B5E,CAAmC,4BAAnCA,CAAN;MAC/C,IAAI,KAAKe,MAAL,KAAgB5B,cAAc,CAAC6B,SAAnC,EAA8C,MAAMhB,yBAAyB,CAAC4E,QAA1B5E,CAAmC,mBAAnCA,CAAN;MAC9C,IAAI,KAAKe,MAAL,KAAgB5B,cAAc,CAACgD,KAAnC,EAA0C,MAAMnC,yBAAyB,CAAC4E,QAA1B5E,CAAmC,gCAAnCA,CAAN;IAC3C;;;WAEOqE,qBAAYnB,UAAZmB,EAA8B;MACpC,IAAI,CAAChE,gBAAgB,CAAC,KAAKF,OAAN,CAArB,EAAqC;MACrCG,MAAM,CAAC,KAAKH,OAAN,CAANG,CAAqBuE,OAArBvE,CAA6BxB,iBAA7BwB,EAAgD4C,UAAhD5C;MACA,KAAKF,aAAL,GAAqB8C,UAArB;IACD;;;;EA/M+B4B,gB","names":["ADAPTER_CACHE_KEY","Web3AuthCore","constructor","options","_defineProperty","ADAPTER_STATUS","NOT_READY","enableLogging","log","enableAll","disableAll","chainConfig","chainNamespace","Object","values","CHAIN_NAMESPACES","includes","_options$chainConfig2","WalletInitializationError","invalidParams","storageKey","storage","cachedAdapter","storageAvailable","window","getItem","coreOptions","getChainConfig","_options$chainConfig3","_options$chainConfig4","chainId","subscribeToAdapterEvents","bind","status","CONNECTED","connectedAdapterName","adapter","walletAdapters","provider","_","Error","initPromises","keys","map","adapterName","chainConfigProxy","providedChainConfig","setChainConfig","init","autoConnect","catch","e","error","READY","Promise","all","configureAdapter","checkInitRequirements","adapterAlreadyExists","name","duplicateAdapterError","adapterNamespace","ADAPTER_NAMESPACES","MULTICHAIN","incompatibleChainNameSpace","currentChainNamespace","clearCache","removeItem","walletName","loginParams","notFound","connect","cleanup","WalletLoginError","notConnectedError","disconnect","debug","getUserInfo","plugin","plugins","pluginNamespace","PLUGIN_NAMESPACES","initWithWeb3Auth","walletAdapter","on","ADAPTER_EVENTS","data","cacheWallet","code","emit","DISCONNECTED","CONNECTING","ERRORED","ADAPTER_DATA_UPDATED","notReady","setItem","SafeEventEmitter"],"sources":["../src/core.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}