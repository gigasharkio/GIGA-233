{"ast":null,"code":"import _defineProperty2 from \"/Users/nicksampah/Repository/Three.js/Gigashark-v2/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _classCallCheck from \"/Users/nicksampah/Repository/Three.js/Gigashark-v2/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/nicksampah/Repository/Three.js/Gigashark-v2/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _assertThisInitialized from \"/Users/nicksampah/Repository/Three.js/Gigashark-v2/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";\nimport _inherits from \"/Users/nicksampah/Repository/Three.js/Gigashark-v2/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/Users/nicksampah/Repository/Three.js/Gigashark-v2/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport _get from \"/Users/nicksampah/Repository/Three.js/Gigashark-v2/node_modules/@babel/runtime/helpers/esm/get.js\";\nimport _getPrototypeOf from \"/Users/nicksampah/Repository/Three.js/Gigashark-v2/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\";\nimport _defineProperty from '@babel/runtime/helpers/defineProperty';\nimport { BaseController, createEventEmitterProxy } from '@toruslabs/base-controllers';\nimport { WalletInitializationError } from '@web3auth/base';\nimport { ethErrors } from 'eth-rpc-errors';\nimport getCreateRandomId from 'json-rpc-random-id';\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}\n\nvar BaseProvider = /*#__PURE__*/function (_BaseController) {\n  _inherits(BaseProvider, _BaseController);\n\n  var _super = _createSuper(BaseProvider);\n\n  // should be Assigned in setupProvider\n  function BaseProvider(_ref) {\n    var _thisSuper, _this;\n\n    _classCallCheck(this, BaseProvider);\n\n    var config = _ref.config,\n        state = _ref.state;\n    _this = _super.call(this, {\n      config: config,\n      state: state\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_providerEngineProxy\", null);\n\n    if (!config.chainConfig) throw WalletInitializationError.invalidProviderConfigError(\"Please provide chainConfig\");\n    if (!config.chainConfig.chainId) throw WalletInitializationError.invalidProviderConfigError(\"Please provide chainId inside chainConfig\");\n    if (!config.chainConfig.rpcTarget) throw WalletInitializationError.invalidProviderConfigError(\"Please provide rpcTarget inside chainConfig\");\n    _this.defaultState = {\n      chainId: \"loading\"\n    };\n    _this.defaultConfig = {\n      chainConfig: config.chainConfig,\n      networks: _defineProperty2({}, config.chainConfig.chainId, config.chainConfig)\n    };\n\n    _get((_thisSuper = _assertThisInitialized(_this), _getPrototypeOf(BaseProvider.prototype)), \"initialize\", _thisSuper).call(_thisSuper);\n\n    return _this;\n  }\n\n  _createClass(BaseProvider, [{\n    key: \"provider\",\n    get: function get() {\n      return this._providerEngineProxy;\n    },\n    set: function set(_) {\n      throw new Error(\"Method not implemented.\");\n    }\n  }, {\n    key: \"addChain\",\n    value: function addChain(chainConfig) {\n      if (!chainConfig.chainId) throw ethErrors.rpc.invalidParams(\"chainId is required\");\n      if (!chainConfig.rpcTarget) throw ethErrors.rpc.invalidParams(\"chainId is required\");\n      this.configure({\n        networks: _objectSpread(_objectSpread({}, this.config.networks), {}, _defineProperty2({}, chainConfig.chainId, chainConfig))\n      });\n    }\n  }, {\n    key: \"getChainConfig\",\n    value: function getChainConfig(chainId) {\n      var _this$config$networks;\n\n      var chainConfig = (_this$config$networks = this.config.networks) === null || _this$config$networks === void 0 ? void 0 : _this$config$networks[chainId];\n      if (!chainConfig) throw ethErrors.rpc.invalidRequest(\"Chain \".concat(chainId, \" is not supported, please add chainConfig for it\"));\n      return chainConfig;\n    }\n  }, {\n    key: \"getProviderEngineProxy\",\n    value: function getProviderEngineProxy() {\n      return this._providerEngineProxy;\n    }\n  }, {\n    key: \"updateProviderEngineProxy\",\n    value: function updateProviderEngineProxy(providerEngineProxy) {\n      if (this._providerEngineProxy) {\n        this._providerEngineProxy.setTarget(providerEngineProxy);\n      } else {\n        this._providerEngineProxy = createEventEmitterProxy(providerEngineProxy);\n      }\n    }\n  }]);\n\n  return BaseProvider;\n}(BaseController);\n\nvar createRandomId = getCreateRandomId();\nexport { BaseProvider, createRandomId };","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAesBA,Y;;;;;EAIpB;EAGAC;IAAAA;;IAAAA;;QAAcC,SAAFC,KAAED;QAAQE,QAAVD,KAAUC;IACpB,0BAAM;MAAEF,MAAF,EAAEA,MAAF;MAAUE;IAAV,CAAN;;2EAH6D;;IAI7D,IAAI,CAACF,MAAM,CAACG,WAAZ,EAAyB,MAAMC,yBAAyB,CAACC,0BAA1BD,CAAqD,4BAArDA,CAAN;IACzB,IAAI,CAACJ,MAAM,CAACG,WAAPH,CAAmBM,OAAxB,EAAiC,MAAMF,yBAAyB,CAACC,0BAA1BD,CAAqD,2CAArDA,CAAN;IACjC,IAAI,CAACJ,MAAM,CAACG,WAAPH,CAAmBO,SAAxB,EAAmC,MAAMH,yBAAyB,CAACC,0BAA1BD,CAAqD,6CAArDA,CAAN;IACnC,MAAKI,YAAL,GAAoB;MAClBF,OAAO,EAAE;IADS,CAApB;IAGA,MAAKG,aAAL,GAAqB;MACnBN,WAAW,EAAEH,MAAM,CAACG,WADD;MAEnBO,QAAQ,uBAAKV,MAAM,CAACG,WAAPH,CAAmBM,OAAxB,EAAkCN,MAAM,CAACG,WAAzC;IAFW,CAArB;;IAIA;;IAZFJ;EAaC;;;;SAEW;MACV,OAAO,KAAKY,oBAAZ;IACD,C;SAEW,aAACC,CAAD;MACV,MAAM,IAAIC,KAAJ,CAAU,yBAAV,CAAN;IACD;;;WAEMC,kBAASX,WAATW,EAAQ;MACb,IAAI,CAACX,WAAW,CAACG,OAAjB,EAA0B,MAAMS,SAAS,CAACC,GAAVD,CAAcE,aAAdF,CAA4B,qBAA5BA,CAAN;MAC1B,IAAI,CAACZ,WAAW,CAACI,SAAjB,EAA4B,MAAMQ,SAAS,CAACC,GAAVD,CAAcE,aAAdF,CAA4B,qBAA5BA,CAAN;MAC5B,KAAKG,SAAL,CAAe;QACbR,QAAQ,kCAAO,KAAKV,MAAL,CAAYU,QAAnB,4BAA8BP,WAAW,CAACG,OAA1C,EAAoDH,WAApD;MADK,CAAf;IAGD;;;WAEMgB,wBAAeb,OAAfa,EAAc;;;MACnB,IAAMhB,WAAW,4BAAG,KAAKH,MAAL,CAAYU,QAAf,0DAAGU,sBAAuBd,OAAvB,CAApB;MACA,IAAI,CAACH,WAAL,EAAkB,MAAMY,SAAS,CAACC,GAAVD,CAAcM,cAAdN,iBAAsCT,OAAtC,sDAAN;MAClB,OAAOH,WAAP;IACD;;;WAESmB,kCAAsB;MAC9B,OAAO,KAAKX,oBAAZ;IACD;;;WAESY,mCAA0BC,mBAA1BD,EAAyB;MACjC,IAAI,KAAKZ,oBAAT,EAA+B;QAC5B,KAAKA,oBAAL,CAAkCc,SAAlC,CAA4CD,mBAA5C;MADH,OAEO;QACL,KAAKb,oBAAL,GAA4Be,uBAAuB,CAA2BF,mBAA3B,CAAnD;MACD;IACF;;;;EArDOG,c;;ICfGC,cAAc,GAAGC,iBAAiB","names":["BaseProvider","constructor","config","_ref","state","chainConfig","WalletInitializationError","invalidProviderConfigError","chainId","rpcTarget","defaultState","defaultConfig","networks","_providerEngineProxy","_","Error","addChain","ethErrors","rpc","invalidParams","configure","getChainConfig","_this$config$networks","invalidRequest","getProviderEngineProxy","updateProviderEngineProxy","providerEngineProxy","setTarget","createEventEmitterProxy","BaseController","createRandomId","getCreateRandomId"],"sources":["../src/baseProvider.ts","../src/utils.ts"],"sourcesContent":[null,null]},"metadata":{},"sourceType":"module"}