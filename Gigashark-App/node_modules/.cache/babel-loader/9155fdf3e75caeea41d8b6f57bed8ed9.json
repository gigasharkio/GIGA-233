{"ast":null,"code":"import _asyncToGenerator from \"/Users/nicksampah/Repository/Three.js/Gigashark-v2/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _classCallCheck from \"/Users/nicksampah/Repository/Three.js/Gigashark-v2/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/nicksampah/Repository/Three.js/Gigashark-v2/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _assertThisInitialized from \"/Users/nicksampah/Repository/Three.js/Gigashark-v2/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";\nimport _get from \"/Users/nicksampah/Repository/Three.js/Gigashark-v2/node_modules/@babel/runtime/helpers/esm/get.js\";\nimport _getPrototypeOf from \"/Users/nicksampah/Repository/Three.js/Gigashark-v2/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\";\nimport _inherits from \"/Users/nicksampah/Repository/Three.js/Gigashark-v2/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/Users/nicksampah/Repository/Three.js/Gigashark-v2/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport _regeneratorRuntime from \"/Users/nicksampah/Repository/Three.js/Gigashark-v2/node_modules/@babel/runtime/regenerator/index.js\";\nimport _defineProperty from '@babel/runtime/helpers/defineProperty';\nimport WalletConnect from '@walletconnect/client';\nimport { BaseAdapter, WALLET_ADAPTERS, ADAPTER_NAMESPACES, CHAIN_NAMESPACES, ADAPTER_CATEGORY, ADAPTER_STATUS, getChainConfig, ADAPTER_EVENTS, WalletInitializationError, Web3AuthError, WalletLoginError, isHexStrict } from '@web3auth/base';\nimport { WalletConnectProvider } from '@web3auth/ethereum-provider';\nimport log from 'loglevel';\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}\n\nvar WalletConnectV1Adapter = /*#__PURE__*/function (_BaseAdapter) {\n  _inherits(WalletConnectV1Adapter, _BaseAdapter);\n\n  var _super = _createSuper(WalletConnectV1Adapter);\n\n  function WalletConnectV1Adapter() {\n    var _this;\n\n    _classCallCheck(this, WalletConnectV1Adapter);\n\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    _this = _super.call(this);\n\n    _defineProperty(_assertThisInitialized(_this), \"name\", WALLET_ADAPTERS.WALLET_CONNECT_V1);\n\n    _defineProperty(_assertThisInitialized(_this), \"adapterNamespace\", ADAPTER_NAMESPACES.EIP155);\n\n    _defineProperty(_assertThisInitialized(_this), \"currentChainNamespace\", CHAIN_NAMESPACES.EIP155);\n\n    _defineProperty(_assertThisInitialized(_this), \"type\", ADAPTER_CATEGORY.EXTERNAL);\n\n    _defineProperty(_assertThisInitialized(_this), \"adapterOptions\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"status\", ADAPTER_STATUS.NOT_READY);\n\n    _defineProperty(_assertThisInitialized(_this), \"adapterData\", {\n      uri: \"\"\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"connector\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"wcProvider\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"rehydrated\", false);\n\n    _this.adapterOptions = _objectSpread({}, options);\n    _this.chainConfig = options.chainConfig || null;\n    return _this;\n  }\n\n  _createClass(WalletConnectV1Adapter, [{\n    key: \"connected\",\n    get: function get() {\n      var _this$connector;\n\n      return !!((_this$connector = this.connector) !== null && _this$connector !== void 0 && _this$connector.connected);\n    }\n  }, {\n    key: \"provider\",\n    get: function get() {\n      var _this$wcProvider;\n\n      return ((_this$wcProvider = this.wcProvider) === null || _this$wcProvider === void 0 ? void 0 : _this$wcProvider.provider) || null;\n    },\n    set: function set(_) {\n      throw new Error(\"Not implemented\");\n    }\n  }, {\n    key: \"init\",\n    value: function () {\n      var _init = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _get(_getPrototypeOf(WalletConnectV1Adapter.prototype), \"checkInitializationRequirements\", this).call(this);\n\n                if (!this.chainConfig) {\n                  this.chainConfig = getChainConfig(CHAIN_NAMESPACES.EIP155, 1);\n                } // Create a connector\n\n\n                this.connector = this.getWalletConnectInstance();\n                this.wcProvider = new WalletConnectProvider({\n                  config: {\n                    chainConfig: this.chainConfig\n                  }\n                });\n                this.emit(ADAPTER_EVENTS.READY, WALLET_ADAPTERS.WALLET_CONNECT_V1);\n                this.status = ADAPTER_STATUS.READY;\n\n                if (!this.connector.connected) {\n                  _context.next = 10;\n                  break;\n                }\n\n                this.rehydrated = true;\n                _context.next = 10;\n                return this.onConnectHandler({\n                  accounts: this.connector.accounts,\n                  chainId: this.connector.chainId.toString()\n                });\n\n              case 10:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function init() {\n        return _init.apply(this, arguments);\n      }\n\n      return init;\n    }()\n  }, {\n    key: \"connect\",\n    value: function () {\n      var _connect = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4() {\n        var _this2 = this;\n\n        var _this$adapterOptions$;\n\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _get(_getPrototypeOf(WalletConnectV1Adapter.prototype), \"checkConnectionRequirements\", this).call(this);\n\n                if (this.connector) {\n                  _context4.next = 3;\n                  break;\n                }\n\n                throw WalletInitializationError.notReady(\"Wallet adapter is not ready yet\");\n\n              case 3:\n                if (!this.connected) {\n                  _context4.next = 7;\n                  break;\n                }\n\n                _context4.next = 6;\n                return this.onConnectHandler({\n                  accounts: this.connector.accounts,\n                  chainId: this.connector.chainId.toString()\n                });\n\n              case 6:\n                return _context4.abrupt(\"return\", this.provider);\n\n              case 7:\n                if (!(this.status !== ADAPTER_STATUS.CONNECTING)) {\n                  _context4.next = 13;\n                  break;\n                }\n\n                // for wallet connect qr code modal we have to create a new connector, coz wallet connect internally does not open\n                // modal again on existing instance if connection is pending.\n                if ((_this$adapterOptions$ = this.adapterOptions.adapterSettings) !== null && _this$adapterOptions$ !== void 0 && _this$adapterOptions$.qrcodeModal) {\n                  this.connector = this.getWalletConnectInstance();\n                }\n\n                _context4.next = 11;\n                return this.createNewSession();\n\n              case 11:\n                this.status = ADAPTER_STATUS.CONNECTING;\n                this.emit(ADAPTER_EVENTS.CONNECTING, {\n                  adapter: WALLET_ADAPTERS.WALLET_CONNECT_V1\n                });\n\n              case 13:\n                return _context4.abrupt(\"return\", new Promise(function (resolve, reject) {\n                  if (!_this2.connector) return reject(WalletInitializationError.notReady(\"Wallet adapter is not ready yet\")); // for wallet connect default modal.\n\n                  _this2.connector.on(\"modal_closed\", /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n                    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n                      while (1) {\n                        switch (_context2.prev = _context2.next) {\n                          case 0:\n                            _this2.status = ADAPTER_STATUS.READY;\n\n                            _this2.emit(ADAPTER_EVENTS.READY, WALLET_ADAPTERS.WALLET_CONNECT_V1);\n\n                            return _context2.abrupt(\"return\", reject(new Error(\"User closed modal\")));\n\n                          case 3:\n                          case \"end\":\n                            return _context2.stop();\n                        }\n                      }\n                    }, _callee2);\n                  })));\n\n                  try {\n                    // Subscribe to session connection\n                    _this2.connector.on(\"connect\", /*#__PURE__*/function () {\n                      var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(error, payload) {\n                        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n                          while (1) {\n                            switch (_context3.prev = _context3.next) {\n                              case 0:\n                                if (error) {\n                                  _this2.emit(ADAPTER_EVENTS.ERRORED, error);\n                                }\n\n                                _context3.next = 3;\n                                return _this2.onConnectHandler(payload.params[0]);\n\n                              case 3:\n                                return _context3.abrupt(\"return\", resolve(_this2.provider));\n\n                              case 4:\n                              case \"end\":\n                                return _context3.stop();\n                            }\n                          }\n                        }, _callee3);\n                      }));\n\n                      return function (_x, _x2) {\n                        return _ref2.apply(this, arguments);\n                      };\n                    }());\n                  } catch (error) {\n                    log.error(\"Wallet connect v1 adapter error while connecting\", error); // ready again to be connected\n\n                    _this2.status = ADAPTER_STATUS.READY;\n                    _this2.rehydrated = true;\n\n                    _this2.emit(ADAPTER_EVENTS.ERRORED, error);\n\n                    reject(error instanceof Web3AuthError ? error : WalletLoginError.connectionError(\"Failed to login with wallet connect: \".concat((error === null || error === void 0 ? void 0 : error.message) || \"\")));\n                  }\n                }));\n\n              case 14:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function connect() {\n        return _connect.apply(this, arguments);\n      }\n\n      return connect;\n    }()\n  }, {\n    key: \"getUserInfo\",\n    value: function () {\n      var _getUserInfo = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5() {\n        return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                if (this.connected) {\n                  _context5.next = 2;\n                  break;\n                }\n\n                throw WalletLoginError.notConnectedError(\"Not connected with wallet, Please login/connect first\");\n\n              case 2:\n                return _context5.abrupt(\"return\", {});\n\n              case 3:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this);\n      }));\n\n      function getUserInfo() {\n        return _getUserInfo.apply(this, arguments);\n      }\n\n      return getUserInfo;\n    }()\n  }, {\n    key: \"disconnect\",\n    value: function () {\n      var _disconnect = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee6() {\n        var options,\n            cleanup,\n            _args6 = arguments;\n        return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                options = _args6.length > 0 && _args6[0] !== undefined ? _args6[0] : {\n                  cleanup: false\n                };\n                cleanup = options.cleanup;\n\n                if (!(!this.connector || !this.connected)) {\n                  _context6.next = 4;\n                  break;\n                }\n\n                throw WalletLoginError.notConnectedError(\"Not connected with wallet\");\n\n              case 4:\n                _context6.next = 6;\n                return this.connector.killSession();\n\n              case 6:\n                this.rehydrated = false;\n\n                if (cleanup) {\n                  this.connector = null;\n                  this.status = ADAPTER_STATUS.NOT_READY;\n                  this.wcProvider = null;\n                } else {\n                  // ready to connect again\n                  this.status = ADAPTER_STATUS.READY;\n                }\n\n                this.emit(ADAPTER_EVENTS.DISCONNECTED);\n\n              case 9:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6, this);\n      }));\n\n      function disconnect() {\n        return _disconnect.apply(this, arguments);\n      }\n\n      return disconnect;\n    }()\n  }, {\n    key: \"createNewSession\",\n    value: function () {\n      var _createNewSession = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee8() {\n        var _this3 = this;\n\n        var _this$adapterOptions,\n            _this$adapterOptions$2,\n            opts,\n            _this$chainConfig,\n            _args8 = arguments;\n\n        return _regeneratorRuntime.wrap(function _callee8$(_context8) {\n          while (1) {\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                opts = _args8.length > 0 && _args8[0] !== undefined ? _args8[0] : {\n                  forceNewSession: false\n                };\n\n                if (this.connector) {\n                  _context8.next = 3;\n                  break;\n                }\n\n                throw WalletInitializationError.notReady(\"Wallet adapter is not ready yet\");\n\n              case 3:\n                if (!(opts.forceNewSession && this.connector.pending)) {\n                  _context8.next = 6;\n                  break;\n                }\n\n                _context8.next = 6;\n                return this.connector.killSession();\n\n              case 6:\n                if (!((_this$adapterOptions = this.adapterOptions) !== null && _this$adapterOptions !== void 0 && (_this$adapterOptions$2 = _this$adapterOptions.adapterSettings) !== null && _this$adapterOptions$2 !== void 0 && _this$adapterOptions$2.qrcodeModal)) {\n                  _context8.next = 10;\n                  break;\n                }\n\n                _context8.next = 9;\n                return this.connector.createSession({\n                  chainId: parseInt(((_this$chainConfig = this.chainConfig) === null || _this$chainConfig === void 0 ? void 0 : _this$chainConfig.chainId) || \"0x1\", 16)\n                });\n\n              case 9:\n                return _context8.abrupt(\"return\");\n\n              case 10:\n                return _context8.abrupt(\"return\", new Promise(function (resolve, reject) {\n                  var _this$chainConfig2;\n\n                  if (!_this3.connector) return reject(WalletInitializationError.notReady(\"Wallet adapter is not ready yet\"));\n                  log.debug(\"creating new session for web3auth wallet connect\");\n\n                  _this3.connector.on(\"display_uri\", /*#__PURE__*/function () {\n                    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee7(err, payload) {\n                      var _this$connector2, uri;\n\n                      return _regeneratorRuntime.wrap(function _callee7$(_context7) {\n                        while (1) {\n                          switch (_context7.prev = _context7.next) {\n                            case 0:\n                              if (!err) {\n                                _context7.next = 3;\n                                break;\n                              }\n\n                              _this3.emit(ADAPTER_EVENTS.ERRORED, WalletLoginError.connectionError(\"Failed to display wallet connect qr code\"));\n\n                              return _context7.abrupt(\"return\", reject(err));\n\n                            case 3:\n                              uri = payload.params[0];\n\n                              _this3.updateAdapterData({\n                                uri: uri\n                              });\n\n                              (_this$connector2 = _this3.connector) === null || _this$connector2 === void 0 ? void 0 : _this$connector2.off(\"display_uri\");\n                              return _context7.abrupt(\"return\", resolve());\n\n                            case 7:\n                            case \"end\":\n                              return _context7.stop();\n                          }\n                        }\n                      }, _callee7);\n                    }));\n\n                    return function (_x3, _x4) {\n                      return _ref3.apply(this, arguments);\n                    };\n                  }());\n\n                  _this3.connector.createSession({\n                    chainId: parseInt(((_this$chainConfig2 = _this3.chainConfig) === null || _this$chainConfig2 === void 0 ? void 0 : _this$chainConfig2.chainId) || \"0x1\", 16)\n                  }).catch(function (error) {\n                    log.error(\"error while creating new wallet connect session\", error);\n\n                    _this3.emit(ADAPTER_EVENTS.ERRORED, error);\n\n                    return reject(error);\n                  });\n                }));\n\n              case 11:\n              case \"end\":\n                return _context8.stop();\n            }\n          }\n        }, _callee8, this);\n      }));\n\n      function createNewSession() {\n        return _createNewSession.apply(this, arguments);\n      }\n\n      return createNewSession;\n    }()\n  }, {\n    key: \"onConnectHandler\",\n    value: function () {\n      var _onConnectHandler = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee9(params) {\n        var chainId, connectedChainId;\n        return _regeneratorRuntime.wrap(function _callee9$(_context9) {\n          while (1) {\n            switch (_context9.prev = _context9.next) {\n              case 0:\n                if (!(!this.connector || !this.wcProvider)) {\n                  _context9.next = 2;\n                  break;\n                }\n\n                throw WalletInitializationError.notReady(\"Wallet adapter is not ready yet\");\n\n              case 2:\n                if (this.chainConfig) {\n                  _context9.next = 4;\n                  break;\n                }\n\n                throw WalletInitializationError.invalidParams(\"Chain config is not set\");\n\n              case 4:\n                chainId = params.chainId;\n                log.debug(\"connected chainId\", chainId);\n                connectedChainId = parseInt(chainId, isHexStrict(chainId) ? 16 : 10);\n\n                if (!(connectedChainId !== parseInt(this.chainConfig.chainId, 16))) {\n                  _context9.next = 12;\n                  break;\n                }\n\n                _context9.next = 10;\n                return this.createNewSession({\n                  forceNewSession: true\n                });\n\n              case 10:\n                this.emit(ADAPTER_EVENTS.ERRORED, WalletInitializationError.fromCode(5000, \"Not connected to correct chainId. Expected: \".concat(this.chainConfig.chainId, \", Current: \").concat(connectedChainId, \", Please switch to correct chain from wallet\")));\n                return _context9.abrupt(\"return\");\n\n              case 12:\n                _context9.next = 14;\n                return this.wcProvider.setupProvider(this.connector);\n\n              case 14:\n                this.subscribeEvents(this.connector);\n                this.status = ADAPTER_STATUS.CONNECTED;\n                this.emit(ADAPTER_EVENTS.CONNECTED, {\n                  adapter: WALLET_ADAPTERS.WALLET_CONNECT_V1,\n                  reconnected: this.rehydrated\n                });\n\n              case 17:\n              case \"end\":\n                return _context9.stop();\n            }\n          }\n        }, _callee9, this);\n      }));\n\n      function onConnectHandler(_x5) {\n        return _onConnectHandler.apply(this, arguments);\n      }\n\n      return onConnectHandler;\n    }()\n  }, {\n    key: \"subscribeEvents\",\n    value: function subscribeEvents(connector) {\n      var _this4 = this;\n\n      connector.on(\"session_update\", /*#__PURE__*/function () {\n        var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee10(error) {\n          return _regeneratorRuntime.wrap(function _callee10$(_context10) {\n            while (1) {\n              switch (_context10.prev = _context10.next) {\n                case 0:\n                  if (error) {\n                    _this4.emit(ADAPTER_EVENTS.ERRORED, error);\n                  }\n\n                case 1:\n                case \"end\":\n                  return _context10.stop();\n              }\n            }\n          }, _callee10);\n        }));\n\n        return function (_x6) {\n          return _ref4.apply(this, arguments);\n        };\n      }());\n    }\n  }, {\n    key: \"getWalletConnectInstance\",\n    value: function getWalletConnectInstance() {\n      var walletConnectOptions = this.adapterOptions.adapterSettings || {};\n      walletConnectOptions.bridge = walletConnectOptions.bridge || \"https://bridge.walletconnect.org\"; // Create a connector\n\n      return new WalletConnect(walletConnectOptions);\n    }\n  }]);\n\n  return WalletConnectV1Adapter;\n}(BaseAdapter);\n\nexport { WalletConnectV1Adapter };","map":{"version":3,"mappings":"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","names":["WalletConnectV1Adapter","constructor","options","WALLET_ADAPTERS","WALLET_CONNECT_V1","ADAPTER_NAMESPACES","EIP155","CHAIN_NAMESPACES","ADAPTER_CATEGORY","EXTERNAL","ADAPTER_STATUS","NOT_READY","uri","adapterOptions","chainConfig","connector","_this$connector","connected","wcProvider","provider","_","Error","getChainConfig","getWalletConnectInstance","WalletConnectProvider","config","emit","ADAPTER_EVENTS","READY","status","rehydrated","onConnectHandler","accounts","chainId","toString","WalletInitializationError","notReady","CONNECTING","adapterSettings","_this$adapterOptions$","qrcodeModal","createNewSession","adapter","Promise","resolve","reject","on","error","payload","ERRORED","params","log","Web3AuthError","WalletLoginError","connectionError","message","notConnectedError","cleanup","killSession","DISCONNECTED","opts","forceNewSession","pending","_this$adapterOptions","_this$adapterOptions$2","createSession","parseInt","debug","err","updateAdapterData","off","catch","invalidParams","connectedChainId","isHexStrict","fromCode","setupProvider","subscribeEvents","CONNECTED","reconnected","walletConnectOptions","bridge","WalletConnect","BaseAdapter"],"sources":["../src/walletConnectV1adapter.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}