{"ast":null,"code":"import _createForOfIteratorHelper from \"/Users/nicksampah/Repository/Three.js/Gigashark-v2/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\nimport _classCallCheck from \"/Users/nicksampah/Repository/Three.js/Gigashark-v2/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/nicksampah/Repository/Three.js/Gigashark-v2/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"/Users/nicksampah/Repository/Three.js/Gigashark-v2/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/Users/nicksampah/Repository/Three.js/Gigashark-v2/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport _asyncToGenerator from \"/Users/nicksampah/Repository/Three.js/Gigashark-v2/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _regeneratorRuntime from \"/Users/nicksampah/Repository/Three.js/Gigashark-v2/node_modules/@babel/runtime/regenerator/index.js\";\nimport _defineProperty from '@babel/runtime/helpers/defineProperty';\nimport { providerFromEngine, createFetchMiddleware } from '@toruslabs/base-controllers';\nimport { mergeMiddleware, createAsyncMiddleware, JRPCEngine } from '@toruslabs/openlogin-jrpc';\nimport { CHAIN_NAMESPACES, isHexStrict, WalletInitializationError } from '@web3auth/base';\nimport { BaseProvider } from '@web3auth/base-provider';\nimport { Transaction, Keypair, Message } from '@solana/web3.js';\nimport bs58 from 'bs58';\nimport { ethErrors } from 'eth-rpc-errors';\nimport nacl from '@toruslabs/tweetnacl-js';\n\nfunction createGetAccountsMiddleware(_ref) {\n  var getAccounts = _ref.getAccounts;\n  return createAsyncMiddleware( /*#__PURE__*/function () {\n    var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(request, response, next) {\n      var method, accounts;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              method = request.method;\n\n              if (!(method !== \"getAccounts\")) {\n                _context.next = 3;\n                break;\n              }\n\n              return _context.abrupt(\"return\", next());\n\n            case 3:\n              if (getAccounts) {\n                _context.next = 5;\n                break;\n              }\n\n              throw new Error(\"WalletMiddleware - opts.getAccounts not provided\");\n\n            case 5:\n              _context.next = 7;\n              return getAccounts(request);\n\n            case 7:\n              accounts = _context.sent;\n              response.result = accounts;\n              return _context.abrupt(\"return\", undefined);\n\n            case 10:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function (_x, _x2, _x3) {\n      return _ref5.apply(this, arguments);\n    };\n  }());\n}\n\nfunction createRequestAccountsMiddleware(_ref2) {\n  var requestAccounts = _ref2.requestAccounts;\n  return createAsyncMiddleware( /*#__PURE__*/function () {\n    var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(request, response, next) {\n      var method, accounts;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              method = request.method;\n\n              if (!(method !== \"requestAccounts\")) {\n                _context2.next = 3;\n                break;\n              }\n\n              return _context2.abrupt(\"return\", next());\n\n            case 3:\n              if (requestAccounts) {\n                _context2.next = 5;\n                break;\n              }\n\n              throw new Error(\"WalletMiddleware - opts.requestAccounts not provided\");\n\n            case 5:\n              _context2.next = 7;\n              return requestAccounts(request);\n\n            case 7:\n              accounts = _context2.sent;\n              response.result = accounts;\n              return _context2.abrupt(\"return\", undefined);\n\n            case 10:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function (_x4, _x5, _x6) {\n      return _ref6.apply(this, arguments);\n    };\n  }());\n}\n\nfunction createGenericJRPCMiddleware(targetMethod, handler) {\n  return createAsyncMiddleware( /*#__PURE__*/function () {\n    var _ref7 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(request, response, next) {\n      var method, result;\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              method = request.method;\n\n              if (!(method !== targetMethod)) {\n                _context3.next = 3;\n                break;\n              }\n\n              return _context3.abrupt(\"return\", next());\n\n            case 3:\n              if (handler) {\n                _context3.next = 5;\n                break;\n              }\n\n              throw new Error(\"WalletMiddleware - \".concat(targetMethod, \" not provided\"));\n\n            case 5:\n              _context3.next = 7;\n              return handler(request);\n\n            case 7:\n              result = _context3.sent;\n              response.result = result;\n              return _context3.abrupt(\"return\", undefined);\n\n            case 10:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    return function (_x7, _x8, _x9) {\n      return _ref7.apply(this, arguments);\n    };\n  }());\n}\n\nfunction createSolanaMiddleware(providerHandlers) {\n  var getAccounts = providerHandlers.getAccounts,\n      requestAccounts = providerHandlers.requestAccounts,\n      signTransaction = providerHandlers.signTransaction,\n      signAndSendTransaction = providerHandlers.signAndSendTransaction,\n      signAllTransactions = providerHandlers.signAllTransactions,\n      signMessage = providerHandlers.signMessage,\n      getPrivateKey = providerHandlers.getPrivateKey;\n  return mergeMiddleware([createRequestAccountsMiddleware({\n    requestAccounts: requestAccounts\n  }), createGetAccountsMiddleware({\n    getAccounts: getAccounts\n  }), createGenericJRPCMiddleware(\"signTransaction\", signTransaction), createGenericJRPCMiddleware(\"signAndSendTransaction\", signAndSendTransaction), createGenericJRPCMiddleware(\"signAllTransactions\", signAllTransactions), createGenericJRPCMiddleware(\"signMessage\", signMessage), createGenericJRPCMiddleware(\"solanaPrivateKey\", getPrivateKey)]);\n}\n\nfunction createChainSwitchMiddleware(_ref3) {\n  var addNewChainConfig = _ref3.addNewChainConfig,\n      switchSolanaChain = _ref3.switchSolanaChain;\n  return mergeMiddleware([createGenericJRPCMiddleware(\"addSolanaChain\", addNewChainConfig), createGenericJRPCMiddleware(\"switchSolanaChain\", switchSolanaChain)]);\n}\n\nfunction createAccountMiddleware(_ref4) {\n  var updatePrivatekey = _ref4.updatePrivatekey;\n  return mergeMiddleware([createGenericJRPCMiddleware(\"updateAccount\", updatePrivatekey)]);\n}\n\nfunction ownKeys$3(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread$3(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys$3(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$3(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}\n\nfunction createInjectedProviderProxyMiddleware(provider) {\n  return createAsyncMiddleware( /*#__PURE__*/function () {\n    var _ref8 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(req, res, _next) {\n      var result;\n      return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.next = 2;\n              return provider.request(_objectSpread$3({}, req));\n\n            case 2:\n              result = _context4.sent;\n              res.result = result;\n\n            case 4:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4);\n    }));\n\n    return function (_x10, _x11, _x12) {\n      return _ref8.apply(this, arguments);\n    };\n  }());\n}\n\nvar getPhantomHandlers = function getPhantomHandlers(injectedProvider) {\n  var providerHandlers = {\n    requestAccounts: function () {\n      var _requestAccounts = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5() {\n        return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                return _context5.abrupt(\"return\", injectedProvider.publicKey ? [bs58.encode(injectedProvider.publicKey.toBytes())] : []);\n\n              case 1:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5);\n      }));\n\n      function requestAccounts() {\n        return _requestAccounts.apply(this, arguments);\n      }\n\n      return requestAccounts;\n    }(),\n    getAccounts: function () {\n      var _getAccounts = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee6() {\n        return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                return _context6.abrupt(\"return\", injectedProvider.publicKey ? [bs58.encode(injectedProvider.publicKey.toBytes())] : []);\n\n              case 1:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6);\n      }));\n\n      function getAccounts() {\n        return _getAccounts.apply(this, arguments);\n      }\n\n      return getAccounts;\n    }(),\n    getPrivateKey: function () {\n      var _getPrivateKey = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee7() {\n        return _regeneratorRuntime.wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                throw ethErrors.rpc.methodNotSupported();\n\n              case 1:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7);\n      }));\n\n      function getPrivateKey() {\n        return _getPrivateKey.apply(this, arguments);\n      }\n\n      return getPrivateKey;\n    }(),\n    signTransaction: function () {\n      var _signTransaction = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee8(req) {\n        var message, txn, transaction;\n        return _regeneratorRuntime.wrap(function _callee8$(_context8) {\n          while (1) {\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                message = bs58.decode(req.params.message);\n                txn = Transaction.from(message);\n                _context8.next = 4;\n                return injectedProvider.signTransaction(txn);\n\n              case 4:\n                transaction = _context8.sent;\n                return _context8.abrupt(\"return\", transaction);\n\n              case 6:\n              case \"end\":\n                return _context8.stop();\n            }\n          }\n        }, _callee8);\n      }));\n\n      function signTransaction(_x13) {\n        return _signTransaction.apply(this, arguments);\n      }\n\n      return signTransaction;\n    }(),\n    signMessage: function () {\n      var _signMessage = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee9(req) {\n        var _req$params, message;\n\n        return _regeneratorRuntime.wrap(function _callee9$(_context9) {\n          while (1) {\n            switch (_context9.prev = _context9.next) {\n              case 0:\n                _context9.next = 2;\n                return injectedProvider.request({\n                  method: \"signMessage\",\n                  params: {\n                    message: (_req$params = req.params) === null || _req$params === void 0 ? void 0 : _req$params.message\n                  }\n                });\n\n              case 2:\n                message = _context9.sent;\n                return _context9.abrupt(\"return\", message);\n\n              case 4:\n              case \"end\":\n                return _context9.stop();\n            }\n          }\n        }, _callee9);\n      }));\n\n      function signMessage(_x14) {\n        return _signMessage.apply(this, arguments);\n      }\n\n      return signMessage;\n    }(),\n    signAndSendTransaction: function () {\n      var _signAndSendTransaction = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee10(req) {\n        var message, txn, txRes;\n        return _regeneratorRuntime.wrap(function _callee10$(_context10) {\n          while (1) {\n            switch (_context10.prev = _context10.next) {\n              case 0:\n                message = bs58.decode(req.params.message);\n                txn = Transaction.from(message);\n                _context10.next = 4;\n                return injectedProvider.signAndSendTransaction(txn);\n\n              case 4:\n                txRes = _context10.sent;\n                return _context10.abrupt(\"return\", {\n                  signature: txRes.signature\n                });\n\n              case 6:\n              case \"end\":\n                return _context10.stop();\n            }\n          }\n        }, _callee10);\n      }));\n\n      function signAndSendTransaction(_x15) {\n        return _signAndSendTransaction.apply(this, arguments);\n      }\n\n      return signAndSendTransaction;\n    }(),\n    signAllTransactions: function () {\n      var _signAllTransactions = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee11(req) {\n        var _req$params2, _req$params3, txns, transaction;\n\n        return _regeneratorRuntime.wrap(function _callee11$(_context11) {\n          while (1) {\n            switch (_context11.prev = _context11.next) {\n              case 0:\n                if (!(!((_req$params2 = req.params) !== null && _req$params2 !== void 0 && _req$params2.message) || !((_req$params3 = req.params) !== null && _req$params3 !== void 0 && _req$params3.message.length))) {\n                  _context11.next = 2;\n                  break;\n                }\n\n                throw ethErrors.rpc.invalidParams(\"message\");\n\n              case 2:\n                txns = req.params.message.map(function (msg) {\n                  var decodedMsg = bs58.decode(msg);\n                  return Transaction.from(decodedMsg);\n                });\n                _context11.next = 5;\n                return injectedProvider.signAllTransactions(txns);\n\n              case 5:\n                transaction = _context11.sent;\n                return _context11.abrupt(\"return\", transaction);\n\n              case 7:\n              case \"end\":\n                return _context11.stop();\n            }\n          }\n        }, _callee11);\n      }));\n\n      function signAllTransactions(_x16) {\n        return _signAllTransactions.apply(this, arguments);\n      }\n\n      return signAllTransactions;\n    }()\n  };\n  return providerHandlers;\n};\n\nfunction ownKeys$2(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread$2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys$2(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$2(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}\n\nvar PhantomInjectedProvider = /*#__PURE__*/function (_BaseProvider) {\n  _inherits(PhantomInjectedProvider, _BaseProvider);\n\n  var _super = _createSuper(PhantomInjectedProvider);\n\n  function PhantomInjectedProvider(_ref) {\n    _classCallCheck(this, PhantomInjectedProvider);\n\n    var config = _ref.config,\n        state = _ref.state;\n    return _super.call(this, {\n      config: {\n        chainConfig: _objectSpread$2(_objectSpread$2({}, config.chainConfig), {}, {\n          chainNamespace: CHAIN_NAMESPACES.SOLANA\n        })\n      },\n      state: state\n    });\n  }\n\n  _createClass(PhantomInjectedProvider, [{\n    key: \"switchChain\",\n    value: function () {\n      var _switchChain = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee12(_) {\n        return _regeneratorRuntime.wrap(function _callee12$(_context12) {\n          while (1) {\n            switch (_context12.prev = _context12.next) {\n              case 0:\n                return _context12.abrupt(\"return\", Promise.resolve());\n\n              case 1:\n              case \"end\":\n                return _context12.stop();\n            }\n          }\n        }, _callee12);\n      }));\n\n      function switchChain(_x17) {\n        return _switchChain.apply(this, arguments);\n      }\n\n      return switchChain;\n    }()\n  }, {\n    key: \"setupProvider\",\n    value: function () {\n      var _setupProvider = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee13(injectedProvider) {\n        var providerHandlers, solanaMiddleware, injectedProviderProxy, engine, provider;\n        return _regeneratorRuntime.wrap(function _callee13$(_context13) {\n          while (1) {\n            switch (_context13.prev = _context13.next) {\n              case 0:\n                providerHandlers = getPhantomHandlers(injectedProvider);\n                solanaMiddleware = createSolanaMiddleware(providerHandlers);\n                injectedProviderProxy = createInjectedProviderProxyMiddleware(injectedProvider);\n                engine = new JRPCEngine();\n                engine.push(solanaMiddleware);\n                engine.push(injectedProviderProxy);\n                provider = providerFromEngine(engine);\n                this.updateProviderEngineProxy(provider);\n                _context13.next = 10;\n                return this.lookupNetwork(injectedProvider);\n\n              case 10:\n              case \"end\":\n                return _context13.stop();\n            }\n          }\n        }, _callee13, this);\n      }));\n\n      function setupProvider(_x18) {\n        return _setupProvider.apply(this, arguments);\n      }\n\n      return setupProvider;\n    }()\n  }, {\n    key: \"lookupNetwork\",\n    value: function () {\n      var _lookupNetwork = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee14(_) {\n        var chainConfig;\n        return _regeneratorRuntime.wrap(function _callee14$(_context14) {\n          while (1) {\n            switch (_context14.prev = _context14.next) {\n              case 0:\n                chainConfig = this.config.chainConfig;\n                this.update({\n                  chainId: chainConfig.chainId\n                });\n                return _context14.abrupt(\"return\", chainConfig.chainId || \"\");\n\n              case 3:\n              case \"end\":\n                return _context14.stop();\n            }\n          }\n        }, _callee14, this);\n      }));\n\n      function lookupNetwork(_x19) {\n        return _lookupNetwork.apply(this, arguments);\n      }\n\n      return lookupNetwork;\n    }()\n  }]);\n\n  return PhantomInjectedProvider;\n}(BaseProvider);\n\nvar getTorusHandlers = function getTorusHandlers(injectedProvider) {\n  var providerHandlers = {\n    requestAccounts: function () {\n      var _requestAccounts2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee15() {\n        var accounts;\n        return _regeneratorRuntime.wrap(function _callee15$(_context15) {\n          while (1) {\n            switch (_context15.prev = _context15.next) {\n              case 0:\n                _context15.next = 2;\n                return injectedProvider.request({\n                  method: \"solana_requestAccounts\",\n                  params: {}\n                });\n\n              case 2:\n                accounts = _context15.sent;\n                return _context15.abrupt(\"return\", accounts);\n\n              case 4:\n              case \"end\":\n                return _context15.stop();\n            }\n          }\n        }, _callee15);\n      }));\n\n      function requestAccounts() {\n        return _requestAccounts2.apply(this, arguments);\n      }\n\n      return requestAccounts;\n    }(),\n    getAccounts: function () {\n      var _getAccounts2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee16() {\n        var accounts;\n        return _regeneratorRuntime.wrap(function _callee16$(_context16) {\n          while (1) {\n            switch (_context16.prev = _context16.next) {\n              case 0:\n                _context16.next = 2;\n                return injectedProvider.request({\n                  method: \"solana_accounts\",\n                  params: {}\n                });\n\n              case 2:\n                accounts = _context16.sent;\n                return _context16.abrupt(\"return\", accounts);\n\n              case 4:\n              case \"end\":\n                return _context16.stop();\n            }\n          }\n        }, _callee16);\n      }));\n\n      function getAccounts() {\n        return _getAccounts2.apply(this, arguments);\n      }\n\n      return getAccounts;\n    }(),\n    getPrivateKey: function () {\n      var _getPrivateKey2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee17() {\n        return _regeneratorRuntime.wrap(function _callee17$(_context17) {\n          while (1) {\n            switch (_context17.prev = _context17.next) {\n              case 0:\n                throw ethErrors.rpc.methodNotSupported();\n\n              case 1:\n              case \"end\":\n                return _context17.stop();\n            }\n          }\n        }, _callee17);\n      }));\n\n      function getPrivateKey() {\n        return _getPrivateKey2.apply(this, arguments);\n      }\n\n      return getPrivateKey;\n    }(),\n    signMessage: function () {\n      var _signMessage2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee18(req) {\n        var _req$params, message;\n\n        return _regeneratorRuntime.wrap(function _callee18$(_context18) {\n          while (1) {\n            switch (_context18.prev = _context18.next) {\n              case 0:\n                _context18.next = 2;\n                return injectedProvider.request({\n                  method: \"sign_message\",\n                  params: {\n                    data: (_req$params = req.params) === null || _req$params === void 0 ? void 0 : _req$params.message\n                  }\n                });\n\n              case 2:\n                message = _context18.sent;\n                return _context18.abrupt(\"return\", message);\n\n              case 4:\n              case \"end\":\n                return _context18.stop();\n            }\n          }\n        }, _callee18);\n      }));\n\n      function signMessage(_x20) {\n        return _signMessage2.apply(this, arguments);\n      }\n\n      return signMessage;\n    }(),\n    signTransaction: function () {\n      var _signTransaction2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee19(req) {\n        var _req$params2, message, response, buf, sendTx;\n\n        return _regeneratorRuntime.wrap(function _callee19$(_context19) {\n          while (1) {\n            switch (_context19.prev = _context19.next) {\n              case 0:\n                if ((_req$params2 = req.params) !== null && _req$params2 !== void 0 && _req$params2.message) {\n                  _context19.next = 2;\n                  break;\n                }\n\n                throw ethErrors.rpc.invalidParams(\"message\");\n\n              case 2:\n                message = bs58.decode(req.params.message).toString(\"hex\");\n                _context19.next = 5;\n                return injectedProvider.request({\n                  method: \"sign_transaction\",\n                  params: {\n                    message: message\n                  }\n                });\n\n              case 5:\n                response = _context19.sent;\n                buf = Buffer.from(response, \"hex\");\n                sendTx = Transaction.from(buf);\n                return _context19.abrupt(\"return\", sendTx);\n\n              case 9:\n              case \"end\":\n                return _context19.stop();\n            }\n          }\n        }, _callee19);\n      }));\n\n      function signTransaction(_x21) {\n        return _signTransaction2.apply(this, arguments);\n      }\n\n      return signTransaction;\n    }(),\n    signAndSendTransaction: function () {\n      var _signAndSendTransaction2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee20(req) {\n        var _req$params3, message, response;\n\n        return _regeneratorRuntime.wrap(function _callee20$(_context20) {\n          while (1) {\n            switch (_context20.prev = _context20.next) {\n              case 0:\n                if ((_req$params3 = req.params) !== null && _req$params3 !== void 0 && _req$params3.message) {\n                  _context20.next = 2;\n                  break;\n                }\n\n                throw ethErrors.rpc.invalidParams(\"message\");\n\n              case 2:\n                message = bs58.decode(req.params.message).toString(\"hex\");\n                _context20.next = 5;\n                return injectedProvider.request({\n                  method: \"send_transaction\",\n                  params: {\n                    message: message\n                  }\n                });\n\n              case 5:\n                response = _context20.sent;\n                return _context20.abrupt(\"return\", {\n                  signature: response\n                });\n\n              case 7:\n              case \"end\":\n                return _context20.stop();\n            }\n          }\n        }, _callee20);\n      }));\n\n      function signAndSendTransaction(_x22) {\n        return _signAndSendTransaction2.apply(this, arguments);\n      }\n\n      return signAndSendTransaction;\n    }(),\n    signAllTransactions: function () {\n      var _signAllTransactions2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee21(req) {\n        var _req$params4, _req$params5, messages, _iterator, _step, transaction, message, response;\n\n        return _regeneratorRuntime.wrap(function _callee21$(_context21) {\n          while (1) {\n            switch (_context21.prev = _context21.next) {\n              case 0:\n                if (!(!((_req$params4 = req.params) !== null && _req$params4 !== void 0 && _req$params4.message) || !((_req$params5 = req.params) !== null && _req$params5 !== void 0 && _req$params5.message.length))) {\n                  _context21.next = 2;\n                  break;\n                }\n\n                throw ethErrors.rpc.invalidParams(\"message\");\n\n              case 2:\n                messages = [];\n                _iterator = _createForOfIteratorHelper(req.params.message);\n\n                try {\n                  for (_iterator.s(); !(_step = _iterator.n()).done;) {\n                    transaction = _step.value;\n                    message = bs58.decode(transaction).toString(\"hex\");\n                    messages.push(message);\n                  }\n                } catch (err) {\n                  _iterator.e(err);\n                } finally {\n                  _iterator.f();\n                }\n\n                _context21.next = 7;\n                return injectedProvider.request({\n                  method: \"sign_all_transactions\",\n                  params: {\n                    message: messages\n                  }\n                });\n\n              case 7:\n                response = _context21.sent;\n                return _context21.abrupt(\"return\", response);\n\n              case 9:\n              case \"end\":\n                return _context21.stop();\n            }\n          }\n        }, _callee21);\n      }));\n\n      function signAllTransactions(_x23) {\n        return _signAllTransactions2.apply(this, arguments);\n      }\n\n      return signAllTransactions;\n    }()\n  };\n  return providerHandlers;\n};\n\nfunction ownKeys$1(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread$1(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys$1(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$1(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}\n\nvar TorusInjectedProvider = /*#__PURE__*/function (_BaseProvider2) {\n  _inherits(TorusInjectedProvider, _BaseProvider2);\n\n  var _super2 = _createSuper(TorusInjectedProvider);\n\n  function TorusInjectedProvider(_ref) {\n    _classCallCheck(this, TorusInjectedProvider);\n\n    var config = _ref.config,\n        state = _ref.state;\n    return _super2.call(this, {\n      config: {\n        chainConfig: _objectSpread$1(_objectSpread$1({}, config.chainConfig), {}, {\n          chainNamespace: CHAIN_NAMESPACES.SOLANA\n        })\n      },\n      state: state\n    });\n  }\n\n  _createClass(TorusInjectedProvider, [{\n    key: \"switchChain\",\n    value: function () {\n      var _switchChain2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee22(_) {\n        return _regeneratorRuntime.wrap(function _callee22$(_context22) {\n          while (1) {\n            switch (_context22.prev = _context22.next) {\n              case 0:\n                return _context22.abrupt(\"return\", Promise.resolve());\n\n              case 1:\n              case \"end\":\n                return _context22.stop();\n            }\n          }\n        }, _callee22);\n      }));\n\n      function switchChain(_x24) {\n        return _switchChain2.apply(this, arguments);\n      }\n\n      return switchChain;\n    }()\n  }, {\n    key: \"setupProvider\",\n    value: function () {\n      var _setupProvider2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee23(injectedProvider) {\n        return _regeneratorRuntime.wrap(function _callee23$(_context23) {\n          while (1) {\n            switch (_context23.prev = _context23.next) {\n              case 0:\n                this.handleInjectedProviderUpdate(injectedProvider);\n                _context23.next = 3;\n                return this.setupEngine(injectedProvider);\n\n              case 3:\n              case \"end\":\n                return _context23.stop();\n            }\n          }\n        }, _callee23, this);\n      }));\n\n      function setupProvider(_x25) {\n        return _setupProvider2.apply(this, arguments);\n      }\n\n      return setupProvider;\n    }()\n  }, {\n    key: \"lookupNetwork\",\n    value: function () {\n      var _lookupNetwork2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee24() {\n        var chainId, connectedChainId, connectedHexChainId;\n        return _regeneratorRuntime.wrap(function _callee24$(_context24) {\n          while (1) {\n            switch (_context24.prev = _context24.next) {\n              case 0:\n                if (this.provider) {\n                  _context24.next = 2;\n                  break;\n                }\n\n                throw ethErrors.provider.custom({\n                  message: \"Torus solana provider is not initialized\",\n                  code: 4902\n                });\n\n              case 2:\n                chainId = this.config.chainConfig.chainId;\n                _context24.next = 5;\n                return this.provider.request({\n                  method: \"solana_chainId\"\n                });\n\n              case 5:\n                connectedChainId = _context24.sent;\n                connectedHexChainId = isHexStrict(connectedChainId.toString()) ? connectedChainId : \"0x\".concat(parseInt(connectedChainId, 10).toString(16));\n\n                if (!(chainId !== connectedHexChainId)) {\n                  _context24.next = 9;\n                  break;\n                }\n\n                throw WalletInitializationError.rpcConnectionError(\"Invalid network, net_version is: \".concat(connectedHexChainId, \", expected: \").concat(chainId));\n\n              case 9:\n                this.update({\n                  chainId: connectedHexChainId\n                });\n                this.provider.emit(\"connect\", {\n                  chainId: this.state.chainId\n                });\n                this.provider.emit(\"chainChanged\", this.state.chainId);\n                return _context24.abrupt(\"return\", this.state.chainId);\n\n              case 13:\n              case \"end\":\n                return _context24.stop();\n            }\n          }\n        }, _callee24, this);\n      }));\n\n      function lookupNetwork() {\n        return _lookupNetwork2.apply(this, arguments);\n      }\n\n      return lookupNetwork;\n    }()\n  }, {\n    key: \"setupEngine\",\n    value: function () {\n      var _setupEngine = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee25(injectedProvider) {\n        var providerHandlers, solanaMiddleware, injectedProviderProxy, engine, provider;\n        return _regeneratorRuntime.wrap(function _callee25$(_context25) {\n          while (1) {\n            switch (_context25.prev = _context25.next) {\n              case 0:\n                providerHandlers = getTorusHandlers(injectedProvider);\n                solanaMiddleware = createSolanaMiddleware(providerHandlers);\n                injectedProviderProxy = createInjectedProviderProxyMiddleware(injectedProvider);\n                engine = new JRPCEngine();\n                engine.push(solanaMiddleware);\n                engine.push(injectedProviderProxy);\n                provider = providerFromEngine(engine);\n                this.updateProviderEngineProxy(provider);\n                _context25.next = 10;\n                return this.lookupNetwork();\n\n              case 10:\n              case \"end\":\n                return _context25.stop();\n            }\n          }\n        }, _callee25, this);\n      }));\n\n      function setupEngine(_x26) {\n        return _setupEngine.apply(this, arguments);\n      }\n\n      return setupEngine;\n    }()\n  }, {\n    key: \"handleInjectedProviderUpdate\",\n    value: function () {\n      var _handleInjectedProviderUpdate = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee28(injectedProvider) {\n        var _this = this;\n\n        return _regeneratorRuntime.wrap(function _callee28$(_context28) {\n          while (1) {\n            switch (_context28.prev = _context28.next) {\n              case 0:\n                injectedProvider.on(\"accountsChanged\", /*#__PURE__*/function () {\n                  var _ref9 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee26(accounts) {\n                    return _regeneratorRuntime.wrap(function _callee26$(_context26) {\n                      while (1) {\n                        switch (_context26.prev = _context26.next) {\n                          case 0:\n                            _this.provider.emit(\"accountsChanged\", accounts);\n\n                          case 1:\n                          case \"end\":\n                            return _context26.stop();\n                        }\n                      }\n                    }, _callee26);\n                  }));\n\n                  return function (_x28) {\n                    return _ref9.apply(this, arguments);\n                  };\n                }());\n                injectedProvider.on(\"chainChanged\", /*#__PURE__*/function () {\n                  var _ref10 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee27(chainId) {\n                    var connectedHexChainId;\n                    return _regeneratorRuntime.wrap(function _callee27$(_context27) {\n                      while (1) {\n                        switch (_context27.prev = _context27.next) {\n                          case 0:\n                            connectedHexChainId = isHexStrict(chainId) ? chainId : \"0x\".concat(parseInt(chainId, 10).toString(16)); // Check if chainId changed and trigger event\n\n                            _this.configure({\n                              chainConfig: _objectSpread$1(_objectSpread$1({}, _this.config.chainConfig), {}, {\n                                chainId: connectedHexChainId\n                              })\n                            });\n\n                            _context27.next = 4;\n                            return _this.setupProvider(injectedProvider);\n\n                          case 4:\n                          case \"end\":\n                            return _context27.stop();\n                        }\n                      }\n                    }, _callee27);\n                  }));\n\n                  return function (_x29) {\n                    return _ref10.apply(this, arguments);\n                  };\n                }());\n\n              case 2:\n              case \"end\":\n                return _context28.stop();\n            }\n          }\n        }, _callee28);\n      }));\n\n      function handleInjectedProviderUpdate(_x27) {\n        return _handleInjectedProviderUpdate.apply(this, arguments);\n      }\n\n      return handleInjectedProviderUpdate;\n    }()\n  }]);\n\n  return TorusInjectedProvider;\n}(BaseProvider);\n\nfunction createChainIdMiddleware(chainId) {\n  return function (req, res, next, end) {\n    if (req.method === \"solana_chainId\") {\n      res.result = chainId;\n      return end();\n    }\n\n    return next();\n  };\n}\n\nfunction createProviderConfigMiddleware(providerConfig) {\n  return function (req, res, next, end) {\n    if (req.method === \"solana_provider_config\") {\n      res.result = providerConfig;\n      return end();\n    }\n\n    return next();\n  };\n}\n\nfunction createJsonRpcClient(providerConfig) {\n  var chainId = providerConfig.chainId,\n      rpcTarget = providerConfig.rpcTarget;\n  var fetchMiddleware = createFetchMiddleware({\n    rpcTarget: rpcTarget\n  });\n  var networkMiddleware = mergeMiddleware([createChainIdMiddleware(chainId), createProviderConfigMiddleware(providerConfig), fetchMiddleware]);\n  return {\n    networkMiddleware: networkMiddleware,\n    fetchMiddleware: fetchMiddleware\n  };\n}\n\nfunction getProviderHandlers(_x30) {\n  return _getProviderHandlers.apply(this, arguments);\n}\n\nfunction _getProviderHandlers() {\n  _getProviderHandlers = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee51(_ref) {\n    var privKey, getProviderEngineProxy, transactionGenerator, keyPairGenerator, keyPair, providerHandlers;\n    return _regeneratorRuntime.wrap(function _callee51$(_context51) {\n      while (1) {\n        switch (_context51.prev = _context51.next) {\n          case 0:\n            privKey = _ref.privKey, getProviderEngineProxy = _ref.getProviderEngineProxy;\n\n            transactionGenerator = function transactionGenerator(serializedTx) {\n              var decodedTx = bs58.decode(serializedTx);\n              var tx = Transaction.populate(Message.from(decodedTx));\n              return tx;\n            };\n\n            keyPairGenerator = function keyPairGenerator() {\n              return Keypair.fromSecretKey(Buffer.from(privKey, \"hex\"));\n            };\n\n            if (!(typeof privKey !== \"string\")) {\n              _context51.next = 5;\n              break;\n            }\n\n            throw WalletInitializationError.invalidParams(\"privKey must be a string\");\n\n          case 5:\n            keyPair = keyPairGenerator();\n            providerHandlers = {\n              requestAccounts: function () {\n                var _requestAccounts4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee44() {\n                  return _regeneratorRuntime.wrap(function _callee44$(_context44) {\n                    while (1) {\n                      switch (_context44.prev = _context44.next) {\n                        case 0:\n                          return _context44.abrupt(\"return\", [keyPair.publicKey.toBase58()]);\n\n                        case 1:\n                        case \"end\":\n                          return _context44.stop();\n                      }\n                    }\n                  }, _callee44);\n                }));\n\n                function requestAccounts() {\n                  return _requestAccounts4.apply(this, arguments);\n                }\n\n                return requestAccounts;\n              }(),\n              getAccounts: function () {\n                var _getAccounts3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee45() {\n                  return _regeneratorRuntime.wrap(function _callee45$(_context45) {\n                    while (1) {\n                      switch (_context45.prev = _context45.next) {\n                        case 0:\n                          return _context45.abrupt(\"return\", [keyPair.publicKey.toBase58()]);\n\n                        case 1:\n                        case \"end\":\n                          return _context45.stop();\n                      }\n                    }\n                  }, _callee45);\n                }));\n\n                function getAccounts() {\n                  return _getAccounts3.apply(this, arguments);\n                }\n\n                return getAccounts;\n              }(),\n              getPrivateKey: function () {\n                var _getPrivateKey3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee46() {\n                  return _regeneratorRuntime.wrap(function _callee46$(_context46) {\n                    while (1) {\n                      switch (_context46.prev = _context46.next) {\n                        case 0:\n                          return _context46.abrupt(\"return\", privKey);\n\n                        case 1:\n                        case \"end\":\n                          return _context46.stop();\n                      }\n                    }\n                  }, _callee46);\n                }));\n\n                function getPrivateKey() {\n                  return _getPrivateKey3.apply(this, arguments);\n                }\n\n                return getPrivateKey;\n              }(),\n              signTransaction: function () {\n                var _signTransaction4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee47(req) {\n                  var _req$params, _req$params2, transaction;\n\n                  return _regeneratorRuntime.wrap(function _callee47$(_context47) {\n                    while (1) {\n                      switch (_context47.prev = _context47.next) {\n                        case 0:\n                          if ((_req$params = req.params) !== null && _req$params !== void 0 && _req$params.message) {\n                            _context47.next = 2;\n                            break;\n                          }\n\n                          throw ethErrors.rpc.invalidParams(\"message\");\n\n                        case 2:\n                          transaction = transactionGenerator((_req$params2 = req.params) === null || _req$params2 === void 0 ? void 0 : _req$params2.message);\n                          transaction.partialSign(keyPair);\n                          return _context47.abrupt(\"return\", transaction);\n\n                        case 5:\n                        case \"end\":\n                          return _context47.stop();\n                      }\n                    }\n                  }, _callee47);\n                }));\n\n                function signTransaction(_x43) {\n                  return _signTransaction4.apply(this, arguments);\n                }\n\n                return signTransaction;\n              }(),\n              signMessage: function () {\n                var _signMessage4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee48(req) {\n                  var _req$params3, signedMsg;\n\n                  return _regeneratorRuntime.wrap(function _callee48$(_context48) {\n                    while (1) {\n                      switch (_context48.prev = _context48.next) {\n                        case 0:\n                          if ((_req$params3 = req.params) !== null && _req$params3 !== void 0 && _req$params3.message) {\n                            _context48.next = 2;\n                            break;\n                          }\n\n                          throw ethErrors.rpc.invalidParams(\"message\");\n\n                        case 2:\n                          signedMsg = nacl.sign.detached(req.params.message, keyPair.secretKey);\n                          return _context48.abrupt(\"return\", signedMsg);\n\n                        case 4:\n                        case \"end\":\n                          return _context48.stop();\n                      }\n                    }\n                  }, _callee48);\n                }));\n\n                function signMessage(_x44) {\n                  return _signMessage4.apply(this, arguments);\n                }\n\n                return signMessage;\n              }(),\n              signAndSendTransaction: function () {\n                var _signAndSendTransaction4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee49(req) {\n                  var _req$params4, _req$params5, _providerEngineProxy, transaction, sig;\n\n                  return _regeneratorRuntime.wrap(function _callee49$(_context49) {\n                    while (1) {\n                      switch (_context49.prev = _context49.next) {\n                        case 0:\n                          if ((_req$params4 = req.params) !== null && _req$params4 !== void 0 && _req$params4.message) {\n                            _context49.next = 2;\n                            break;\n                          }\n\n                          throw ethErrors.rpc.invalidParams(\"message\");\n\n                        case 2:\n                          _providerEngineProxy = getProviderEngineProxy();\n\n                          if (_providerEngineProxy) {\n                            _context49.next = 5;\n                            break;\n                          }\n\n                          throw ethErrors.provider.custom({\n                            message: \"Provider is not initialized\",\n                            code: 4902\n                          });\n\n                        case 5:\n                          transaction = transactionGenerator((_req$params5 = req.params) === null || _req$params5 === void 0 ? void 0 : _req$params5.message);\n                          transaction.sign(keyPair);\n                          _context49.next = 9;\n                          return _providerEngineProxy.request({\n                            method: \"sendTransaction\",\n                            params: [bs58.encode(transaction.serialize())]\n                          });\n\n                        case 9:\n                          sig = _context49.sent;\n                          return _context49.abrupt(\"return\", {\n                            signature: sig\n                          });\n\n                        case 11:\n                        case \"end\":\n                          return _context49.stop();\n                      }\n                    }\n                  }, _callee49);\n                }));\n\n                function signAndSendTransaction(_x45) {\n                  return _signAndSendTransaction4.apply(this, arguments);\n                }\n\n                return signAndSendTransaction;\n              }(),\n              signAllTransactions: function () {\n                var _signAllTransactions4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee50(req) {\n                  var _req$params6, _req$params7, signedTransactions, _iterator2, _step2, tx, _req$params8, transaction;\n\n                  return _regeneratorRuntime.wrap(function _callee50$(_context50) {\n                    while (1) {\n                      switch (_context50.prev = _context50.next) {\n                        case 0:\n                          if (!(!((_req$params6 = req.params) !== null && _req$params6 !== void 0 && _req$params6.message) || !((_req$params7 = req.params) !== null && _req$params7 !== void 0 && _req$params7.message.length))) {\n                            _context50.next = 2;\n                            break;\n                          }\n\n                          throw ethErrors.rpc.invalidParams(\"message\");\n\n                        case 2:\n                          signedTransactions = [];\n                          _iterator2 = _createForOfIteratorHelper(((_req$params8 = req.params) === null || _req$params8 === void 0 ? void 0 : _req$params8.message) || []);\n\n                          try {\n                            for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n                              tx = _step2.value;\n                              transaction = transactionGenerator(tx);\n                              transaction.partialSign(keyPair);\n                              signedTransactions.push(transaction);\n                            }\n                          } catch (err) {\n                            _iterator2.e(err);\n                          } finally {\n                            _iterator2.f();\n                          }\n\n                          return _context50.abrupt(\"return\", signedTransactions);\n\n                        case 6:\n                        case \"end\":\n                          return _context50.stop();\n                      }\n                    }\n                  }, _callee50);\n                }));\n\n                function signAllTransactions(_x46) {\n                  return _signAllTransactions4.apply(this, arguments);\n                }\n\n                return signAllTransactions;\n              }()\n            };\n            return _context51.abrupt(\"return\", providerHandlers);\n\n          case 8:\n          case \"end\":\n            return _context51.stop();\n        }\n      }\n    }, _callee51);\n  }));\n  return _getProviderHandlers.apply(this, arguments);\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}\n\nvar SolanaPrivateKeyProvider = /*#__PURE__*/function (_BaseProvider3) {\n  _inherits(SolanaPrivateKeyProvider, _BaseProvider3);\n\n  var _super3 = _createSuper(SolanaPrivateKeyProvider);\n\n  function SolanaPrivateKeyProvider(_ref) {\n    _classCallCheck(this, SolanaPrivateKeyProvider);\n\n    var config = _ref.config,\n        state = _ref.state;\n    return _super3.call(this, {\n      config: {\n        chainConfig: _objectSpread(_objectSpread({}, config.chainConfig), {}, {\n          chainNamespace: CHAIN_NAMESPACES.SOLANA\n        })\n      },\n      state: state\n    });\n  }\n\n  _createClass(SolanaPrivateKeyProvider, [{\n    key: \"enable\",\n    value: function () {\n      var _enable = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee29() {\n        return _regeneratorRuntime.wrap(function _callee29$(_context29) {\n          while (1) {\n            switch (_context29.prev = _context29.next) {\n              case 0:\n                if (this.state.privateKey) {\n                  _context29.next = 2;\n                  break;\n                }\n\n                throw ethErrors.provider.custom({\n                  message: \"Private key is not found in state, plz pass it in constructor state param\",\n                  code: 4902\n                });\n\n              case 2:\n                _context29.next = 4;\n                return this.setupProvider(this.state.privateKey);\n\n              case 4:\n                return _context29.abrupt(\"return\", this._providerEngineProxy.request({\n                  method: \"eth_accounts\"\n                }));\n\n              case 5:\n              case \"end\":\n                return _context29.stop();\n            }\n          }\n        }, _callee29, this);\n      }));\n\n      function enable() {\n        return _enable.apply(this, arguments);\n      }\n\n      return enable;\n    }()\n  }, {\n    key: \"setupProvider\",\n    value: function () {\n      var _setupProvider3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee30(privKey) {\n        var providerHandlers, solanaMiddleware, engine, _createJsonRpcClient, networkMiddleware, provider;\n\n        return _regeneratorRuntime.wrap(function _callee30$(_context30) {\n          while (1) {\n            switch (_context30.prev = _context30.next) {\n              case 0:\n                _context30.next = 2;\n                return getProviderHandlers({\n                  privKey: privKey,\n                  getProviderEngineProxy: this.getProviderEngineProxy.bind(this)\n                });\n\n              case 2:\n                providerHandlers = _context30.sent;\n                solanaMiddleware = createSolanaMiddleware(providerHandlers);\n                engine = new JRPCEngine();\n                _createJsonRpcClient = createJsonRpcClient(this.config.chainConfig), networkMiddleware = _createJsonRpcClient.networkMiddleware;\n                engine.push(this.getChainSwitchMiddleware());\n                engine.push(this.getAccountMiddleware());\n                engine.push(solanaMiddleware);\n                engine.push(networkMiddleware);\n                provider = providerFromEngine(engine);\n                this.updateProviderEngineProxy(provider);\n                _context30.next = 14;\n                return this.lookupNetwork();\n\n              case 14:\n              case \"end\":\n                return _context30.stop();\n            }\n          }\n        }, _callee30, this);\n      }));\n\n      function setupProvider(_x31) {\n        return _setupProvider3.apply(this, arguments);\n      }\n\n      return setupProvider;\n    }()\n  }, {\n    key: \"updateAccount\",\n    value: function () {\n      var _updateAccount = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee31(params) {\n        var existingKey;\n        return _regeneratorRuntime.wrap(function _callee31$(_context31) {\n          while (1) {\n            switch (_context31.prev = _context31.next) {\n              case 0:\n                if (this._providerEngineProxy) {\n                  _context31.next = 2;\n                  break;\n                }\n\n                throw ethErrors.provider.custom({\n                  message: \"Provider is not initialized\",\n                  code: 4902\n                });\n\n              case 2:\n                _context31.next = 4;\n                return this._providerEngineProxy.request({\n                  method: \"solanaPrivateKey\"\n                });\n\n              case 4:\n                existingKey = _context31.sent;\n\n                if (!(existingKey !== params.privateKey)) {\n                  _context31.next = 14;\n                  break;\n                }\n\n                _context31.next = 8;\n                return this.setupProvider(params.privateKey);\n\n              case 8:\n                _context31.t0 = this._providerEngineProxy;\n                _context31.next = 11;\n                return this._providerEngineProxy.request({\n                  method: \"requestAccounts\"\n                });\n\n              case 11:\n                _context31.t1 = _context31.sent;\n                _context31.t2 = {\n                  accounts: _context31.t1\n                };\n\n                _context31.t0.emit.call(_context31.t0, \"accountsChanged\", _context31.t2);\n\n              case 14:\n              case \"end\":\n                return _context31.stop();\n            }\n          }\n        }, _callee31, this);\n      }));\n\n      function updateAccount(_x32) {\n        return _updateAccount.apply(this, arguments);\n      }\n\n      return updateAccount;\n    }()\n  }, {\n    key: \"switchChain\",\n    value: function () {\n      var _switchChain3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee32(params) {\n        var chainConfig, privKey;\n        return _regeneratorRuntime.wrap(function _callee32$(_context32) {\n          while (1) {\n            switch (_context32.prev = _context32.next) {\n              case 0:\n                if (this._providerEngineProxy) {\n                  _context32.next = 2;\n                  break;\n                }\n\n                throw ethErrors.provider.custom({\n                  message: \"Provider is not initialized\",\n                  code: 4902\n                });\n\n              case 2:\n                chainConfig = this.getChainConfig(params.chainId);\n                this.update({\n                  chainId: \"loading\"\n                });\n                this.configure({\n                  chainConfig: chainConfig\n                });\n                _context32.next = 7;\n                return this._providerEngineProxy.request({\n                  method: \"solanaPrivateKey\"\n                });\n\n              case 7:\n                privKey = _context32.sent;\n                _context32.next = 10;\n                return this.setupProvider(privKey);\n\n              case 10:\n              case \"end\":\n                return _context32.stop();\n            }\n          }\n        }, _callee32, this);\n      }));\n\n      function switchChain(_x33) {\n        return _switchChain3.apply(this, arguments);\n      }\n\n      return switchChain;\n    }()\n  }, {\n    key: \"lookupNetwork\",\n    value: function () {\n      var _lookupNetwork3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee33() {\n        var health, chainConfig;\n        return _regeneratorRuntime.wrap(function _callee33$(_context33) {\n          while (1) {\n            switch (_context33.prev = _context33.next) {\n              case 0:\n                if (this._providerEngineProxy) {\n                  _context33.next = 2;\n                  break;\n                }\n\n                throw ethErrors.provider.custom({\n                  message: \"Provider is not initialized\",\n                  code: 4902\n                });\n\n              case 2:\n                _context33.next = 4;\n                return this._providerEngineProxy.request({\n                  method: \"getHealth\",\n                  params: []\n                });\n\n              case 4:\n                health = _context33.sent;\n                chainConfig = this.config.chainConfig;\n\n                if (!(health !== \"ok\")) {\n                  _context33.next = 8;\n                  break;\n                }\n\n                throw WalletInitializationError.rpcConnectionError(\"Failed to lookup network for following rpc target: \".concat(chainConfig.rpcTarget));\n\n              case 8:\n                this.update({\n                  chainId: chainConfig.chainId\n                });\n\n                if (this.state.chainId !== chainConfig.chainId) {\n                  this.provider.emit(\"chainChanged\", this.state.chainId);\n                  this.provider.emit(\"connect\", {\n                    chainId: this.state.chainId\n                  });\n                }\n\n                return _context33.abrupt(\"return\", this.state.chainId);\n\n              case 11:\n              case \"end\":\n                return _context33.stop();\n            }\n          }\n        }, _callee33, this);\n      }));\n\n      function lookupNetwork() {\n        return _lookupNetwork3.apply(this, arguments);\n      }\n\n      return lookupNetwork;\n    }()\n  }, {\n    key: \"getChainSwitchMiddleware\",\n    value: function getChainSwitchMiddleware() {\n      var _this2 = this;\n\n      var chainSwitchHandlers = {\n        addNewChainConfig: function () {\n          var _addNewChainConfig = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee34(req) {\n            var _req$params9, chainId, chainName, rpcUrls, blockExplorerUrls, nativeCurrency;\n\n            return _regeneratorRuntime.wrap(function _callee34$(_context34) {\n              while (1) {\n                switch (_context34.prev = _context34.next) {\n                  case 0:\n                    if (req.params) {\n                      _context34.next = 2;\n                      break;\n                    }\n\n                    throw ethErrors.rpc.invalidParams(\"Missing request params\");\n\n                  case 2:\n                    _req$params9 = req.params, chainId = _req$params9.chainId, chainName = _req$params9.chainName, rpcUrls = _req$params9.rpcUrls, blockExplorerUrls = _req$params9.blockExplorerUrls, nativeCurrency = _req$params9.nativeCurrency;\n\n                    if (chainId) {\n                      _context34.next = 5;\n                      break;\n                    }\n\n                    throw ethErrors.rpc.invalidParams(\"Missing chainId in chainParams\");\n\n                  case 5:\n                    if (!(!rpcUrls || rpcUrls.length === 0)) {\n                      _context34.next = 7;\n                      break;\n                    }\n\n                    throw ethErrors.rpc.invalidParams(\"Missing rpcUrls in chainParams\");\n\n                  case 7:\n                    if (nativeCurrency) {\n                      _context34.next = 9;\n                      break;\n                    }\n\n                    throw ethErrors.rpc.invalidParams(\"Missing nativeCurrency in chainParams\");\n\n                  case 9:\n                    _this2.addChain({\n                      chainNamespace: CHAIN_NAMESPACES.SOLANA,\n                      chainId: chainId,\n                      ticker: (nativeCurrency === null || nativeCurrency === void 0 ? void 0 : nativeCurrency.symbol) || \"SOL\",\n                      tickerName: (nativeCurrency === null || nativeCurrency === void 0 ? void 0 : nativeCurrency.name) || \"Solana\",\n                      displayName: chainName,\n                      rpcTarget: rpcUrls[0],\n                      blockExplorer: (blockExplorerUrls === null || blockExplorerUrls === void 0 ? void 0 : blockExplorerUrls[0]) || \"\"\n                    });\n\n                  case 10:\n                  case \"end\":\n                    return _context34.stop();\n                }\n              }\n            }, _callee34);\n          }));\n\n          function addNewChainConfig(_x34) {\n            return _addNewChainConfig.apply(this, arguments);\n          }\n\n          return addNewChainConfig;\n        }(),\n        switchSolanaChain: function () {\n          var _switchSolanaChain = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee35(req) {\n            return _regeneratorRuntime.wrap(function _callee35$(_context35) {\n              while (1) {\n                switch (_context35.prev = _context35.next) {\n                  case 0:\n                    if (req.params) {\n                      _context35.next = 2;\n                      break;\n                    }\n\n                    throw ethErrors.rpc.invalidParams(\"Missing request params\");\n\n                  case 2:\n                    if (req.params.chainId) {\n                      _context35.next = 4;\n                      break;\n                    }\n\n                    throw ethErrors.rpc.invalidParams(\"Missing chainId\");\n\n                  case 4:\n                    _context35.next = 6;\n                    return _this2.switchChain(req.params);\n\n                  case 6:\n                  case \"end\":\n                    return _context35.stop();\n                }\n              }\n            }, _callee35);\n          }));\n\n          function switchSolanaChain(_x35) {\n            return _switchSolanaChain.apply(this, arguments);\n          }\n\n          return switchSolanaChain;\n        }()\n      };\n      var chainSwitchMiddleware = createChainSwitchMiddleware(chainSwitchHandlers);\n      return chainSwitchMiddleware;\n    }\n  }, {\n    key: \"getAccountMiddleware\",\n    value: function getAccountMiddleware() {\n      var _this3 = this;\n\n      var accountHandlers = {\n        updatePrivatekey: function () {\n          var _updatePrivatekey = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee36(req) {\n            var privateKey;\n            return _regeneratorRuntime.wrap(function _callee36$(_context36) {\n              while (1) {\n                switch (_context36.prev = _context36.next) {\n                  case 0:\n                    if (req.params) {\n                      _context36.next = 2;\n                      break;\n                    }\n\n                    throw ethErrors.rpc.invalidParams(\"Missing request params\");\n\n                  case 2:\n                    if (req.params.privateKey) {\n                      _context36.next = 4;\n                      break;\n                    }\n\n                    throw ethErrors.rpc.invalidParams(\"Missing privateKey\");\n\n                  case 4:\n                    privateKey = req.params.privateKey;\n                    _context36.next = 7;\n                    return _this3.updateAccount({\n                      privateKey: privateKey\n                    });\n\n                  case 7:\n                  case \"end\":\n                    return _context36.stop();\n                }\n              }\n            }, _callee36);\n          }));\n\n          function updatePrivatekey(_x36) {\n            return _updatePrivatekey.apply(this, arguments);\n          }\n\n          return updatePrivatekey;\n        }()\n      };\n      return createAccountMiddleware(accountHandlers);\n    }\n  }]);\n\n  return SolanaPrivateKeyProvider;\n}(BaseProvider);\n\n_defineProperty(SolanaPrivateKeyProvider, \"getProviderInstance\", /*#__PURE__*/function () {\n  var _ref11 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee37(params) {\n    var providerFactory;\n    return _regeneratorRuntime.wrap(function _callee37$(_context37) {\n      while (1) {\n        switch (_context37.prev = _context37.next) {\n          case 0:\n            providerFactory = new SolanaPrivateKeyProvider({\n              config: {\n                chainConfig: params.chainConfig\n              }\n            });\n            _context37.next = 3;\n            return providerFactory.setupProvider(params.privKey);\n\n          case 3:\n            return _context37.abrupt(\"return\", providerFactory);\n\n          case 4:\n          case \"end\":\n            return _context37.stop();\n        }\n      }\n    }, _callee37);\n  }));\n\n  return function (_x37) {\n    return _ref11.apply(this, arguments);\n  };\n}());\n\nvar SolanaWallet = /*#__PURE__*/function () {\n  function SolanaWallet(provider) {\n    _classCallCheck(this, SolanaWallet);\n\n    _defineProperty(this, \"provider\", void 0);\n\n    this.provider = provider;\n  }\n\n  _createClass(SolanaWallet, [{\n    key: \"requestAccounts\",\n    value: function () {\n      var _requestAccounts3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee38() {\n        var accounts;\n        return _regeneratorRuntime.wrap(function _callee38$(_context38) {\n          while (1) {\n            switch (_context38.prev = _context38.next) {\n              case 0:\n                _context38.next = 2;\n                return this.provider.request({\n                  method: \"requestAccounts\",\n                  params: {}\n                });\n\n              case 2:\n                accounts = _context38.sent;\n                return _context38.abrupt(\"return\", accounts);\n\n              case 4:\n              case \"end\":\n                return _context38.stop();\n            }\n          }\n        }, _callee38, this);\n      }));\n\n      function requestAccounts() {\n        return _requestAccounts3.apply(this, arguments);\n      }\n\n      return requestAccounts;\n    }()\n  }, {\n    key: \"signAndSendTransaction\",\n    value: function () {\n      var _signAndSendTransaction3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee39(transaction) {\n        var _yield$this$provider$, signature;\n\n        return _regeneratorRuntime.wrap(function _callee39$(_context39) {\n          while (1) {\n            switch (_context39.prev = _context39.next) {\n              case 0:\n                _context39.next = 2;\n                return this.provider.request({\n                  method: \"signAndSendTransaction\",\n                  params: {\n                    message: bs58.encode(transaction.serialize({\n                      requireAllSignatures: false\n                    }))\n                  }\n                });\n\n              case 2:\n                _yield$this$provider$ = _context39.sent;\n                signature = _yield$this$provider$.signature;\n                return _context39.abrupt(\"return\", {\n                  signature: signature\n                });\n\n              case 5:\n              case \"end\":\n                return _context39.stop();\n            }\n          }\n        }, _callee39, this);\n      }));\n\n      function signAndSendTransaction(_x38) {\n        return _signAndSendTransaction3.apply(this, arguments);\n      }\n\n      return signAndSendTransaction;\n    }()\n  }, {\n    key: \"signTransaction\",\n    value: function () {\n      var _signTransaction3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee40(transaction) {\n        var signedTransaction;\n        return _regeneratorRuntime.wrap(function _callee40$(_context40) {\n          while (1) {\n            switch (_context40.prev = _context40.next) {\n              case 0:\n                _context40.next = 2;\n                return this.provider.request({\n                  method: \"signTransaction\",\n                  params: {\n                    message: bs58.encode(transaction.serialize({\n                      requireAllSignatures: false\n                    }))\n                  }\n                });\n\n              case 2:\n                signedTransaction = _context40.sent;\n                return _context40.abrupt(\"return\", signedTransaction);\n\n              case 4:\n              case \"end\":\n                return _context40.stop();\n            }\n          }\n        }, _callee40, this);\n      }));\n\n      function signTransaction(_x39) {\n        return _signTransaction3.apply(this, arguments);\n      }\n\n      return signTransaction;\n    }()\n  }, {\n    key: \"signAllTransactions\",\n    value: function () {\n      var _signAllTransactions3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee41(transactions) {\n        var messages, signedTransaction;\n        return _regeneratorRuntime.wrap(function _callee41$(_context41) {\n          while (1) {\n            switch (_context41.prev = _context41.next) {\n              case 0:\n                messages = transactions.map(function (transaction) {\n                  return bs58.encode(transaction.serialize({\n                    requireAllSignatures: false\n                  }));\n                });\n                _context41.next = 3;\n                return this.provider.request({\n                  method: \"signAllTransactions\",\n                  params: {\n                    message: messages\n                  }\n                });\n\n              case 3:\n                signedTransaction = _context41.sent;\n                return _context41.abrupt(\"return\", signedTransaction);\n\n              case 5:\n              case \"end\":\n                return _context41.stop();\n            }\n          }\n        }, _callee41, this);\n      }));\n\n      function signAllTransactions(_x40) {\n        return _signAllTransactions3.apply(this, arguments);\n      }\n\n      return signAllTransactions;\n    }()\n  }, {\n    key: \"signMessage\",\n    value: function () {\n      var _signMessage3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee42(data) {\n        var response;\n        return _regeneratorRuntime.wrap(function _callee42$(_context42) {\n          while (1) {\n            switch (_context42.prev = _context42.next) {\n              case 0:\n                _context42.next = 2;\n                return this.provider.request({\n                  method: \"signMessage\",\n                  params: {\n                    message: data\n                  }\n                });\n\n              case 2:\n                response = _context42.sent;\n                return _context42.abrupt(\"return\", response);\n\n              case 4:\n              case \"end\":\n                return _context42.stop();\n            }\n          }\n        }, _callee42, this);\n      }));\n\n      function signMessage(_x41) {\n        return _signMessage3.apply(this, arguments);\n      }\n\n      return signMessage;\n    }()\n  }, {\n    key: \"request\",\n    value: function () {\n      var _request = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee43(args) {\n        var result;\n        return _regeneratorRuntime.wrap(function _callee43$(_context43) {\n          while (1) {\n            switch (_context43.prev = _context43.next) {\n              case 0:\n                _context43.next = 2;\n                return this.provider.request(args);\n\n              case 2:\n                result = _context43.sent;\n                return _context43.abrupt(\"return\", result);\n\n              case 4:\n              case \"end\":\n                return _context43.stop();\n            }\n          }\n        }, _callee43, this);\n      }));\n\n      function request(_x42) {\n        return _request.apply(this, arguments);\n      }\n\n      return request;\n    }()\n  }]);\n\n  return SolanaWallet;\n}();\n\nexport { PhantomInjectedProvider, SolanaPrivateKeyProvider, SolanaWallet, TorusInjectedProvider };","map":{"version":3,"mappings":"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","names":["createGetAccountsMiddleware","getAccounts","_ref","createAsyncMiddleware","request","response","next","method","Error","accounts","result","undefined","createRequestAccountsMiddleware","requestAccounts","_ref2","createGenericJRPCMiddleware","targetMethod","handler","createSolanaMiddleware","providerHandlers","signTransaction","signAndSendTransaction","signAllTransactions","signMessage","getPrivateKey","mergeMiddleware","createChainSwitchMiddleware","addNewChainConfig","_ref3","switchSolanaChain","createAccountMiddleware","updatePrivatekey","_ref4","createInjectedProviderProxyMiddleware","provider","req","res","_next","getPhantomHandlers","injectedProvider","publicKey","bs58","encode","toBytes","ethErrors","rpc","methodNotSupported","message","decode","params","txn","Transaction","from","transaction","_req$params","txRes","signature","_req$params2","_req$params3","length","invalidParams","txns","map","msg","decodedMsg","PhantomInjectedProvider","constructor","config","state","chainConfig","chainNamespace","CHAIN_NAMESPACES","SOLANA","_","Promise","resolve","solanaMiddleware","injectedProviderProxy","engine","JRPCEngine","push","providerFromEngine","updateProviderEngineProxy","lookupNetwork","update","chainId","BaseProvider","getTorusHandlers","data","toString","buf","Buffer","sendTx","_req$params4","_req$params5","messages","TorusInjectedProvider","handleInjectedProviderUpdate","setupEngine","custom","code","connectedChainId","connectedHexChainId","isHexStrict","parseInt","WalletInitializationError","rpcConnectionError","emit","on","configure","setupProvider","createChainIdMiddleware","end","createProviderConfigMiddleware","providerConfig","createJsonRpcClient","rpcTarget","fetchMiddleware","createFetchMiddleware","networkMiddleware","getProviderHandlers","privKey","getProviderEngineProxy","transactionGenerator","serializedTx","decodedTx","tx","populate","Message","keyPairGenerator","Keypair","fromSecretKey","keyPair","toBase58","partialSign","signedMsg","nacl","sign","detached","secretKey","_providerEngineProxy","serialize","sig","_req$params6","_req$params7","signedTransactions","SolanaPrivateKeyProvider","privateKey","bind","getChainSwitchMiddleware","getAccountMiddleware","existingKey","getChainConfig","health","chainSwitchHandlers","chainName","rpcUrls","blockExplorerUrls","nativeCurrency","addChain","ticker","symbol","tickerName","name","displayName","blockExplorer","switchChain","chainSwitchMiddleware","accountHandlers","updateAccount","providerFactory","SolanaWallet","requireAllSignatures","signedTransaction","transactions","args"],"sources":["../src/rpc/solanaRpcMiddlewares.ts","../src/providers/injectedProviders/injectedProviderProxy.ts","../src/providers/injectedProviders/phantom/providerHandlers.ts","../src/providers/injectedProviders/phantom/phantomInjectedProvider.ts","../src/providers/injectedProviders/torus/providerHandlers.ts","../src/providers/injectedProviders/torus/torusInjectedProvider.ts","../src/rpc/JrpcClient.ts","../src/providers/privateKeyProvider/solanaPrivateKeyUtils.ts","../src/providers/privateKeyProvider/solanaPrivateKeyProvider.ts","../src/solanaWallet.ts"],"sourcesContent":[null,null,null,null,null,null,null,null,null,null]},"metadata":{},"sourceType":"module"}