{"ast":null,"code":"import _createForOfIteratorHelper from \"/root/gshark/Three.js/Gigashark-v2/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\nimport _classCallCheck from \"/root/gshark/Three.js/Gigashark-v2/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/root/gshark/Three.js/Gigashark-v2/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"/root/gshark/Three.js/Gigashark-v2/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/root/gshark/Three.js/Gigashark-v2/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport _regeneratorRuntime from \"/root/gshark/Three.js/Gigashark-v2/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/root/gshark/Three.js/Gigashark-v2/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _defineProperty from '@babel/runtime/helpers/defineProperty';\nimport { createFetchMiddleware, providerFromEngine } from '@toruslabs/base-controllers';\nimport { mergeMiddleware, createAsyncMiddleware, JRPCEngine } from '@toruslabs/openlogin-jrpc';\nimport { CHAIN_NAMESPACES, isHexStrict, WalletInitializationError } from '@web3auth/base';\nimport { BaseProvider } from '@web3auth/base-provider';\nimport bs58 from 'bs58';\nimport { ethErrors } from 'eth-rpc-errors';\nimport { PublicKey, Connection, Keypair } from '@solana/web3.js';\nimport nacl from '@toruslabs/tweetnacl-js';\n\nfunction createChainIdMiddleware(chainId) {\n  return function (req, res, next, end) {\n    if (req.method === \"solana_chainId\") {\n      res.result = chainId;\n      return end();\n    }\n\n    return next();\n  };\n}\n\nfunction createProviderConfigMiddleware(providerConfig) {\n  return function (req, res, next, end) {\n    if (req.method === \"solana_provider_config\") {\n      res.result = providerConfig;\n      return end();\n    }\n\n    return next();\n  };\n}\n\nfunction createConfigMiddleware(providerConfig) {\n  var chainId = providerConfig.chainId;\n  return mergeMiddleware([createChainIdMiddleware(chainId), createProviderConfigMiddleware(providerConfig)]);\n}\n\nfunction createJsonRpcClient(providerConfig) {\n  var rpcTarget = providerConfig.rpcTarget;\n  var fetchMiddleware = createFetchMiddleware({\n    rpcTarget: rpcTarget\n  });\n  var networkMiddleware = mergeMiddleware([createConfigMiddleware(providerConfig), fetchMiddleware]);\n  return {\n    networkMiddleware: networkMiddleware,\n    fetchMiddleware: fetchMiddleware\n  };\n}\n\nfunction createGetAccountsMiddleware(_ref) {\n  var getAccounts = _ref.getAccounts;\n  return createAsyncMiddleware( /*#__PURE__*/function () {\n    var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(request, response, next) {\n      var method, accounts;\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              method = request.method;\n\n              if (!(method !== \"getAccounts\")) {\n                _context.next = 3;\n                break;\n              }\n\n              return _context.abrupt(\"return\", next());\n\n            case 3:\n              if (getAccounts) {\n                _context.next = 5;\n                break;\n              }\n\n              throw new Error(\"WalletMiddleware - opts.getAccounts not provided\");\n\n            case 5:\n              _context.next = 7;\n              return getAccounts(request);\n\n            case 7:\n              accounts = _context.sent;\n              response.result = accounts;\n              return _context.abrupt(\"return\", undefined);\n\n            case 10:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function (_x, _x2, _x3) {\n      return _ref5.apply(this, arguments);\n    };\n  }());\n}\n\nfunction createRequestAccountsMiddleware(_ref2) {\n  var requestAccounts = _ref2.requestAccounts;\n  return createAsyncMiddleware( /*#__PURE__*/function () {\n    var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(request, response, next) {\n      var method, accounts;\n      return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              method = request.method;\n\n              if (!(method !== \"requestAccounts\")) {\n                _context2.next = 3;\n                break;\n              }\n\n              return _context2.abrupt(\"return\", next());\n\n            case 3:\n              if (requestAccounts) {\n                _context2.next = 5;\n                break;\n              }\n\n              throw new Error(\"WalletMiddleware - opts.requestAccounts not provided\");\n\n            case 5:\n              _context2.next = 7;\n              return requestAccounts(request);\n\n            case 7:\n              accounts = _context2.sent;\n              response.result = accounts;\n              return _context2.abrupt(\"return\", undefined);\n\n            case 10:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function (_x4, _x5, _x6) {\n      return _ref6.apply(this, arguments);\n    };\n  }());\n}\n\nfunction createGenericJRPCMiddleware(targetMethod, handler) {\n  return createAsyncMiddleware( /*#__PURE__*/function () {\n    var _ref7 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(request, response, next) {\n      var method, result;\n      return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              method = request.method;\n\n              if (!(method !== targetMethod)) {\n                _context3.next = 3;\n                break;\n              }\n\n              return _context3.abrupt(\"return\", next());\n\n            case 3:\n              if (handler) {\n                _context3.next = 5;\n                break;\n              }\n\n              throw new Error(\"WalletMiddleware - \".concat(targetMethod, \" not provided\"));\n\n            case 5:\n              _context3.next = 7;\n              return handler(request);\n\n            case 7:\n              result = _context3.sent;\n              response.result = result;\n              return _context3.abrupt(\"return\", undefined);\n\n            case 10:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    return function (_x7, _x8, _x9) {\n      return _ref7.apply(this, arguments);\n    };\n  }());\n}\n\nfunction createSolanaMiddleware(providerHandlers) {\n  var getAccounts = providerHandlers.getAccounts,\n      requestAccounts = providerHandlers.requestAccounts,\n      signTransaction = providerHandlers.signTransaction,\n      signAndSendTransaction = providerHandlers.signAndSendTransaction,\n      signAllTransactions = providerHandlers.signAllTransactions,\n      signMessage = providerHandlers.signMessage,\n      getPrivateKey = providerHandlers.getPrivateKey,\n      getSecretKey = providerHandlers.getSecretKey;\n  return mergeMiddleware([createRequestAccountsMiddleware({\n    requestAccounts: requestAccounts\n  }), createGetAccountsMiddleware({\n    getAccounts: getAccounts\n  }), createGenericJRPCMiddleware(\"signTransaction\", signTransaction), createGenericJRPCMiddleware(\"signAndSendTransaction\", signAndSendTransaction), createGenericJRPCMiddleware(\"signAllTransactions\", signAllTransactions), createGenericJRPCMiddleware(\"signMessage\", signMessage), createGenericJRPCMiddleware(\"solanaPrivateKey\", getPrivateKey), createGenericJRPCMiddleware(\"solanaSecretKey\", getSecretKey)]);\n}\n\nfunction createChainSwitchMiddleware(_ref3) {\n  var addNewChainConfig = _ref3.addNewChainConfig,\n      switchSolanaChain = _ref3.switchSolanaChain;\n  return mergeMiddleware([createGenericJRPCMiddleware(\"addSolanaChain\", addNewChainConfig), createGenericJRPCMiddleware(\"switchSolanaChain\", switchSolanaChain)]);\n}\n\nfunction createAccountMiddleware(_ref4) {\n  var updatePrivatekey = _ref4.updatePrivatekey;\n  return mergeMiddleware([createGenericJRPCMiddleware(\"updateAccount\", updatePrivatekey)]);\n}\n\nfunction ownKeys$3(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread$3(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys$3(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$3(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}\n\nvar BaseInjectedProvider = /*#__PURE__*/function (_BaseProvider) {\n  _inherits(BaseInjectedProvider, _BaseProvider);\n\n  var _super = _createSuper(BaseInjectedProvider);\n\n  function BaseInjectedProvider(_ref) {\n    _classCallCheck(this, BaseInjectedProvider);\n\n    var config = _ref.config,\n        state = _ref.state;\n    return _super.call(this, {\n      config: {\n        chainConfig: _objectSpread$3(_objectSpread$3({}, config.chainConfig), {}, {\n          chainNamespace: CHAIN_NAMESPACES.SOLANA\n        })\n      },\n      state: state\n    });\n  }\n\n  _createClass(BaseInjectedProvider, [{\n    key: \"switchChain\",\n    value: function () {\n      var _switchChain = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(_) {\n        return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                return _context4.abrupt(\"return\", Promise.resolve());\n\n              case 1:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4);\n      }));\n\n      function switchChain(_x10) {\n        return _switchChain.apply(this, arguments);\n      }\n\n      return switchChain;\n    }()\n  }, {\n    key: \"setupProvider\",\n    value: function () {\n      var _setupProvider = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5(injectedProvider) {\n        var engine, providerHandlers, solanaMiddleware, configMiddleware, injectedProviderProxy, provider;\n        return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                engine = new JRPCEngine();\n                providerHandlers = this.getProviderHandlers(injectedProvider);\n                solanaMiddleware = createSolanaMiddleware(providerHandlers);\n                engine.push(solanaMiddleware);\n                configMiddleware = createConfigMiddleware(this.config.chainConfig);\n                engine.push(configMiddleware);\n                injectedProviderProxy = this.getInjectedProviderProxy(injectedProvider);\n\n                if (injectedProviderProxy) {\n                  engine.push(injectedProviderProxy);\n                }\n\n                provider = providerFromEngine(engine);\n                this.updateProviderEngineProxy(provider);\n                _context5.next = 12;\n                return this.lookupNetwork();\n\n              case 12:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this);\n      }));\n\n      function setupProvider(_x11) {\n        return _setupProvider.apply(this, arguments);\n      }\n\n      return setupProvider;\n    }()\n  }, {\n    key: \"lookupNetwork\",\n    value: function () {\n      var _lookupNetwork = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6() {\n        var chainConfig;\n        return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                chainConfig = this.config.chainConfig;\n                this.update({\n                  chainId: chainConfig.chainId\n                });\n                return _context6.abrupt(\"return\", chainConfig.chainId || \"\");\n\n              case 3:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6, this);\n      }));\n\n      function lookupNetwork() {\n        return _lookupNetwork.apply(this, arguments);\n      }\n\n      return lookupNetwork;\n    }()\n  }, {\n    key: \"getInjectedProviderProxy\",\n    value: function getInjectedProviderProxy(_) {\n      return undefined;\n    }\n  }]);\n\n  return BaseInjectedProvider;\n}(BaseProvider);\n\nvar getBaseProviderHandlers = function getBaseProviderHandlers(injectedProvider) {\n  var providerHandlers = {\n    requestAccounts: function () {\n      var _requestAccounts = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee7() {\n        return _regeneratorRuntime().wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                return _context7.abrupt(\"return\", injectedProvider.publicKey ? [bs58.encode(injectedProvider.publicKey.toBytes())] : []);\n\n              case 1:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7);\n      }));\n\n      function requestAccounts() {\n        return _requestAccounts.apply(this, arguments);\n      }\n\n      return requestAccounts;\n    }(),\n    getAccounts: function () {\n      var _getAccounts = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee8() {\n        return _regeneratorRuntime().wrap(function _callee8$(_context8) {\n          while (1) {\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                return _context8.abrupt(\"return\", injectedProvider.publicKey ? [bs58.encode(injectedProvider.publicKey.toBytes())] : []);\n\n              case 1:\n              case \"end\":\n                return _context8.stop();\n            }\n          }\n        }, _callee8);\n      }));\n\n      function getAccounts() {\n        return _getAccounts.apply(this, arguments);\n      }\n\n      return getAccounts;\n    }(),\n    getPrivateKey: function () {\n      var _getPrivateKey = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee9() {\n        return _regeneratorRuntime().wrap(function _callee9$(_context9) {\n          while (1) {\n            switch (_context9.prev = _context9.next) {\n              case 0:\n                throw ethErrors.rpc.methodNotSupported();\n\n              case 1:\n              case \"end\":\n                return _context9.stop();\n            }\n          }\n        }, _callee9);\n      }));\n\n      function getPrivateKey() {\n        return _getPrivateKey.apply(this, arguments);\n      }\n\n      return getPrivateKey;\n    }(),\n    getSecretKey: function () {\n      var _getSecretKey = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee10() {\n        return _regeneratorRuntime().wrap(function _callee10$(_context10) {\n          while (1) {\n            switch (_context10.prev = _context10.next) {\n              case 0:\n                throw ethErrors.rpc.methodNotSupported();\n\n              case 1:\n              case \"end\":\n                return _context10.stop();\n            }\n          }\n        }, _callee10);\n      }));\n\n      function getSecretKey() {\n        return _getSecretKey.apply(this, arguments);\n      }\n\n      return getSecretKey;\n    }(),\n    signTransaction: function () {\n      var _signTransaction = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee11(req) {\n        var transaction;\n        return _regeneratorRuntime().wrap(function _callee11$(_context11) {\n          while (1) {\n            switch (_context11.prev = _context11.next) {\n              case 0:\n                _context11.next = 2;\n                return injectedProvider.signTransaction(req.params.message);\n\n              case 2:\n                transaction = _context11.sent;\n                return _context11.abrupt(\"return\", transaction);\n\n              case 4:\n              case \"end\":\n                return _context11.stop();\n            }\n          }\n        }, _callee11);\n      }));\n\n      function signTransaction(_x12) {\n        return _signTransaction.apply(this, arguments);\n      }\n\n      return signTransaction;\n    }(),\n    signMessage: function () {\n      var _signMessage = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee12(req) {\n        var message;\n        return _regeneratorRuntime().wrap(function _callee12$(_context12) {\n          while (1) {\n            switch (_context12.prev = _context12.next) {\n              case 0:\n                _context12.next = 2;\n                return injectedProvider.signMessage(req.params.message);\n\n              case 2:\n                message = _context12.sent;\n                return _context12.abrupt(\"return\", message);\n\n              case 4:\n              case \"end\":\n                return _context12.stop();\n            }\n          }\n        }, _callee12);\n      }));\n\n      function signMessage(_x13) {\n        return _signMessage.apply(this, arguments);\n      }\n\n      return signMessage;\n    }(),\n    signAllTransactions: function () {\n      var _signAllTransactions = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee13(req) {\n        var _req$params, _req$params2, transaction;\n\n        return _regeneratorRuntime().wrap(function _callee13$(_context13) {\n          while (1) {\n            switch (_context13.prev = _context13.next) {\n              case 0:\n                if (!(!((_req$params = req.params) !== null && _req$params !== void 0 && _req$params.message) || !((_req$params2 = req.params) !== null && _req$params2 !== void 0 && _req$params2.message.length))) {\n                  _context13.next = 2;\n                  break;\n                }\n\n                throw ethErrors.rpc.invalidParams(\"message\");\n\n              case 2:\n                _context13.next = 4;\n                return injectedProvider.signAllTransactions(req.params.message);\n\n              case 4:\n                transaction = _context13.sent;\n                return _context13.abrupt(\"return\", transaction);\n\n              case 6:\n              case \"end\":\n                return _context13.stop();\n            }\n          }\n        }, _callee13);\n      }));\n\n      function signAllTransactions(_x14) {\n        return _signAllTransactions.apply(this, arguments);\n      }\n\n      return signAllTransactions;\n    }(),\n    signAndSendTransaction: function () {\n      var _signAndSendTransaction = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee14(req) {\n        var txRes;\n        return _regeneratorRuntime().wrap(function _callee14$(_context14) {\n          while (1) {\n            switch (_context14.prev = _context14.next) {\n              case 0:\n                _context14.next = 2;\n                return injectedProvider.signAndSendTransaction(req.params.message);\n\n              case 2:\n                txRes = _context14.sent;\n                return _context14.abrupt(\"return\", {\n                  signature: txRes.signature\n                });\n\n              case 4:\n              case \"end\":\n                return _context14.stop();\n            }\n          }\n        }, _callee14);\n      }));\n\n      function signAndSendTransaction(_x15) {\n        return _signAndSendTransaction.apply(this, arguments);\n      }\n\n      return signAndSendTransaction;\n    }()\n  };\n  return providerHandlers;\n};\n\nfunction ownKeys$2(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread$2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys$2(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$2(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}\n\nfunction createInjectedProviderProxyMiddleware(provider) {\n  return createAsyncMiddleware( /*#__PURE__*/function () {\n    var _ref8 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee15(req, res, _next) {\n      var result;\n      return _regeneratorRuntime().wrap(function _callee15$(_context15) {\n        while (1) {\n          switch (_context15.prev = _context15.next) {\n            case 0:\n              _context15.next = 2;\n              return provider.request(_objectSpread$2({}, req));\n\n            case 2:\n              result = _context15.sent;\n              res.result = result;\n\n            case 4:\n            case \"end\":\n              return _context15.stop();\n          }\n        }\n      }, _callee15);\n    }));\n\n    return function (_x16, _x17, _x18) {\n      return _ref8.apply(this, arguments);\n    };\n  }());\n}\n\nvar PhantomInjectedProvider = /*#__PURE__*/function (_BaseInjectedProvider) {\n  _inherits(PhantomInjectedProvider, _BaseInjectedProvider);\n\n  var _super2 = _createSuper(PhantomInjectedProvider);\n\n  function PhantomInjectedProvider() {\n    _classCallCheck(this, PhantomInjectedProvider);\n\n    return _super2.apply(this, arguments);\n  }\n\n  _createClass(PhantomInjectedProvider, [{\n    key: \"getProviderHandlers\",\n    value: function getProviderHandlers(injectedProvider) {\n      return getBaseProviderHandlers(injectedProvider);\n    }\n  }, {\n    key: \"getInjectedProviderProxy\",\n    value: function getInjectedProviderProxy(injectedProvider) {\n      return createInjectedProviderProxyMiddleware(injectedProvider);\n    }\n  }]);\n\n  return PhantomInjectedProvider;\n}(BaseInjectedProvider);\n\nvar getSlopeHandlers = function getSlopeHandlers(injectedProvider, getProviderEngineProxy) {\n  var providerHandlers = {\n    requestAccounts: function () {\n      var _requestAccounts2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee16() {\n        var _yield$injectedProvid, data;\n\n        return _regeneratorRuntime().wrap(function _callee16$(_context16) {\n          while (1) {\n            switch (_context16.prev = _context16.next) {\n              case 0:\n                _context16.next = 2;\n                return injectedProvider.connect();\n\n              case 2:\n                _yield$injectedProvid = _context16.sent;\n                data = _yield$injectedProvid.data;\n                return _context16.abrupt(\"return\", [data.publicKey]);\n\n              case 5:\n              case \"end\":\n                return _context16.stop();\n            }\n          }\n        }, _callee16);\n      }));\n\n      function requestAccounts() {\n        return _requestAccounts2.apply(this, arguments);\n      }\n\n      return requestAccounts;\n    }(),\n    getAccounts: function () {\n      var _getAccounts2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee17() {\n        var _yield$injectedProvid2, data;\n\n        return _regeneratorRuntime().wrap(function _callee17$(_context17) {\n          while (1) {\n            switch (_context17.prev = _context17.next) {\n              case 0:\n                _context17.next = 2;\n                return injectedProvider.connect();\n\n              case 2:\n                _yield$injectedProvid2 = _context17.sent;\n                data = _yield$injectedProvid2.data;\n                return _context17.abrupt(\"return\", [data.publicKey]);\n\n              case 5:\n              case \"end\":\n                return _context17.stop();\n            }\n          }\n        }, _callee17);\n      }));\n\n      function getAccounts() {\n        return _getAccounts2.apply(this, arguments);\n      }\n\n      return getAccounts;\n    }(),\n    getPrivateKey: function () {\n      var _getPrivateKey2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee18() {\n        return _regeneratorRuntime().wrap(function _callee18$(_context18) {\n          while (1) {\n            switch (_context18.prev = _context18.next) {\n              case 0:\n                throw ethErrors.rpc.methodNotSupported();\n\n              case 1:\n              case \"end\":\n                return _context18.stop();\n            }\n          }\n        }, _callee18);\n      }));\n\n      function getPrivateKey() {\n        return _getPrivateKey2.apply(this, arguments);\n      }\n\n      return getPrivateKey;\n    }(),\n    getSecretKey: function () {\n      var _getSecretKey2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee19() {\n        return _regeneratorRuntime().wrap(function _callee19$(_context19) {\n          while (1) {\n            switch (_context19.prev = _context19.next) {\n              case 0:\n                throw ethErrors.rpc.methodNotSupported();\n\n              case 1:\n              case \"end\":\n                return _context19.stop();\n            }\n          }\n        }, _callee19);\n      }));\n\n      function getSecretKey() {\n        return _getSecretKey2.apply(this, arguments);\n      }\n\n      return getSecretKey;\n    }(),\n    signTransaction: function () {\n      var _signTransaction2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee20(req) {\n        var txMessage, _yield$injectedProvid3, data, publicKey, signature;\n\n        return _regeneratorRuntime().wrap(function _callee20$(_context20) {\n          while (1) {\n            switch (_context20.prev = _context20.next) {\n              case 0:\n                txMessage = req.params.message;\n\n                if (txMessage) {\n                  _context20.next = 3;\n                  break;\n                }\n\n                throw ethErrors.rpc.invalidRequest({\n                  message: \"Invalid transaction message\"\n                });\n\n              case 3:\n                _context20.next = 5;\n                return injectedProvider.signTransaction(bs58.encode(txMessage.serializeMessage()));\n\n              case 5:\n                _yield$injectedProvid3 = _context20.sent;\n                data = _yield$injectedProvid3.data;\n\n                if (!(!data.publicKey || !data.signature)) {\n                  _context20.next = 9;\n                  break;\n                }\n\n                throw new Error(\"Invalid signature from slope wallet\");\n\n              case 9:\n                publicKey = new PublicKey(data.publicKey);\n                signature = bs58.decode(data.signature);\n                txMessage.addSignature(publicKey, signature);\n                return _context20.abrupt(\"return\", txMessage);\n\n              case 13:\n              case \"end\":\n                return _context20.stop();\n            }\n          }\n        }, _callee20);\n      }));\n\n      function signTransaction(_x19) {\n        return _signTransaction2.apply(this, arguments);\n      }\n\n      return signTransaction;\n    }(),\n    signMessage: function () {\n      var _signMessage2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee21(req) {\n        var response;\n        return _regeneratorRuntime().wrap(function _callee21$(_context21) {\n          while (1) {\n            switch (_context21.prev = _context21.next) {\n              case 0:\n                _context21.next = 2;\n                return injectedProvider.signMessage(req.params.message);\n\n              case 2:\n                response = _context21.sent;\n                return _context21.abrupt(\"return\", bs58.decode(response.data.signature));\n\n              case 4:\n              case \"end\":\n                return _context21.stop();\n            }\n          }\n        }, _callee21);\n      }));\n\n      function signMessage(_x20) {\n        return _signMessage2.apply(this, arguments);\n      }\n\n      return signMessage;\n    }(),\n    signAndSendTransaction: function () {\n      var _signAndSendTransaction2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee22(req) {\n        var provider, txMessage, _yield$injectedProvid4, data, publicKey, signature, chainConfig, conn, res;\n\n        return _regeneratorRuntime().wrap(function _callee22$(_context22) {\n          while (1) {\n            switch (_context22.prev = _context22.next) {\n              case 0:\n                provider = getProviderEngineProxy();\n\n                if (provider) {\n                  _context22.next = 3;\n                  break;\n                }\n\n                throw ethErrors.provider.custom({\n                  message: \"Provider is not initialized\",\n                  code: 4902\n                });\n\n              case 3:\n                txMessage = req.params.message;\n\n                if (txMessage) {\n                  _context22.next = 6;\n                  break;\n                }\n\n                throw ethErrors.rpc.invalidRequest({\n                  message: \"Invalid transaction message\"\n                });\n\n              case 6:\n                _context22.next = 8;\n                return injectedProvider.signTransaction(bs58.encode(txMessage.serializeMessage()));\n\n              case 8:\n                _yield$injectedProvid4 = _context22.sent;\n                data = _yield$injectedProvid4.data;\n\n                if (!(!data.publicKey || !data.signature)) {\n                  _context22.next = 12;\n                  break;\n                }\n\n                throw new Error(\"Invalid signature from slope wallet\");\n\n              case 12:\n                publicKey = new PublicKey(data.publicKey);\n                signature = bs58.decode(data.signature);\n                txMessage.addSignature(publicKey, signature);\n                _context22.next = 17;\n                return provider.request({\n                  method: \"solana_provider_config\",\n                  params: []\n                });\n\n              case 17:\n                chainConfig = _context22.sent;\n                conn = new Connection(chainConfig.rpcTarget);\n                _context22.next = 21;\n                return conn.sendRawTransaction(txMessage.serialize());\n\n              case 21:\n                res = _context22.sent;\n                return _context22.abrupt(\"return\", {\n                  signature: res\n                });\n\n              case 23:\n              case \"end\":\n                return _context22.stop();\n            }\n          }\n        }, _callee22);\n      }));\n\n      function signAndSendTransaction(_x21) {\n        return _signAndSendTransaction2.apply(this, arguments);\n      }\n\n      return signAndSendTransaction;\n    }(),\n    signAllTransactions: function () {\n      var _signAllTransactions2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee23(req) {\n        var _req$params, _req$params2, _data$signatures, allTxns, length, unsignedTx, i, _yield$injectedProvid5, msg, data, publicKey, signature;\n\n        return _regeneratorRuntime().wrap(function _callee23$(_context23) {\n          while (1) {\n            switch (_context23.prev = _context23.next) {\n              case 0:\n                if (!(!((_req$params = req.params) !== null && _req$params !== void 0 && _req$params.message) || !((_req$params2 = req.params) !== null && _req$params2 !== void 0 && _req$params2.message.length))) {\n                  _context23.next = 2;\n                  break;\n                }\n\n                throw ethErrors.rpc.invalidParams(\"message\");\n\n              case 2:\n                allTxns = req.params.message;\n                length = allTxns.length;\n                unsignedTx = [];\n\n                for (i = 0; i < length; i++) {\n                  unsignedTx.push(bs58.encode(req.params.message[i].serializeMessage()));\n                }\n\n                _context23.next = 8;\n                return injectedProvider.signAllTransactions(unsignedTx);\n\n              case 8:\n                _yield$injectedProvid5 = _context23.sent;\n                msg = _yield$injectedProvid5.msg;\n                data = _yield$injectedProvid5.data;\n\n                if (!(!data.publicKey || ((_data$signatures = data.signatures) === null || _data$signatures === void 0 ? void 0 : _data$signatures.length) !== length)) {\n                  _context23.next = 13;\n                  break;\n                }\n\n                throw new Error(msg);\n\n              case 13:\n                publicKey = new PublicKey(data.publicKey);\n\n                for (i = 0; i < length; i++) {\n                  signature = bs58.decode(data.signatures[i]);\n                  allTxns[i].addSignature(publicKey, signature);\n                }\n\n                return _context23.abrupt(\"return\", allTxns);\n\n              case 16:\n              case \"end\":\n                return _context23.stop();\n            }\n          }\n        }, _callee23);\n      }));\n\n      function signAllTransactions(_x22) {\n        return _signAllTransactions2.apply(this, arguments);\n      }\n\n      return signAllTransactions;\n    }()\n  };\n  return providerHandlers;\n};\n\nvar SlopeInjectedProxyProvider = /*#__PURE__*/function (_BaseInjectedProvider2) {\n  _inherits(SlopeInjectedProxyProvider, _BaseInjectedProvider2);\n\n  var _super3 = _createSuper(SlopeInjectedProxyProvider);\n\n  function SlopeInjectedProxyProvider() {\n    _classCallCheck(this, SlopeInjectedProxyProvider);\n\n    return _super3.apply(this, arguments);\n  }\n\n  _createClass(SlopeInjectedProxyProvider, [{\n    key: \"getProviderHandlers\",\n    value: function getProviderHandlers(injectedProvider) {\n      return getSlopeHandlers(injectedProvider, this.getProviderEngineProxy.bind(this));\n    }\n  }]);\n\n  return SlopeInjectedProxyProvider;\n}(BaseInjectedProvider);\n\nvar getSolflareHandlers = function getSolflareHandlers(injectedProvider, getProviderEngineProxy) {\n  var solflareProviderHandlers = getBaseProviderHandlers(injectedProvider);\n\n  solflareProviderHandlers.signAndSendTransaction = /*#__PURE__*/function () {\n    var _ref9 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee24(req) {\n      var provider, transaction, chainConfig, conn, res;\n      return _regeneratorRuntime().wrap(function _callee24$(_context24) {\n        while (1) {\n          switch (_context24.prev = _context24.next) {\n            case 0:\n              provider = getProviderEngineProxy();\n\n              if (provider) {\n                _context24.next = 3;\n                break;\n              }\n\n              throw ethErrors.provider.custom({\n                message: \"Provider is not initialized\",\n                code: 4902\n              });\n\n            case 3:\n              _context24.next = 5;\n              return injectedProvider.signTransaction(req.params.message);\n\n            case 5:\n              transaction = _context24.sent;\n              _context24.next = 8;\n              return provider.request({\n                method: \"solana_provider_config\",\n                params: []\n              });\n\n            case 8:\n              chainConfig = _context24.sent;\n              conn = new Connection(chainConfig.rpcTarget);\n              _context24.next = 12;\n              return conn.sendRawTransaction(transaction.serialize());\n\n            case 12:\n              res = _context24.sent;\n              return _context24.abrupt(\"return\", {\n                signature: res\n              });\n\n            case 14:\n            case \"end\":\n              return _context24.stop();\n          }\n        }\n      }, _callee24);\n    }));\n\n    return function (_x23) {\n      return _ref9.apply(this, arguments);\n    };\n  }();\n\n  return solflareProviderHandlers;\n};\n\nvar SolflareInjectedProvider = /*#__PURE__*/function (_BaseInjectedProvider3) {\n  _inherits(SolflareInjectedProvider, _BaseInjectedProvider3);\n\n  var _super4 = _createSuper(SolflareInjectedProvider);\n\n  function SolflareInjectedProvider() {\n    _classCallCheck(this, SolflareInjectedProvider);\n\n    return _super4.apply(this, arguments);\n  }\n\n  _createClass(SolflareInjectedProvider, [{\n    key: \"getProviderHandlers\",\n    value: function getProviderHandlers(injectedProvider) {\n      return getSolflareHandlers(injectedProvider, this.getProviderEngineProxy.bind(this));\n    }\n  }]);\n\n  return SolflareInjectedProvider;\n}(BaseInjectedProvider);\n\nvar getSolletHandlers = function getSolletHandlers(injectedProvider, getProviderEngineProxy) {\n  var providerHandlers = getBaseProviderHandlers(injectedProvider);\n\n  providerHandlers.signMessage = /*#__PURE__*/function () {\n    var _ref10 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee25(req) {\n      var _yield$injectedProvid6, signature;\n\n      return _regeneratorRuntime().wrap(function _callee25$(_context25) {\n        while (1) {\n          switch (_context25.prev = _context25.next) {\n            case 0:\n              _context25.next = 2;\n              return injectedProvider.sign(req.params.message, \"utf8\");\n\n            case 2:\n              _yield$injectedProvid6 = _context25.sent;\n              signature = _yield$injectedProvid6.signature;\n              return _context25.abrupt(\"return\", signature);\n\n            case 5:\n            case \"end\":\n              return _context25.stop();\n          }\n        }\n      }, _callee25);\n    }));\n\n    return function (_x24) {\n      return _ref10.apply(this, arguments);\n    };\n  }();\n\n  providerHandlers.signAndSendTransaction = /*#__PURE__*/function () {\n    var _ref11 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee26(req) {\n      var provider, transaction, chainConfig, conn, res;\n      return _regeneratorRuntime().wrap(function _callee26$(_context26) {\n        while (1) {\n          switch (_context26.prev = _context26.next) {\n            case 0:\n              provider = getProviderEngineProxy();\n\n              if (provider) {\n                _context26.next = 3;\n                break;\n              }\n\n              throw ethErrors.provider.custom({\n                message: \"Provider is not initialized\",\n                code: 4902\n              });\n\n            case 3:\n              _context26.next = 5;\n              return injectedProvider.signTransaction(req.params.message);\n\n            case 5:\n              transaction = _context26.sent;\n              _context26.next = 8;\n              return provider.request({\n                method: \"solana_provider_config\",\n                params: []\n              });\n\n            case 8:\n              chainConfig = _context26.sent;\n              conn = new Connection(chainConfig.rpcTarget);\n              _context26.next = 12;\n              return conn.sendRawTransaction(transaction.serialize());\n\n            case 12:\n              res = _context26.sent;\n              return _context26.abrupt(\"return\", {\n                signature: res\n              });\n\n            case 14:\n            case \"end\":\n              return _context26.stop();\n          }\n        }\n      }, _callee26);\n    }));\n\n    return function (_x25) {\n      return _ref11.apply(this, arguments);\n    };\n  }();\n\n  return providerHandlers;\n};\n\nvar SolletInjectedProvider = /*#__PURE__*/function (_BaseInjectedProvider4) {\n  _inherits(SolletInjectedProvider, _BaseInjectedProvider4);\n\n  var _super5 = _createSuper(SolletInjectedProvider);\n\n  function SolletInjectedProvider() {\n    _classCallCheck(this, SolletInjectedProvider);\n\n    return _super5.apply(this, arguments);\n  }\n\n  _createClass(SolletInjectedProvider, [{\n    key: \"getProviderHandlers\",\n    value: function getProviderHandlers(injectedProvider) {\n      return getSolletHandlers(injectedProvider, this.getProviderEngineProxy.bind(this));\n    }\n  }]);\n\n  return SolletInjectedProvider;\n}(BaseInjectedProvider);\n\nvar getTorusHandlers = function getTorusHandlers(injectedProvider) {\n  var providerHandlers = {\n    requestAccounts: function () {\n      var _requestAccounts3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee27() {\n        var accounts;\n        return _regeneratorRuntime().wrap(function _callee27$(_context27) {\n          while (1) {\n            switch (_context27.prev = _context27.next) {\n              case 0:\n                _context27.next = 2;\n                return injectedProvider.request({\n                  method: \"solana_requestAccounts\",\n                  params: {}\n                });\n\n              case 2:\n                accounts = _context27.sent;\n                return _context27.abrupt(\"return\", accounts);\n\n              case 4:\n              case \"end\":\n                return _context27.stop();\n            }\n          }\n        }, _callee27);\n      }));\n\n      function requestAccounts() {\n        return _requestAccounts3.apply(this, arguments);\n      }\n\n      return requestAccounts;\n    }(),\n    getAccounts: function () {\n      var _getAccounts3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee28() {\n        var accounts;\n        return _regeneratorRuntime().wrap(function _callee28$(_context28) {\n          while (1) {\n            switch (_context28.prev = _context28.next) {\n              case 0:\n                _context28.next = 2;\n                return injectedProvider.request({\n                  method: \"solana_accounts\",\n                  params: {}\n                });\n\n              case 2:\n                accounts = _context28.sent;\n                return _context28.abrupt(\"return\", accounts);\n\n              case 4:\n              case \"end\":\n                return _context28.stop();\n            }\n          }\n        }, _callee28);\n      }));\n\n      function getAccounts() {\n        return _getAccounts3.apply(this, arguments);\n      }\n\n      return getAccounts;\n    }(),\n    getPrivateKey: function () {\n      var _getPrivateKey3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee29() {\n        return _regeneratorRuntime().wrap(function _callee29$(_context29) {\n          while (1) {\n            switch (_context29.prev = _context29.next) {\n              case 0:\n                throw ethErrors.rpc.methodNotSupported();\n\n              case 1:\n              case \"end\":\n                return _context29.stop();\n            }\n          }\n        }, _callee29);\n      }));\n\n      function getPrivateKey() {\n        return _getPrivateKey3.apply(this, arguments);\n      }\n\n      return getPrivateKey;\n    }(),\n    getSecretKey: function () {\n      var _getSecretKey3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee30() {\n        return _regeneratorRuntime().wrap(function _callee30$(_context30) {\n          while (1) {\n            switch (_context30.prev = _context30.next) {\n              case 0:\n                throw ethErrors.rpc.methodNotSupported();\n\n              case 1:\n              case \"end\":\n                return _context30.stop();\n            }\n          }\n        }, _callee30);\n      }));\n\n      function getSecretKey() {\n        return _getSecretKey3.apply(this, arguments);\n      }\n\n      return getSecretKey;\n    }(),\n    signMessage: function () {\n      var _signMessage3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee31(req) {\n        var _req$params, message;\n\n        return _regeneratorRuntime().wrap(function _callee31$(_context31) {\n          while (1) {\n            switch (_context31.prev = _context31.next) {\n              case 0:\n                if ((_req$params = req.params) !== null && _req$params !== void 0 && _req$params.message) {\n                  _context31.next = 2;\n                  break;\n                }\n\n                throw ethErrors.rpc.invalidParams(\"message\");\n\n              case 2:\n                _context31.next = 4;\n                return injectedProvider.signMessage(req.params.message);\n\n              case 4:\n                message = _context31.sent;\n                return _context31.abrupt(\"return\", message);\n\n              case 6:\n              case \"end\":\n                return _context31.stop();\n            }\n          }\n        }, _callee31);\n      }));\n\n      function signMessage(_x26) {\n        return _signMessage3.apply(this, arguments);\n      }\n\n      return signMessage;\n    }(),\n    signTransaction: function () {\n      var _signTransaction3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee32(req) {\n        var _req$params2, txMessage, response;\n\n        return _regeneratorRuntime().wrap(function _callee32$(_context32) {\n          while (1) {\n            switch (_context32.prev = _context32.next) {\n              case 0:\n                if ((_req$params2 = req.params) !== null && _req$params2 !== void 0 && _req$params2.message) {\n                  _context32.next = 2;\n                  break;\n                }\n\n                throw ethErrors.rpc.invalidParams(\"message\");\n\n              case 2:\n                txMessage = req.params.message;\n                _context32.next = 5;\n                return injectedProvider.signTransaction(txMessage);\n\n              case 5:\n                response = _context32.sent;\n                return _context32.abrupt(\"return\", response);\n\n              case 7:\n              case \"end\":\n                return _context32.stop();\n            }\n          }\n        }, _callee32);\n      }));\n\n      function signTransaction(_x27) {\n        return _signTransaction3.apply(this, arguments);\n      }\n\n      return signTransaction;\n    }(),\n    signAndSendTransaction: function () {\n      var _signAndSendTransaction3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee33(req) {\n        var _req$params3, txMessage, response;\n\n        return _regeneratorRuntime().wrap(function _callee33$(_context33) {\n          while (1) {\n            switch (_context33.prev = _context33.next) {\n              case 0:\n                if ((_req$params3 = req.params) !== null && _req$params3 !== void 0 && _req$params3.message) {\n                  _context33.next = 2;\n                  break;\n                }\n\n                throw ethErrors.rpc.invalidParams(\"message\");\n\n              case 2:\n                txMessage = req.params.message;\n                _context33.next = 5;\n                return injectedProvider.sendTransaction(txMessage);\n\n              case 5:\n                response = _context33.sent;\n                return _context33.abrupt(\"return\", {\n                  signature: response\n                });\n\n              case 7:\n              case \"end\":\n                return _context33.stop();\n            }\n          }\n        }, _callee33);\n      }));\n\n      function signAndSendTransaction(_x28) {\n        return _signAndSendTransaction3.apply(this, arguments);\n      }\n\n      return signAndSendTransaction;\n    }(),\n    signAllTransactions: function () {\n      var _signAllTransactions3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee34(req) {\n        var _req$params4, _req$params5, transactions, response;\n\n        return _regeneratorRuntime().wrap(function _callee34$(_context34) {\n          while (1) {\n            switch (_context34.prev = _context34.next) {\n              case 0:\n                if (!(!((_req$params4 = req.params) !== null && _req$params4 !== void 0 && _req$params4.message) || !((_req$params5 = req.params) !== null && _req$params5 !== void 0 && _req$params5.message.length))) {\n                  _context34.next = 2;\n                  break;\n                }\n\n                throw ethErrors.rpc.invalidParams(\"message\");\n\n              case 2:\n                transactions = req.params.message;\n                _context34.next = 5;\n                return injectedProvider.signAllTransactions(transactions);\n\n              case 5:\n                response = _context34.sent;\n                return _context34.abrupt(\"return\", response);\n\n              case 7:\n              case \"end\":\n                return _context34.stop();\n            }\n          }\n        }, _callee34);\n      }));\n\n      function signAllTransactions(_x29) {\n        return _signAllTransactions3.apply(this, arguments);\n      }\n\n      return signAllTransactions;\n    }()\n  };\n  return providerHandlers;\n};\n\nfunction ownKeys$1(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread$1(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys$1(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$1(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}\n\nvar TorusInjectedProvider = /*#__PURE__*/function (_BaseProvider2) {\n  _inherits(TorusInjectedProvider, _BaseProvider2);\n\n  var _super6 = _createSuper(TorusInjectedProvider);\n\n  function TorusInjectedProvider(_ref) {\n    _classCallCheck(this, TorusInjectedProvider);\n\n    var config = _ref.config,\n        state = _ref.state;\n    return _super6.call(this, {\n      config: {\n        chainConfig: _objectSpread$1(_objectSpread$1({}, config.chainConfig), {}, {\n          chainNamespace: CHAIN_NAMESPACES.SOLANA\n        })\n      },\n      state: state\n    });\n  }\n\n  _createClass(TorusInjectedProvider, [{\n    key: \"switchChain\",\n    value: function () {\n      var _switchChain2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee35(_) {\n        return _regeneratorRuntime().wrap(function _callee35$(_context35) {\n          while (1) {\n            switch (_context35.prev = _context35.next) {\n              case 0:\n                return _context35.abrupt(\"return\", Promise.resolve());\n\n              case 1:\n              case \"end\":\n                return _context35.stop();\n            }\n          }\n        }, _callee35);\n      }));\n\n      function switchChain(_x30) {\n        return _switchChain2.apply(this, arguments);\n      }\n\n      return switchChain;\n    }()\n  }, {\n    key: \"setupProvider\",\n    value: function () {\n      var _setupProvider2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee36(injectedProvider) {\n        return _regeneratorRuntime().wrap(function _callee36$(_context36) {\n          while (1) {\n            switch (_context36.prev = _context36.next) {\n              case 0:\n                this.handleInjectedProviderUpdate(injectedProvider);\n                _context36.next = 3;\n                return this.setupEngine(injectedProvider);\n\n              case 3:\n              case \"end\":\n                return _context36.stop();\n            }\n          }\n        }, _callee36, this);\n      }));\n\n      function setupProvider(_x31) {\n        return _setupProvider2.apply(this, arguments);\n      }\n\n      return setupProvider;\n    }()\n  }, {\n    key: \"lookupNetwork\",\n    value: function () {\n      var _lookupNetwork2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee37() {\n        var chainId, connectedChainId, connectedHexChainId;\n        return _regeneratorRuntime().wrap(function _callee37$(_context37) {\n          while (1) {\n            switch (_context37.prev = _context37.next) {\n              case 0:\n                if (this.provider) {\n                  _context37.next = 2;\n                  break;\n                }\n\n                throw ethErrors.provider.custom({\n                  message: \"Torus solana provider is not initialized\",\n                  code: 4902\n                });\n\n              case 2:\n                chainId = this.config.chainConfig.chainId;\n                _context37.next = 5;\n                return this.provider.request({\n                  method: \"solana_chainId\"\n                });\n\n              case 5:\n                connectedChainId = _context37.sent;\n                connectedHexChainId = isHexStrict(connectedChainId.toString()) ? connectedChainId : \"0x\".concat(parseInt(connectedChainId, 10).toString(16));\n\n                if (!(chainId !== connectedHexChainId)) {\n                  _context37.next = 9;\n                  break;\n                }\n\n                throw WalletInitializationError.rpcConnectionError(\"Invalid network, net_version is: \".concat(connectedHexChainId, \", expected: \").concat(chainId));\n\n              case 9:\n                this.update({\n                  chainId: connectedHexChainId\n                });\n                this.provider.emit(\"connect\", {\n                  chainId: this.state.chainId\n                });\n                this.provider.emit(\"chainChanged\", this.state.chainId);\n                return _context37.abrupt(\"return\", this.state.chainId);\n\n              case 13:\n              case \"end\":\n                return _context37.stop();\n            }\n          }\n        }, _callee37, this);\n      }));\n\n      function lookupNetwork() {\n        return _lookupNetwork2.apply(this, arguments);\n      }\n\n      return lookupNetwork;\n    }()\n  }, {\n    key: \"setupEngine\",\n    value: function () {\n      var _setupEngine = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee38(injectedProvider) {\n        var providerHandlers, solanaMiddleware, injectedProviderProxy, engine, provider;\n        return _regeneratorRuntime().wrap(function _callee38$(_context38) {\n          while (1) {\n            switch (_context38.prev = _context38.next) {\n              case 0:\n                providerHandlers = getTorusHandlers(injectedProvider);\n                solanaMiddleware = createSolanaMiddleware(providerHandlers);\n                injectedProviderProxy = createInjectedProviderProxyMiddleware(injectedProvider);\n                engine = new JRPCEngine();\n                engine.push(solanaMiddleware);\n                engine.push(injectedProviderProxy);\n                provider = providerFromEngine(engine);\n                this.updateProviderEngineProxy(provider);\n                _context38.next = 10;\n                return this.lookupNetwork();\n\n              case 10:\n              case \"end\":\n                return _context38.stop();\n            }\n          }\n        }, _callee38, this);\n      }));\n\n      function setupEngine(_x32) {\n        return _setupEngine.apply(this, arguments);\n      }\n\n      return setupEngine;\n    }()\n  }, {\n    key: \"handleInjectedProviderUpdate\",\n    value: function () {\n      var _handleInjectedProviderUpdate = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee41(injectedProvider) {\n        var _this = this;\n\n        return _regeneratorRuntime().wrap(function _callee41$(_context41) {\n          while (1) {\n            switch (_context41.prev = _context41.next) {\n              case 0:\n                injectedProvider.on(\"accountsChanged\", /*#__PURE__*/function () {\n                  var _ref12 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee39(accounts) {\n                    return _regeneratorRuntime().wrap(function _callee39$(_context39) {\n                      while (1) {\n                        switch (_context39.prev = _context39.next) {\n                          case 0:\n                            _this.provider.emit(\"accountsChanged\", accounts);\n\n                          case 1:\n                          case \"end\":\n                            return _context39.stop();\n                        }\n                      }\n                    }, _callee39);\n                  }));\n\n                  return function (_x34) {\n                    return _ref12.apply(this, arguments);\n                  };\n                }());\n                injectedProvider.on(\"chainChanged\", /*#__PURE__*/function () {\n                  var _ref13 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee40(chainId) {\n                    var connectedHexChainId;\n                    return _regeneratorRuntime().wrap(function _callee40$(_context40) {\n                      while (1) {\n                        switch (_context40.prev = _context40.next) {\n                          case 0:\n                            connectedHexChainId = isHexStrict(chainId) ? chainId : \"0x\".concat(parseInt(chainId, 10).toString(16)); // Check if chainId changed and trigger event\n\n                            _this.configure({\n                              chainConfig: _objectSpread$1(_objectSpread$1({}, _this.config.chainConfig), {}, {\n                                chainId: connectedHexChainId\n                              })\n                            });\n\n                            _context40.next = 4;\n                            return _this.setupProvider(injectedProvider);\n\n                          case 4:\n                          case \"end\":\n                            return _context40.stop();\n                        }\n                      }\n                    }, _callee40);\n                  }));\n\n                  return function (_x35) {\n                    return _ref13.apply(this, arguments);\n                  };\n                }());\n\n              case 2:\n              case \"end\":\n                return _context41.stop();\n            }\n          }\n        }, _callee41);\n      }));\n\n      function handleInjectedProviderUpdate(_x33) {\n        return _handleInjectedProviderUpdate.apply(this, arguments);\n      }\n\n      return handleInjectedProviderUpdate;\n    }()\n  }]);\n\n  return TorusInjectedProvider;\n}(BaseProvider);\n\nfunction getProviderHandlers(_x36) {\n  return _getProviderHandlers.apply(this, arguments);\n}\n\nfunction _getProviderHandlers() {\n  _getProviderHandlers = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee65(_ref) {\n    var privKey, getProviderEngineProxy, keyPairGenerator, keyPair, providerHandlers;\n    return _regeneratorRuntime().wrap(function _callee65$(_context65) {\n      while (1) {\n        switch (_context65.prev = _context65.next) {\n          case 0:\n            privKey = _ref.privKey, getProviderEngineProxy = _ref.getProviderEngineProxy;\n\n            keyPairGenerator = function keyPairGenerator() {\n              return Keypair.fromSecretKey(Buffer.from(privKey, \"hex\"));\n            };\n\n            if (!(typeof privKey !== \"string\")) {\n              _context65.next = 4;\n              break;\n            }\n\n            throw WalletInitializationError.invalidParams(\"privKey must be a string\");\n\n          case 4:\n            keyPair = keyPairGenerator();\n            providerHandlers = {\n              requestAccounts: function () {\n                var _requestAccounts5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee57() {\n                  return _regeneratorRuntime().wrap(function _callee57$(_context57) {\n                    while (1) {\n                      switch (_context57.prev = _context57.next) {\n                        case 0:\n                          return _context57.abrupt(\"return\", [keyPair.publicKey.toBase58()]);\n\n                        case 1:\n                        case \"end\":\n                          return _context57.stop();\n                      }\n                    }\n                  }, _callee57);\n                }));\n\n                function requestAccounts() {\n                  return _requestAccounts5.apply(this, arguments);\n                }\n\n                return requestAccounts;\n              }(),\n              getAccounts: function () {\n                var _getAccounts4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee58() {\n                  return _regeneratorRuntime().wrap(function _callee58$(_context58) {\n                    while (1) {\n                      switch (_context58.prev = _context58.next) {\n                        case 0:\n                          return _context58.abrupt(\"return\", [keyPair.publicKey.toBase58()]);\n\n                        case 1:\n                        case \"end\":\n                          return _context58.stop();\n                      }\n                    }\n                  }, _callee58);\n                }));\n\n                function getAccounts() {\n                  return _getAccounts4.apply(this, arguments);\n                }\n\n                return getAccounts;\n              }(),\n              getPrivateKey: function () {\n                var _getPrivateKey4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee59() {\n                  return _regeneratorRuntime().wrap(function _callee59$(_context59) {\n                    while (1) {\n                      switch (_context59.prev = _context59.next) {\n                        case 0:\n                          return _context59.abrupt(\"return\", privKey);\n\n                        case 1:\n                        case \"end\":\n                          return _context59.stop();\n                      }\n                    }\n                  }, _callee59);\n                }));\n\n                function getPrivateKey() {\n                  return _getPrivateKey4.apply(this, arguments);\n                }\n\n                return getPrivateKey;\n              }(),\n              getSecretKey: function () {\n                var _getSecretKey4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee60() {\n                  return _regeneratorRuntime().wrap(function _callee60$(_context60) {\n                    while (1) {\n                      switch (_context60.prev = _context60.next) {\n                        case 0:\n                          return _context60.abrupt(\"return\", bs58.encode(keyPair.secretKey));\n\n                        case 1:\n                        case \"end\":\n                          return _context60.stop();\n                      }\n                    }\n                  }, _callee60);\n                }));\n\n                function getSecretKey() {\n                  return _getSecretKey4.apply(this, arguments);\n                }\n\n                return getSecretKey;\n              }(),\n              signTransaction: function () {\n                var _signTransaction5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee61(req) {\n                  var _req$params, transaction;\n\n                  return _regeneratorRuntime().wrap(function _callee61$(_context61) {\n                    while (1) {\n                      switch (_context61.prev = _context61.next) {\n                        case 0:\n                          if ((_req$params = req.params) !== null && _req$params !== void 0 && _req$params.message) {\n                            _context61.next = 2;\n                            break;\n                          }\n\n                          throw ethErrors.rpc.invalidParams(\"message\");\n\n                        case 2:\n                          transaction = req.params.message;\n                          transaction.partialSign(keyPair);\n                          return _context61.abrupt(\"return\", transaction);\n\n                        case 5:\n                        case \"end\":\n                          return _context61.stop();\n                      }\n                    }\n                  }, _callee61);\n                }));\n\n                function signTransaction(_x49) {\n                  return _signTransaction5.apply(this, arguments);\n                }\n\n                return signTransaction;\n              }(),\n              signMessage: function () {\n                var _signMessage5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee62(req) {\n                  var _req$params2, signedMsg;\n\n                  return _regeneratorRuntime().wrap(function _callee62$(_context62) {\n                    while (1) {\n                      switch (_context62.prev = _context62.next) {\n                        case 0:\n                          if ((_req$params2 = req.params) !== null && _req$params2 !== void 0 && _req$params2.message) {\n                            _context62.next = 2;\n                            break;\n                          }\n\n                          throw ethErrors.rpc.invalidParams(\"message\");\n\n                        case 2:\n                          signedMsg = nacl.sign.detached(req.params.message, keyPair.secretKey);\n                          return _context62.abrupt(\"return\", signedMsg);\n\n                        case 4:\n                        case \"end\":\n                          return _context62.stop();\n                      }\n                    }\n                  }, _callee62);\n                }));\n\n                function signMessage(_x50) {\n                  return _signMessage5.apply(this, arguments);\n                }\n\n                return signMessage;\n              }(),\n              signAndSendTransaction: function () {\n                var _signAndSendTransaction5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee63(req) {\n                  var _req$params3, _providerEngineProxy, transaction, sig;\n\n                  return _regeneratorRuntime().wrap(function _callee63$(_context63) {\n                    while (1) {\n                      switch (_context63.prev = _context63.next) {\n                        case 0:\n                          if ((_req$params3 = req.params) !== null && _req$params3 !== void 0 && _req$params3.message) {\n                            _context63.next = 2;\n                            break;\n                          }\n\n                          throw ethErrors.rpc.invalidParams(\"message\");\n\n                        case 2:\n                          _providerEngineProxy = getProviderEngineProxy();\n\n                          if (_providerEngineProxy) {\n                            _context63.next = 5;\n                            break;\n                          }\n\n                          throw ethErrors.provider.custom({\n                            message: \"Provider is not initialized\",\n                            code: 4902\n                          });\n\n                        case 5:\n                          transaction = req.params.message;\n                          transaction.sign(keyPair);\n                          _context63.next = 9;\n                          return _providerEngineProxy.request({\n                            method: \"sendTransaction\",\n                            params: [bs58.encode(transaction.serialize())]\n                          });\n\n                        case 9:\n                          sig = _context63.sent;\n                          return _context63.abrupt(\"return\", {\n                            signature: sig\n                          });\n\n                        case 11:\n                        case \"end\":\n                          return _context63.stop();\n                      }\n                    }\n                  }, _callee63);\n                }));\n\n                function signAndSendTransaction(_x51) {\n                  return _signAndSendTransaction5.apply(this, arguments);\n                }\n\n                return signAndSendTransaction;\n              }(),\n              signAllTransactions: function () {\n                var _signAllTransactions5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee64(req) {\n                  var _req$params4, _req$params5, _req$params6, txns, _iterator, _step, tx, transaction;\n\n                  return _regeneratorRuntime().wrap(function _callee64$(_context64) {\n                    while (1) {\n                      switch (_context64.prev = _context64.next) {\n                        case 0:\n                          if (!(!((_req$params4 = req.params) !== null && _req$params4 !== void 0 && _req$params4.message) || !((_req$params5 = req.params) !== null && _req$params5 !== void 0 && _req$params5.message.length))) {\n                            _context64.next = 2;\n                            break;\n                          }\n\n                          throw ethErrors.rpc.invalidParams(\"message\");\n\n                        case 2:\n                          txns = (_req$params6 = req.params) === null || _req$params6 === void 0 ? void 0 : _req$params6.message;\n                          _iterator = _createForOfIteratorHelper(txns || []);\n\n                          try {\n                            for (_iterator.s(); !(_step = _iterator.n()).done;) {\n                              tx = _step.value;\n                              transaction = tx;\n                              transaction.partialSign(keyPair);\n                            }\n                          } catch (err) {\n                            _iterator.e(err);\n                          } finally {\n                            _iterator.f();\n                          }\n\n                          return _context64.abrupt(\"return\", txns);\n\n                        case 6:\n                        case \"end\":\n                          return _context64.stop();\n                      }\n                    }\n                  }, _callee64);\n                }));\n\n                function signAllTransactions(_x52) {\n                  return _signAllTransactions5.apply(this, arguments);\n                }\n\n                return signAllTransactions;\n              }()\n            };\n            return _context65.abrupt(\"return\", providerHandlers);\n\n          case 7:\n          case \"end\":\n            return _context65.stop();\n        }\n      }\n    }, _callee65);\n  }));\n  return _getProviderHandlers.apply(this, arguments);\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}\n\nvar SolanaPrivateKeyProvider = /*#__PURE__*/function (_BaseProvider3) {\n  _inherits(SolanaPrivateKeyProvider, _BaseProvider3);\n\n  var _super7 = _createSuper(SolanaPrivateKeyProvider);\n\n  function SolanaPrivateKeyProvider(_ref) {\n    _classCallCheck(this, SolanaPrivateKeyProvider);\n\n    var config = _ref.config,\n        state = _ref.state;\n    return _super7.call(this, {\n      config: {\n        chainConfig: _objectSpread(_objectSpread({}, config.chainConfig), {}, {\n          chainNamespace: CHAIN_NAMESPACES.SOLANA\n        })\n      },\n      state: state\n    });\n  }\n\n  _createClass(SolanaPrivateKeyProvider, [{\n    key: \"enable\",\n    value: function () {\n      var _enable = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee42() {\n        return _regeneratorRuntime().wrap(function _callee42$(_context42) {\n          while (1) {\n            switch (_context42.prev = _context42.next) {\n              case 0:\n                if (this.state.privateKey) {\n                  _context42.next = 2;\n                  break;\n                }\n\n                throw ethErrors.provider.custom({\n                  message: \"Private key is not found in state, plz pass it in constructor state param\",\n                  code: 4902\n                });\n\n              case 2:\n                _context42.next = 4;\n                return this.setupProvider(this.state.privateKey);\n\n              case 4:\n                return _context42.abrupt(\"return\", this._providerEngineProxy.request({\n                  method: \"eth_accounts\"\n                }));\n\n              case 5:\n              case \"end\":\n                return _context42.stop();\n            }\n          }\n        }, _callee42, this);\n      }));\n\n      function enable() {\n        return _enable.apply(this, arguments);\n      }\n\n      return enable;\n    }()\n  }, {\n    key: \"setupProvider\",\n    value: function () {\n      var _setupProvider3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee43(privKey) {\n        var providerHandlers, solanaMiddleware, engine, _createJsonRpcClient, networkMiddleware, provider;\n\n        return _regeneratorRuntime().wrap(function _callee43$(_context43) {\n          while (1) {\n            switch (_context43.prev = _context43.next) {\n              case 0:\n                _context43.next = 2;\n                return getProviderHandlers({\n                  privKey: privKey,\n                  getProviderEngineProxy: this.getProviderEngineProxy.bind(this)\n                });\n\n              case 2:\n                providerHandlers = _context43.sent;\n                solanaMiddleware = createSolanaMiddleware(providerHandlers);\n                engine = new JRPCEngine();\n                _createJsonRpcClient = createJsonRpcClient(this.config.chainConfig), networkMiddleware = _createJsonRpcClient.networkMiddleware;\n                engine.push(this.getChainSwitchMiddleware());\n                engine.push(this.getAccountMiddleware());\n                engine.push(solanaMiddleware);\n                engine.push(networkMiddleware);\n                provider = providerFromEngine(engine);\n                this.updateProviderEngineProxy(provider);\n                _context43.next = 14;\n                return this.lookupNetwork();\n\n              case 14:\n              case \"end\":\n                return _context43.stop();\n            }\n          }\n        }, _callee43, this);\n      }));\n\n      function setupProvider(_x37) {\n        return _setupProvider3.apply(this, arguments);\n      }\n\n      return setupProvider;\n    }()\n  }, {\n    key: \"updateAccount\",\n    value: function () {\n      var _updateAccount = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee44(params) {\n        var existingKey;\n        return _regeneratorRuntime().wrap(function _callee44$(_context44) {\n          while (1) {\n            switch (_context44.prev = _context44.next) {\n              case 0:\n                if (this._providerEngineProxy) {\n                  _context44.next = 2;\n                  break;\n                }\n\n                throw ethErrors.provider.custom({\n                  message: \"Provider is not initialized\",\n                  code: 4902\n                });\n\n              case 2:\n                _context44.next = 4;\n                return this._providerEngineProxy.request({\n                  method: \"solanaPrivateKey\"\n                });\n\n              case 4:\n                existingKey = _context44.sent;\n\n                if (!(existingKey !== params.privateKey)) {\n                  _context44.next = 14;\n                  break;\n                }\n\n                _context44.next = 8;\n                return this.setupProvider(params.privateKey);\n\n              case 8:\n                _context44.t0 = this._providerEngineProxy;\n                _context44.next = 11;\n                return this._providerEngineProxy.request({\n                  method: \"requestAccounts\"\n                });\n\n              case 11:\n                _context44.t1 = _context44.sent;\n                _context44.t2 = {\n                  accounts: _context44.t1\n                };\n\n                _context44.t0.emit.call(_context44.t0, \"accountsChanged\", _context44.t2);\n\n              case 14:\n              case \"end\":\n                return _context44.stop();\n            }\n          }\n        }, _callee44, this);\n      }));\n\n      function updateAccount(_x38) {\n        return _updateAccount.apply(this, arguments);\n      }\n\n      return updateAccount;\n    }()\n  }, {\n    key: \"switchChain\",\n    value: function () {\n      var _switchChain3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee45(params) {\n        var chainConfig, privKey;\n        return _regeneratorRuntime().wrap(function _callee45$(_context45) {\n          while (1) {\n            switch (_context45.prev = _context45.next) {\n              case 0:\n                if (this._providerEngineProxy) {\n                  _context45.next = 2;\n                  break;\n                }\n\n                throw ethErrors.provider.custom({\n                  message: \"Provider is not initialized\",\n                  code: 4902\n                });\n\n              case 2:\n                chainConfig = this.getChainConfig(params.chainId);\n                this.update({\n                  chainId: \"loading\"\n                });\n                this.configure({\n                  chainConfig: chainConfig\n                });\n                _context45.next = 7;\n                return this._providerEngineProxy.request({\n                  method: \"solanaPrivateKey\"\n                });\n\n              case 7:\n                privKey = _context45.sent;\n                _context45.next = 10;\n                return this.setupProvider(privKey);\n\n              case 10:\n              case \"end\":\n                return _context45.stop();\n            }\n          }\n        }, _callee45, this);\n      }));\n\n      function switchChain(_x39) {\n        return _switchChain3.apply(this, arguments);\n      }\n\n      return switchChain;\n    }()\n  }, {\n    key: \"lookupNetwork\",\n    value: function () {\n      var _lookupNetwork3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee46() {\n        var health, chainConfig;\n        return _regeneratorRuntime().wrap(function _callee46$(_context46) {\n          while (1) {\n            switch (_context46.prev = _context46.next) {\n              case 0:\n                if (this._providerEngineProxy) {\n                  _context46.next = 2;\n                  break;\n                }\n\n                throw ethErrors.provider.custom({\n                  message: \"Provider is not initialized\",\n                  code: 4902\n                });\n\n              case 2:\n                _context46.next = 4;\n                return this._providerEngineProxy.request({\n                  method: \"getHealth\",\n                  params: []\n                });\n\n              case 4:\n                health = _context46.sent;\n                chainConfig = this.config.chainConfig;\n\n                if (!(health !== \"ok\")) {\n                  _context46.next = 8;\n                  break;\n                }\n\n                throw WalletInitializationError.rpcConnectionError(\"Failed to lookup network for following rpc target: \".concat(chainConfig.rpcTarget));\n\n              case 8:\n                this.update({\n                  chainId: chainConfig.chainId\n                });\n\n                if (this.state.chainId !== chainConfig.chainId) {\n                  this.provider.emit(\"chainChanged\", this.state.chainId);\n                  this.provider.emit(\"connect\", {\n                    chainId: this.state.chainId\n                  });\n                }\n\n                return _context46.abrupt(\"return\", this.state.chainId);\n\n              case 11:\n              case \"end\":\n                return _context46.stop();\n            }\n          }\n        }, _callee46, this);\n      }));\n\n      function lookupNetwork() {\n        return _lookupNetwork3.apply(this, arguments);\n      }\n\n      return lookupNetwork;\n    }()\n  }, {\n    key: \"getChainSwitchMiddleware\",\n    value: function getChainSwitchMiddleware() {\n      var _this2 = this;\n\n      var chainSwitchHandlers = {\n        addNewChainConfig: function () {\n          var _addNewChainConfig = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee47(req) {\n            var _req$params7, chainId, chainName, rpcUrls, blockExplorerUrls, nativeCurrency;\n\n            return _regeneratorRuntime().wrap(function _callee47$(_context47) {\n              while (1) {\n                switch (_context47.prev = _context47.next) {\n                  case 0:\n                    if (req.params) {\n                      _context47.next = 2;\n                      break;\n                    }\n\n                    throw ethErrors.rpc.invalidParams(\"Missing request params\");\n\n                  case 2:\n                    _req$params7 = req.params, chainId = _req$params7.chainId, chainName = _req$params7.chainName, rpcUrls = _req$params7.rpcUrls, blockExplorerUrls = _req$params7.blockExplorerUrls, nativeCurrency = _req$params7.nativeCurrency;\n\n                    if (chainId) {\n                      _context47.next = 5;\n                      break;\n                    }\n\n                    throw ethErrors.rpc.invalidParams(\"Missing chainId in chainParams\");\n\n                  case 5:\n                    if (!(!rpcUrls || rpcUrls.length === 0)) {\n                      _context47.next = 7;\n                      break;\n                    }\n\n                    throw ethErrors.rpc.invalidParams(\"Missing rpcUrls in chainParams\");\n\n                  case 7:\n                    if (nativeCurrency) {\n                      _context47.next = 9;\n                      break;\n                    }\n\n                    throw ethErrors.rpc.invalidParams(\"Missing nativeCurrency in chainParams\");\n\n                  case 9:\n                    _this2.addChain({\n                      chainNamespace: CHAIN_NAMESPACES.SOLANA,\n                      chainId: chainId,\n                      ticker: (nativeCurrency === null || nativeCurrency === void 0 ? void 0 : nativeCurrency.symbol) || \"SOL\",\n                      tickerName: (nativeCurrency === null || nativeCurrency === void 0 ? void 0 : nativeCurrency.name) || \"Solana\",\n                      displayName: chainName,\n                      rpcTarget: rpcUrls[0],\n                      blockExplorer: (blockExplorerUrls === null || blockExplorerUrls === void 0 ? void 0 : blockExplorerUrls[0]) || \"\"\n                    });\n\n                  case 10:\n                  case \"end\":\n                    return _context47.stop();\n                }\n              }\n            }, _callee47);\n          }));\n\n          function addNewChainConfig(_x40) {\n            return _addNewChainConfig.apply(this, arguments);\n          }\n\n          return addNewChainConfig;\n        }(),\n        switchSolanaChain: function () {\n          var _switchSolanaChain = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee48(req) {\n            return _regeneratorRuntime().wrap(function _callee48$(_context48) {\n              while (1) {\n                switch (_context48.prev = _context48.next) {\n                  case 0:\n                    if (req.params) {\n                      _context48.next = 2;\n                      break;\n                    }\n\n                    throw ethErrors.rpc.invalidParams(\"Missing request params\");\n\n                  case 2:\n                    if (req.params.chainId) {\n                      _context48.next = 4;\n                      break;\n                    }\n\n                    throw ethErrors.rpc.invalidParams(\"Missing chainId\");\n\n                  case 4:\n                    _context48.next = 6;\n                    return _this2.switchChain(req.params);\n\n                  case 6:\n                  case \"end\":\n                    return _context48.stop();\n                }\n              }\n            }, _callee48);\n          }));\n\n          function switchSolanaChain(_x41) {\n            return _switchSolanaChain.apply(this, arguments);\n          }\n\n          return switchSolanaChain;\n        }()\n      };\n      var chainSwitchMiddleware = createChainSwitchMiddleware(chainSwitchHandlers);\n      return chainSwitchMiddleware;\n    }\n  }, {\n    key: \"getAccountMiddleware\",\n    value: function getAccountMiddleware() {\n      var _this3 = this;\n\n      var accountHandlers = {\n        updatePrivatekey: function () {\n          var _updatePrivatekey = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee49(req) {\n            var privateKey;\n            return _regeneratorRuntime().wrap(function _callee49$(_context49) {\n              while (1) {\n                switch (_context49.prev = _context49.next) {\n                  case 0:\n                    if (req.params) {\n                      _context49.next = 2;\n                      break;\n                    }\n\n                    throw ethErrors.rpc.invalidParams(\"Missing request params\");\n\n                  case 2:\n                    if (req.params.privateKey) {\n                      _context49.next = 4;\n                      break;\n                    }\n\n                    throw ethErrors.rpc.invalidParams(\"Missing privateKey\");\n\n                  case 4:\n                    privateKey = req.params.privateKey;\n                    _context49.next = 7;\n                    return _this3.updateAccount({\n                      privateKey: privateKey\n                    });\n\n                  case 7:\n                  case \"end\":\n                    return _context49.stop();\n                }\n              }\n            }, _callee49);\n          }));\n\n          function updatePrivatekey(_x42) {\n            return _updatePrivatekey.apply(this, arguments);\n          }\n\n          return updatePrivatekey;\n        }()\n      };\n      return createAccountMiddleware(accountHandlers);\n    }\n  }]);\n\n  return SolanaPrivateKeyProvider;\n}(BaseProvider);\n\n_defineProperty(SolanaPrivateKeyProvider, \"getProviderInstance\", /*#__PURE__*/function () {\n  var _ref14 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee50(params) {\n    var providerFactory;\n    return _regeneratorRuntime().wrap(function _callee50$(_context50) {\n      while (1) {\n        switch (_context50.prev = _context50.next) {\n          case 0:\n            providerFactory = new SolanaPrivateKeyProvider({\n              config: {\n                chainConfig: params.chainConfig\n              }\n            });\n            _context50.next = 3;\n            return providerFactory.setupProvider(params.privKey);\n\n          case 3:\n            return _context50.abrupt(\"return\", providerFactory);\n\n          case 4:\n          case \"end\":\n            return _context50.stop();\n        }\n      }\n    }, _callee50);\n  }));\n\n  return function (_x43) {\n    return _ref14.apply(this, arguments);\n  };\n}());\n\nvar SolanaWallet = /*#__PURE__*/function () {\n  function SolanaWallet(provider) {\n    _classCallCheck(this, SolanaWallet);\n\n    _defineProperty(this, \"provider\", void 0);\n\n    this.provider = provider;\n  }\n\n  _createClass(SolanaWallet, [{\n    key: \"requestAccounts\",\n    value: function () {\n      var _requestAccounts4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee51() {\n        var accounts;\n        return _regeneratorRuntime().wrap(function _callee51$(_context51) {\n          while (1) {\n            switch (_context51.prev = _context51.next) {\n              case 0:\n                _context51.next = 2;\n                return this.provider.request({\n                  method: \"requestAccounts\",\n                  params: {}\n                });\n\n              case 2:\n                accounts = _context51.sent;\n                return _context51.abrupt(\"return\", accounts);\n\n              case 4:\n              case \"end\":\n                return _context51.stop();\n            }\n          }\n        }, _callee51, this);\n      }));\n\n      function requestAccounts() {\n        return _requestAccounts4.apply(this, arguments);\n      }\n\n      return requestAccounts;\n    }()\n  }, {\n    key: \"signAndSendTransaction\",\n    value: function () {\n      var _signAndSendTransaction4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee52(transaction) {\n        var _yield$this$provider$, signature;\n\n        return _regeneratorRuntime().wrap(function _callee52$(_context52) {\n          while (1) {\n            switch (_context52.prev = _context52.next) {\n              case 0:\n                _context52.next = 2;\n                return this.provider.request({\n                  method: \"signAndSendTransaction\",\n                  params: {\n                    message: transaction\n                  }\n                });\n\n              case 2:\n                _yield$this$provider$ = _context52.sent;\n                signature = _yield$this$provider$.signature;\n                return _context52.abrupt(\"return\", {\n                  signature: signature\n                });\n\n              case 5:\n              case \"end\":\n                return _context52.stop();\n            }\n          }\n        }, _callee52, this);\n      }));\n\n      function signAndSendTransaction(_x44) {\n        return _signAndSendTransaction4.apply(this, arguments);\n      }\n\n      return signAndSendTransaction;\n    }()\n  }, {\n    key: \"signTransaction\",\n    value: function () {\n      var _signTransaction4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee53(transaction) {\n        var signedTransaction;\n        return _regeneratorRuntime().wrap(function _callee53$(_context53) {\n          while (1) {\n            switch (_context53.prev = _context53.next) {\n              case 0:\n                _context53.next = 2;\n                return this.provider.request({\n                  method: \"signTransaction\",\n                  params: {\n                    message: transaction\n                  }\n                });\n\n              case 2:\n                signedTransaction = _context53.sent;\n                return _context53.abrupt(\"return\", signedTransaction);\n\n              case 4:\n              case \"end\":\n                return _context53.stop();\n            }\n          }\n        }, _callee53, this);\n      }));\n\n      function signTransaction(_x45) {\n        return _signTransaction4.apply(this, arguments);\n      }\n\n      return signTransaction;\n    }()\n  }, {\n    key: \"signAllTransactions\",\n    value: function () {\n      var _signAllTransactions4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee54(transactions) {\n        var signedTransactions;\n        return _regeneratorRuntime().wrap(function _callee54$(_context54) {\n          while (1) {\n            switch (_context54.prev = _context54.next) {\n              case 0:\n                _context54.next = 2;\n                return this.provider.request({\n                  method: \"signAllTransactions\",\n                  params: {\n                    message: transactions\n                  }\n                });\n\n              case 2:\n                signedTransactions = _context54.sent;\n                return _context54.abrupt(\"return\", signedTransactions);\n\n              case 4:\n              case \"end\":\n                return _context54.stop();\n            }\n          }\n        }, _callee54, this);\n      }));\n\n      function signAllTransactions(_x46) {\n        return _signAllTransactions4.apply(this, arguments);\n      }\n\n      return signAllTransactions;\n    }()\n  }, {\n    key: \"signMessage\",\n    value: function () {\n      var _signMessage4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee55(data) {\n        var response;\n        return _regeneratorRuntime().wrap(function _callee55$(_context55) {\n          while (1) {\n            switch (_context55.prev = _context55.next) {\n              case 0:\n                _context55.next = 2;\n                return this.provider.request({\n                  method: \"signMessage\",\n                  params: {\n                    message: data\n                  }\n                });\n\n              case 2:\n                response = _context55.sent;\n                return _context55.abrupt(\"return\", response);\n\n              case 4:\n              case \"end\":\n                return _context55.stop();\n            }\n          }\n        }, _callee55, this);\n      }));\n\n      function signMessage(_x47) {\n        return _signMessage4.apply(this, arguments);\n      }\n\n      return signMessage;\n    }()\n  }, {\n    key: \"request\",\n    value: function () {\n      var _request = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee56(args) {\n        var result;\n        return _regeneratorRuntime().wrap(function _callee56$(_context56) {\n          while (1) {\n            switch (_context56.prev = _context56.next) {\n              case 0:\n                _context56.next = 2;\n                return this.provider.request(args);\n\n              case 2:\n                result = _context56.sent;\n                return _context56.abrupt(\"return\", result);\n\n              case 4:\n              case \"end\":\n                return _context56.stop();\n            }\n          }\n        }, _callee56, this);\n      }));\n\n      function request(_x48) {\n        return _request.apply(this, arguments);\n      }\n\n      return request;\n    }()\n  }]);\n\n  return SolanaWallet;\n}();\n\nexport { PhantomInjectedProvider, SlopeInjectedProxyProvider, SolanaPrivateKeyProvider, SolanaWallet, SolflareInjectedProvider, SolletInjectedProvider, TorusInjectedProvider };","map":{"version":3,"mappings":"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","names":["createChainIdMiddleware","chainId","req","res","next","end","method","result","createProviderConfigMiddleware","providerConfig","createConfigMiddleware","mergeMiddleware","createJsonRpcClient","rpcTarget","fetchMiddleware","createFetchMiddleware","networkMiddleware","_ref","getAccounts","createAsyncMiddleware","request","response","Error","accounts","undefined","_ref2","requestAccounts","targetMethod","handler","createSolanaMiddleware","providerHandlers","signTransaction","signAndSendTransaction","signAllTransactions","signMessage","getPrivateKey","getSecretKey","createRequestAccountsMiddleware","createGetAccountsMiddleware","createGenericJRPCMiddleware","createChainSwitchMiddleware","_ref3","addNewChainConfig","switchSolanaChain","_ref4","updatePrivatekey","BaseInjectedProvider","constructor","config","state","chainConfig","chainNamespace","CHAIN_NAMESPACES","SOLANA","_","Promise","resolve","injectedProvider","engine","JRPCEngine","getProviderHandlers","solanaMiddleware","push","configMiddleware","injectedProviderProxy","getInjectedProviderProxy","provider","providerFromEngine","updateProviderEngineProxy","lookupNetwork","update","BaseProvider","getBaseProviderHandlers","publicKey","bs58","encode","toBytes","ethErrors","rpc","methodNotSupported","params","message","transaction","_req$params","_req$params2","length","invalidParams","txRes","signature","createInjectedProviderProxyMiddleware","_next","PhantomInjectedProvider","getSlopeHandlers","getProviderEngineProxy","connect","data","txMessage","invalidRequest","serializeMessage","PublicKey","decode","addSignature","custom","code","conn","Connection","sendRawTransaction","serialize","allTxns","unsignedTx","i","msg","signatures","SlopeInjectedProxyProvider","bind","getSolflareHandlers","solflareProviderHandlers","SolflareInjectedProvider","getSolletHandlers","sign","SolletInjectedProvider","getTorusHandlers","_req$params3","sendTransaction","_req$params4","_req$params5","transactions","TorusInjectedProvider","handleInjectedProviderUpdate","setupEngine","connectedChainId","connectedHexChainId","isHexStrict","toString","parseInt","WalletInitializationError","rpcConnectionError","emit","on","configure","_objectSpread","setupProvider","privKey","keyPairGenerator","Keypair","fromSecretKey","Buffer","from","keyPair","toBase58","secretKey","partialSign","signedMsg","nacl","detached","_providerEngineProxy","sig","txns","_req$params6","tx","SolanaPrivateKeyProvider","privateKey","getChainSwitchMiddleware","getAccountMiddleware","existingKey","getChainConfig","health","chainSwitchHandlers","chainName","rpcUrls","blockExplorerUrls","nativeCurrency","addChain","ticker","symbol","tickerName","name","displayName","blockExplorer","switchChain","chainSwitchMiddleware","accountHandlers","updateAccount","createAccountMiddleware","providerFactory","SolanaWallet","_defineProperty","signedTransaction","signedTransactions","args"],"sources":["../src/rpc/JrpcClient.ts","../src/rpc/solanaRpcMiddlewares.ts","../src/providers/injectedProviders/base/baseInjectedProvider.ts","../src/providers/injectedProviders/base/providerHandlers.ts","../src/providers/injectedProviders/injectedProviderProxy.ts","../src/providers/injectedProviders/phantom/phantomInjectedProvider.ts","../src/providers/injectedProviders/slope/providerHandlers.ts","../src/providers/injectedProviders/slope/slopeInjectedProvider.ts","../src/providers/injectedProviders/solflare/providerHandlers.ts","../src/providers/injectedProviders/solflare/solflareInjectedProvider.ts","../src/providers/injectedProviders/sollet/providerHandlers.ts","../src/providers/injectedProviders/sollet/solletInjectedProvider.ts","../src/providers/injectedProviders/torus/providerHandlers.ts","../src/providers/injectedProviders/torus/torusInjectedProvider.ts","../src/providers/privateKeyProvider/solanaPrivateKeyUtils.ts","../src/providers/privateKeyProvider/solanaPrivateKeyProvider.ts","../src/solanaWallet.ts"],"sourcesContent":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]},"metadata":{},"sourceType":"module"}